var km=Object.create;var ja=Object.defineProperty,Nm=Object.defineProperties,Om=Object.getOwnPropertyDescriptor,Fm=Object.getOwnPropertyDescriptors,Lm=Object.getOwnPropertyNames,nd=Object.getOwnPropertySymbols,jm=Object.getPrototypeOf,id=Object.prototype.hasOwnProperty,Bm=Object.prototype.propertyIsEnumerable;var rd=(e,t,n)=>t in e?ja(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ce=(e,t)=>{for(var n in t||={})id.call(t,n)&&rd(e,n,t[n]);if(nd)for(var n of nd(t))Bm.call(t,n)&&rd(e,n,t[n]);return e},je=(e,t)=>Nm(e,Fm(t));var Ba=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Hn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Vm=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Lm(t))!id.call(e,i)&&i!==n&&ja(e,i,{get:()=>t[i],enumerable:!(r=Om(t,i))||r.enumerable});return e};var Um=(e,t,n)=>(n=e!=null?km(jm(e)):{},Vm(t||!e||!e.__esModule?ja(n,"default",{value:e,enumerable:!0}):n,e));var Ae=(e,t,n)=>new Promise((r,i)=>{var o=d=>{try{l(n.next(d))}catch(c){i(c)}},s=d=>{try{l(n.throw(d))}catch(c){i(c)}},l=d=>d.done?r(d.value):Promise.resolve(d.value).then(o,s);l((n=n.apply(e,t)).next())});var Ia=Hn(()=>{"use strict"});var Sm=Hn(()=>{"use strict"});var Am=Hn(()=>{"use strict"});var ed=Hn(()=>{"use strict"});var td=Hn(()=>{"use strict"});var Im=Hn(()=>{"use strict"});var Tm=Hn((exports,module)=>{"use strict";(function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=t.pdfjsLib=n():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>t.pdfjsLib=n()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=t.pdfjsLib=n():t["pdfjs-dist/build/pdf"]=t.pdfjsLib=n()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=b,t.bytesToString=B,t.createValidAbsoluteUrl=S,t.getModificationDate=ut,t.getUuid=Rm,t.getVerbosityLevel=oe,t.info=Z,t.isArrayBuffer=Ue,t.isArrayEqual=Et,t.isNodeJS=void 0,t.normalizeUnicode=Na,t.objectFromMap=q,t.objectSize=ie,t.setVerbosityLevel=Q,t.shadow=k,t.string32=G,t.stringToBytes=U,t.stringToPDFString=pe,t.stringToUTF8String=_e,t.unreachable=C,t.utf8StringToString=Te,t.warn=O;let n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=n;let r=[1,0,0,1,0,0];t.IDENTITY_MATRIX=r;let i=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=i;let o=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=o;let s=1.35;t.LINE_FACTOR=s;let l=.35;t.LINE_DESCENT_FACTOR=l;let d=l/s;t.BASELINE_FACTOR=d;let c={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=c;let a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=a;let u="pdfjs_internal_editor_";t.AnnotationEditorPrefix=u;let f={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=f;let p={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=p;let g={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=g;let h={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=h;let v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=v;let y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=y;let w={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=w;let M={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=M;let T={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=T;let E={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=E;let A={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=A;let j={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=j;let V={O:"PageOpen",C:"PageClose"};t.PageActionEventType=V;let F={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=F;let $={NONE:0,BINARY:1};t.CMapCompressionType=$;let W={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=W;let ne={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=ne;let J=F.WARNINGS;function Q(te){Number.isInteger(te)&&(J=te)}function oe(){return J}function Z(te){J>=F.INFOS&&console.log(`Info: ${te}`)}function O(te){J>=F.WARNINGS&&console.log(`Warning: ${te}`)}function C(te){throw new Error(te)}function b(te,z){te||C(z)}function _(te){switch(te?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function S(te,z=null,H=null){if(!te)return null;try{if(H&&typeof te=="string"&&(H.addDefaultProtocol&&te.startsWith("www.")&&te.match(/\./g)?.length>=2&&(te=`http://${te}`),H.tryConvertEncoding))try{te=_e(te)}catch{}let ue=z?new URL(te,z):new URL(te);if(_(ue))return ue}catch{}return null}function k(te,z,H,ue=!1){return Object.defineProperty(te,z,{value:H,enumerable:!ue,configurable:!0,writable:!1}),H}let N=function(){function z(H,ue){this.constructor===z&&C("Cannot initialize BaseException."),this.message=H,this.name=ue}return z.prototype=new Error,z.constructor=z,z}();t.BaseException=N;class L extends N{constructor(z,H){super(z,"PasswordException"),this.code=H}}t.PasswordException=L;class x extends N{constructor(z,H){super(z,"UnknownErrorException"),this.details=H}}t.UnknownErrorException=x;class m extends N{constructor(z){super(z,"InvalidPDFException")}}t.InvalidPDFException=m;class D extends N{constructor(z){super(z,"MissingPDFException")}}t.MissingPDFException=D;class I extends N{constructor(z,H){super(z,"UnexpectedResponseException"),this.status=H}}t.UnexpectedResponseException=I;class R extends N{constructor(z){super(z,"FormatError")}}t.FormatError=R;class P extends N{constructor(z){super(z,"AbortException")}}t.AbortException=P;function B(te){(typeof te!="object"||te?.length===void 0)&&C("Invalid argument for bytesToString");let z=te.length,H=8192;if(z<H)return String.fromCharCode.apply(null,te);let ue=[];for(let Fe=0;Fe<z;Fe+=H){let tt=Math.min(Fe+H,z),nt=te.subarray(Fe,tt);ue.push(String.fromCharCode.apply(null,nt))}return ue.join("")}function U(te){typeof te!="string"&&C("Invalid argument for stringToBytes");let z=te.length,H=new Uint8Array(z);for(let ue=0;ue<z;++ue)H[ue]=te.charCodeAt(ue)&255;return H}function G(te){return String.fromCharCode(te>>24&255,te>>16&255,te>>8&255,te&255)}function ie(te){return Object.keys(te).length}function q(te){let z=Object.create(null);for(let[H,ue]of te)z[H]=ue;return z}function Y(){let te=new Uint8Array(4);return te[0]=1,new Uint32Array(te.buffer,0,1)[0]===1}function X(){try{return new Function(""),!0}catch{return!1}}class K{static get isLittleEndian(){return k(this,"isLittleEndian",Y())}static get isEvalSupported(){return k(this,"isEvalSupported",X())}static get isOffscreenCanvasSupported(){return k(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?k(this,"platform",{isWin:!1,isMac:!1}):k(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return k(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}t.FeatureTest=K;let ee=[...Array(256).keys()].map(te=>te.toString(16).padStart(2,"0"));class le{static makeHexColor(z,H,ue){return`#${ee[z]}${ee[H]}${ee[ue]}`}static scaleMinMax(z,H){let ue;z[0]?(z[0]<0&&(ue=H[0],H[0]=H[1],H[1]=ue),H[0]*=z[0],H[1]*=z[0],z[3]<0&&(ue=H[2],H[2]=H[3],H[3]=ue),H[2]*=z[3],H[3]*=z[3]):(ue=H[0],H[0]=H[2],H[2]=ue,ue=H[1],H[1]=H[3],H[3]=ue,z[1]<0&&(ue=H[2],H[2]=H[3],H[3]=ue),H[2]*=z[1],H[3]*=z[1],z[2]<0&&(ue=H[0],H[0]=H[1],H[1]=ue),H[0]*=z[2],H[1]*=z[2]),H[0]+=z[4],H[1]+=z[4],H[2]+=z[5],H[3]+=z[5]}static transform(z,H){return[z[0]*H[0]+z[2]*H[1],z[1]*H[0]+z[3]*H[1],z[0]*H[2]+z[2]*H[3],z[1]*H[2]+z[3]*H[3],z[0]*H[4]+z[2]*H[5]+z[4],z[1]*H[4]+z[3]*H[5]+z[5]]}static applyTransform(z,H){let ue=z[0]*H[0]+z[1]*H[2]+H[4],Fe=z[0]*H[1]+z[1]*H[3]+H[5];return[ue,Fe]}static applyInverseTransform(z,H){let ue=H[0]*H[3]-H[1]*H[2],Fe=(z[0]*H[3]-z[1]*H[2]+H[2]*H[5]-H[4]*H[3])/ue,tt=(-z[0]*H[1]+z[1]*H[0]+H[4]*H[1]-H[5]*H[0])/ue;return[Fe,tt]}static getAxialAlignedBoundingBox(z,H){let ue=this.applyTransform(z,H),Fe=this.applyTransform(z.slice(2,4),H),tt=this.applyTransform([z[0],z[3]],H),nt=this.applyTransform([z[2],z[1]],H);return[Math.min(ue[0],Fe[0],tt[0],nt[0]),Math.min(ue[1],Fe[1],tt[1],nt[1]),Math.max(ue[0],Fe[0],tt[0],nt[0]),Math.max(ue[1],Fe[1],tt[1],nt[1])]}static inverseTransform(z){let H=z[0]*z[3]-z[1]*z[2];return[z[3]/H,-z[1]/H,-z[2]/H,z[0]/H,(z[2]*z[5]-z[4]*z[3])/H,(z[4]*z[1]-z[5]*z[0])/H]}static singularValueDecompose2dScale(z){let H=[z[0],z[2],z[1],z[3]],ue=z[0]*H[0]+z[1]*H[2],Fe=z[0]*H[1]+z[1]*H[3],tt=z[2]*H[0]+z[3]*H[2],nt=z[2]*H[1]+z[3]*H[3],hr=(ue+nt)/2,pr=Math.sqrt((ue+nt)**2-4*(ue*nt-tt*Fe))/2,Un=hr+pr||1,pt=hr-pr||1;return[Math.sqrt(Un),Math.sqrt(pt)]}static normalizeRect(z){let H=z.slice(0);return z[0]>z[2]&&(H[0]=z[2],H[2]=z[0]),z[1]>z[3]&&(H[1]=z[3],H[3]=z[1]),H}static intersect(z,H){let ue=Math.max(Math.min(z[0],z[2]),Math.min(H[0],H[2])),Fe=Math.min(Math.max(z[0],z[2]),Math.max(H[0],H[2]));if(ue>Fe)return null;let tt=Math.max(Math.min(z[1],z[3]),Math.min(H[1],H[3])),nt=Math.min(Math.max(z[1],z[3]),Math.max(H[1],H[3]));return tt>nt?null:[ue,tt,Fe,nt]}static bezierBoundingBox(z,H,ue,Fe,tt,nt,hr,pr){let Un=[],pt=[[],[]],gr,An,wo,Qe,Do,Co,Oa,Fa;for(let La=0;La<2;++La){if(La===0?(An=6*z-12*ue+6*tt,gr=-3*z+9*ue-9*tt+3*hr,wo=3*ue-3*z):(An=6*H-12*Fe+6*nt,gr=-3*H+9*Fe-9*nt+3*pr,wo=3*Fe-3*H),Math.abs(gr)<1e-12){if(Math.abs(An)<1e-12)continue;Qe=-wo/An,0<Qe&&Qe<1&&Un.push(Qe);continue}Oa=An*An-4*wo*gr,Fa=Math.sqrt(Oa),!(Oa<0)&&(Do=(-An+Fa)/(2*gr),0<Do&&Do<1&&Un.push(Do),Co=(-An-Fa)/(2*gr),0<Co&&Co<1&&Un.push(Co))}let gi=Un.length,wt,mi=gi;for(;gi--;)Qe=Un[gi],wt=1-Qe,pt[0][gi]=wt*wt*wt*z+3*wt*wt*Qe*ue+3*wt*Qe*Qe*tt+Qe*Qe*Qe*hr,pt[1][gi]=wt*wt*wt*H+3*wt*wt*Qe*Fe+3*wt*Qe*Qe*nt+Qe*Qe*Qe*pr;return pt[0][mi]=z,pt[1][mi]=H,pt[0][mi+1]=hr,pt[1][mi+1]=pr,pt[0].length=pt[1].length=mi+2,[Math.min(...pt[0]),Math.min(...pt[1]),Math.max(...pt[0]),Math.max(...pt[1])]}}t.Util=le;let de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pe(te){if(te[0]>="\xEF"){let H;if(te[0]==="\xFE"&&te[1]==="\xFF"?H="utf-16be":te[0]==="\xFF"&&te[1]==="\xFE"?H="utf-16le":te[0]==="\xEF"&&te[1]==="\xBB"&&te[2]==="\xBF"&&(H="utf-8"),H)try{let ue=new TextDecoder(H,{fatal:!0}),Fe=U(te);return ue.decode(Fe)}catch(ue){O(`stringToPDFString: "${ue}".`)}}let z=[];for(let H=0,ue=te.length;H<ue;H++){let Fe=de[te.charCodeAt(H)];z.push(Fe?String.fromCharCode(Fe):te.charAt(H))}return z.join("")}function _e(te){return decodeURIComponent(escape(te))}function Te(te){return unescape(encodeURIComponent(te))}function Ue(te){return typeof te=="object"&&te?.byteLength!==void 0}function Et(te,z){if(te.length!==z.length)return!1;for(let H=0,ue=te.length;H<ue;H++)if(te[H]!==z[H])return!1;return!0}function ut(te=new Date){return[te.getUTCFullYear().toString(),(te.getUTCMonth()+1).toString().padStart(2,"0"),te.getUTCDate().toString().padStart(2,"0"),te.getUTCHours().toString().padStart(2,"0"),te.getUTCMinutes().toString().padStart(2,"0"),te.getUTCSeconds().toString().padStart(2,"0")].join("")}class fr{#e=!1;constructor(){this.promise=new Promise((z,H)=>{this.resolve=ue=>{this.#e=!0,z(ue)},this.reject=ue=>{this.#e=!0,H(ue)}})}get settled(){return this.#e}}t.PromiseCapability=fr;let dt=null,fn=null;function Na(te){return dt||(dt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fn=new Map([["\uFB05","\u017Ft"]])),te.replaceAll(dt,(z,H,ue)=>H?H.normalize("NFKC"):fn.get(ue))}function Rm(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let te=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(te);else for(let z=0;z<32;z++)te[z]=Math.floor(Math.random()*255);return B(te)}let Pm="pdfjs_internal_id_";t.AnnotationPrefix=Pm},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(e){if(typeof e=="string"||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),typeof e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let t=new PDFDocumentLoadingTask,{docId:n}=t,r=e.url?getUrlProp(e.url):null,i=e.data?getDataProp(e.data):null,o=e.httpHeaders||null,s=e.withCredentials===!0,l=e.password??null,d=e.range instanceof PDFDataRangeTransport?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,a=e.worker instanceof PDFWorker?e.worker:null,u=e.verbosity,f=typeof e.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(e.docBaseUrl)?e.docBaseUrl:null,p=typeof e.cMapUrl=="string"?e.cMapUrl:null,g=e.cMapPacked!==!1,h=e.CMapReaderFactory||DefaultCMapReaderFactory,v=typeof e.standardFontDataUrl=="string"?e.standardFontDataUrl:null,y=e.StandardFontDataFactory||DefaultStandardFontDataFactory,w=e.stopAtErrors!==!0,M=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,T=e.isEvalSupported!==!1,E=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!_util.isNodeJS,A=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,j=typeof e.disableFontFace=="boolean"?e.disableFontFace:_util.isNodeJS,V=e.fontExtraProperties===!0,F=e.enableXfa===!0,$=e.ownerDocument||globalThis.document,W=e.disableRange===!0,ne=e.disableStream===!0,J=e.disableAutoFetch===!0,Q=e.pdfBug===!0,oe=d?d.length:e.length??NaN,Z=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!_util.isNodeJS&&!j,O=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:h===_display_utils.DOMCMapReaderFactory&&y===_display_utils.DOMStandardFontDataFactory&&p&&v&&(0,_display_utils.isValidFetchUrl)(p,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI),C=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:$}),b=e.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:$}),_=null;(0,_util.setVerbosityLevel)(u);let S={canvasFactory:C,filterFactory:b};if(O||(S.cMapReaderFactory=new h({baseUrl:p,isCompressed:g}),S.standardFontDataFactory=new y({baseUrl:v})),!a){let L={verbosity:u,port:_worker_options.GlobalWorkerOptions.workerPort};a=L.port?PDFWorker.fromPort(L):new PDFWorker(L),t._worker=a}let k={docId:n,apiVersion:"3.11.174",data:i,password:l,disableAutoFetch:J,rangeChunkSize:c,length:oe,docBaseUrl:f,enableXfa:F,evaluatorOptions:{maxImageSize:M,disableFontFace:j,ignoreErrors:w,isEvalSupported:T,isOffscreenCanvasSupported:E,canvasMaxAreaInBytes:A,fontExtraProperties:V,useSystemFonts:Z,cMapUrl:O?p:null,standardFontDataUrl:O?v:null}},N={ignoreErrors:w,isEvalSupported:T,disableFontFace:j,fontExtraProperties:V,enableXfa:F,ownerDocument:$,disableAutoFetch:J,pdfBug:Q,styleElement:_};return a.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");let L=_fetchDocument(a,k),x=new Promise(function(m){let D;d?D=new _transport_stream.PDFDataTransportStream({length:oe,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:W,disableStream:ne},d):i||(D=(R=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(R):(0,_display_utils.isValidFetchUrl)(R.url)?new _displayFetch_stream.PDFFetchStream(R):new _displayNetwork.PDFNetworkStream(R))({url:r,length:oe,httpHeaders:o,withCredentials:s,rangeChunkSize:c,disableRange:W,disableStream:ne})),m(D)});return Promise.all([L,x]).then(function([m,D]){if(t.destroyed)throw new Error("Loading aborted");let I=new _message_handler.MessageHandler(n,m,a.port),R=new WorkerTransport(I,t,D,N,S);t._transport=R,I.send("Ready",null)})}).catch(t._capability.reject),t}function _fetchDocument(e,t){return Ae(this,null,function*(){if(e.destroyed)throw new Error("Worker was destroyed");let n=yield e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n})}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(_util.isNodeJS&&typeof e=="string")return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_util.isNodeJS&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return(0,_util.stringToBytes)(e);if(typeof e=="object"&&!isNaN(e?.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return Ae(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,n,r=!1,i=null){this.length=t,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,n){for(let r of this._rangeListeners)r(t,n)}onDataProgress(t,n){this._readyCapability.promise.then(()=>{for(let r of this._progressListeners)r(t,n)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(let n of this._progressiveReadListeners)n(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,n){this._pdfInfo=t,this._transport=n,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(r=>{if(!r)return r;let i=[];for(let o in r)i.push(...r[o]);return i}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(t,n,r,i=!1){this._pageIndex=t,this._pageInfo=n,this._transport=r,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:t="display"}={}){let n=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return Ae(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:t,viewport:n,intent:r="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:l=null,annotationCanvasMap:d=null,pageColors:c=null,printAnnotationStorage:a=null}){this._stats?.time("Overall");let u=this._transport.getRenderingIntent(r,i,a);this.#t=!1,this.#r(),l||(l=this._transport.getOptionalContentConfig());let f=this._intentStates.get(u.cacheKey);f||(f=Object.create(null),this._intentStates.set(u.cacheKey,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);let p=!!(u.renderingIntent&_util.RenderingIntentFlag.PRINT);f.displayReadyCapability||(f.displayReadyCapability=new _util.PromiseCapability,f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));let g=y=>{f.renderTasks.delete(h),(this._maybeCleanupAfterRender||p)&&(this.#t=!0),this.#n(!p),y?(h.capability.reject(y),this._abortOperatorList({intentState:f,reason:y instanceof Error?y:new Error(y)})):h.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},h=new InternalRenderTask({callback:g,params:{canvasContext:t,viewport:n,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:c});(f.renderTasks||=new Set).add(h);let v=h.task;return Promise.all([f.displayReadyCapability.promise,l]).then(([y,w])=>{if(this.destroyed){g();return}this._stats?.time("Rendering"),h.initializeGraphics({transparency:y,optionalContentConfig:w}),h.operatorListChanged()}).catch(g),v}getOperatorList({intent:t="display",annotationMode:n=_util.AnnotationMode.ENABLE,printAnnotationStorage:r=null}={}){function i(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(l))}let o=this._transport.getRenderingIntent(t,n,r,!0),s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let l;return s.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,s.opListReadCapability=new _util.PromiseCapability,(s.renderTasks||=new Set).add(l),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));let n=this.streamTextContent(t);return new Promise(function(r,i){function o(){s.read().then(function({value:d,done:c}){if(c){r(l);return}Object.assign(l.styles,d.styles),l.items.push(...d.items),o()},i)}let s=n.getReader(),l={items:[],styles:Object.create(null)};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let t=[];for(let n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(let r of n.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(t)}cleanup(t=!1){this.#t=!0;let n=this.#n(!1);return t&&n&&(this._stats&&=new _display_utils.StatTimer),n}#n(t=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(t)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(t,n){let r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let r=0,i=t.length;r<i;r++)n.operatorList.fnArray.push(t.fnArray[r]),n.operatorList.argsArray.push(t.argsArray[r]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(let r of n.renderTasks)r.operatorListChanged();t.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:r}){let{map:i,transfers:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:i},o).getReader(),d=this._intentStates.get(n);d.streamReader=l;let c=()=>{l.read().then(({value:a,done:u})=>{if(u){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(a,d),c())},a=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(let u of d.renderTasks)u.operatorListChanged();this.#n(!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(a);else if(d.opListReadCapability)d.opListReadCapability.reject(a);else throw a}})};c()}_abortOperatorList({intentState:t,reason:n,force:r=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let i=RENDERING_CANCELLED_TIMEOUT;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},i);return}}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(let[i,o]of this._intentStates)if(o===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(t,n){let r={data:structuredClone(t,n?{transfer:n}:null)};this.#t.then(()=>{for(let i of this.#e)i.call(this,r)})}addEventListener(t,n){this.#e.add(n)}removeEventListener(t,n){this.#e.delete(n)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof Ba=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}let r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){let t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))}}class PDFWorker{static#workerPorts;constructor({name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){if(PDFWorker.#workerPorts?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",i),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};t.addEventListener("error",i),n.on("test",s=>{if(t.removeEventListener("error",i),this.destroyed){r();return}s?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())}),n.on("ready",s=>{if(t.removeEventListener("error",i),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});let o=()=>{let s=new Uint8Array;n.send("test",s,[s.buffer])};o();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new LoopbackPort;this._port=t;let n=`fake${PDFWorkerUtil.fakeWorkerId++}`,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);let i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=this.#workerPorts?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>Ae(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof Ba=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(t,n,r,i,o){this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(t,n=null){let r=this.#e.get(t);if(r)return r;let i=this.messageHandler.sendWithPromise(t,n);return this.#e.set(t,i),i}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(t,n=_util.AnnotationMode.ENABLE,r=null,i=!1){let o=_util.RenderingIntentFlag.DISPLAY,s=_annotation_storage.SerializableEmpty;switch(t){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(n){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,s=(o&_util.RenderingIntentFlag.PRINT&&r instanceof _annotation_storage.PrintAnnotationStorage?r:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:`${o}_${s.hash}`,annotationStorageSerializable:s}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));let t=[];for(let r of this.#t.values())t.push(r._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(r,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}(0,_util.assert)(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),t.on("ReaderHeadersReady",r=>{let i=new _util.PromiseCapability,o=this._fullReader;return o.headersReady.then(()=>{(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),o.onProgress=s=>{n.onProgress?.({loaded:s.loaded,total:s.total})}),i.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},i.reject),i.promise}),t.on("GetRangeReader",(r,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:l}){if(l){i.close();return}(0,_util.assert)(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(r,this))}),t.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":i=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(i)}),t.on("PasswordRequest",r=>{if(this.#r=new _util.PromiseCapability,n.onPassword){let i=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};try{n.onPassword(i,r.code)}catch(o){this.#r.reject(o)}}else this.#r.reject(new _util.PasswordException(r.message,r.code));return this.#r.promise}),t.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),t.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),t.on("commonobj",([r,i,o])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(i){case"Font":let s=this._params;if("error"in o){let c=o.error;(0,_util.warn)(`Error during font loading: ${c}`),this.commonObjs.resolve(r,c);break}let l=s.pdfBug&&globalThis.FontInspector?.enabled?(c,a)=>globalThis.FontInspector.fontAdded(c,a):null,d=new _font_loader.FontFaceObject(o,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,inspectFont:l});this.fontLoader.bind(d).catch(c=>t.sendWithPromise("FontFallback",{id:r})).finally(()=>{!s.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}}),t.on("obj",([r,i,o,s])=>{if(this.destroyed)return;let l=this.#t.get(i);if(!l.objs.has(r))switch(o){case"Image":if(l.objs.resolve(r,s),s){let d;if(s.bitmap){let{width:c,height:a}=s;d=c*a*4}else d=s.data?.length||0;d>_util.MAX_IMAGE_SIZE_TO_CACHE&&(l._maybeCleanupAfterRender=!0)}break;case"Pattern":l.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${o}`)}}),t.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),t.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:t,transfers:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));let n=t-1,r=this.#n.get(n);if(r)return r;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");let s=new PDFPageProxy(n,o,this,this._params.pdfBug);return this.#t.set(n,s),s});return this.#n.set(n,i),i}getPageIndex(t){return typeof t!="object"||t===null||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let t="GetMetadata",n=this.#e.get(t);if(n)return n;let r=this.messageHandler.sendWithPromise(t,null).then(i=>({info:i[0],metadata:i[1]?new _metadata.Metadata(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(t,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(t=!1){return Ae(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}})}get loadingParams(){let{disableAutoFetch:t,enableXfa:n}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t,enableXfa:n})}}class PDFObjects{#e=Object.create(null);#t(t){return this.#e[t]||={capability:new _util.PromiseCapability,data:null}}get(t,n=null){if(n){let i=this.#t(t);return i.capability.promise.then(()=>n(i.data)),null}let r=this.#e[t];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){return this.#e[t]?.capability.settled||!1}resolve(t,n=null){let r=this.#t(t);r.data=n,r.capability.resolve()}clear(){for(let t in this.#e){let{data:n}=this.#e[t];n?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(t){this.#e=t,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(t=0){this.#e.cancel(null,t)}get separateAnnots(){let{separateAnnots:t}=this.#e.operatorList;if(!t)return!1;let{annotationCanvasMap:n}=this.#e;return t.form||t.canvas&&n?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:l,canvasFactory:d,filterFactory:c,useRequestAnimationFrame:a=!1,pdfBug:u=!1,pageColors:f=null}){this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=d,this.filterFactory=c,this._pdfBug=u,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=a===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:r,viewport:i,transform:o,background:s}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return Ae(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(4),o=n(8);let s=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=s;class l{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(a,u){let f=this.#t.get(a);return f===void 0?u:Object.assign(u,f)}getRawValue(a){return this.#t.get(a)}remove(a){if(this.#t.delete(a),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let u of this.#t.values())if(u instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(a,u){let f=this.#t.get(a),p=!1;if(f!==void 0)for(let[g,h]of Object.entries(u))f[g]!==h&&(p=!0,f[g]=h);else p=!0,this.#t.set(a,u);p&&this.#n(),u instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(u.constructor._type)}has(a){return this.#t.has(a)}getAll(){return this.#t.size>0?(0,r.objectFromMap)(this.#t):null}setAll(a){for(let[u,f]of Object.entries(a))this.setValue(u,f)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new d(this)}get serializable(){if(this.#t.size===0)return s;let a=new Map,u=new o.MurmurHash3_64,f=[],p=Object.create(null),g=!1;for(let[h,v]of this.#t){let y=v instanceof i.AnnotationEditor?v.serialize(!1,p):v;y&&(a.set(h,y),u.update(`${h}:${JSON.stringify(y)}`),g||=!!y.bitmap)}if(g)for(let h of a.values())h.bitmap&&f.push(h.bitmap);return a.size>0?{map:a,hash:u.hexdigest(),transfers:f}:s}}t.AnnotationStorage=l;class d extends l{#e;constructor(a){super();let{map:u,hash:f,transfers:p}=a.serializable,g=structuredClone(u,p?{transfer:p}:null);this.#e={map:g,hash:f,transfers:p}}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}t.PrintAnnotationStorage=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(5),i=n(1),o=n(6);class s{#e="";#t=!1;#n=null;#r=null;#a=null;#s=!1;#o=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#i=!1;#h=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#f=!1;#p=s._zIndex++;static _borderLineWidth=-1;static _colorManager=new r.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(c){this.constructor===s&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=c.parent,this.id=c.id,this.width=this.height=null,this.pageIndex=c.parent.pageIndex,this.name=c.name,this.div=null,this._uiManager=c.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=c.isCentered,this._structTreeParentId=null;let{rotation:a,rawDims:{pageWidth:u,pageHeight:f,pageX:p,pageY:g}}=this.parent.viewport;this.rotation=a,this.pageRotation=(360+a-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[u,f],this.pageTranslation=[p,g];let[h,v]=this.parentDimensions;this.x=c.x/h,this.y=c.y/v,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(c){let a=new l({id:c.parent.getNextId(),parent:c.parent,uiManager:c._uiManager});a.annotationElementId=c.annotationElementId,a.deleted=!0,a._uiManager.addToAnnotationStorage(a)}static initialize(c,a=null){if(s._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(f=>[f,c.get(f)])),a?.strings)for(let f of a.strings)s._l10nPromise.set(f,c.get(f));if(s._borderLineWidth!==-1)return;let u=getComputedStyle(document.documentElement);s._borderLineWidth=parseFloat(u.getPropertyValue("--outline-width"))||0}static updateDefaultParams(c,a){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(c){return!1}static paste(c,a){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#f}set _isDraggable(c){this.#f=c,this.div?.classList.toggle("draggable",c)}center(){let[c,a]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*a/(c*2),this.y+=this.width*c/(a*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*a/(c*2),this.y-=this.width*c/(a*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(c){this._uiManager.addCommands(c)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(c){c!==null&&(this.pageIndex=c.pageIndex,this.pageDimensions=c.pageDimensions),this.parent=c}focusin(c){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(c){!this._focusEventsAllowed||!this.isAttachedToDOM||c.relatedTarget?.closest(`#${this.id}`)||(c.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(c,a,u,f){let[p,g]=this.parentDimensions;[u,f]=this.screenToPageTranslation(u,f),this.x=(c+u)/p,this.y=(a+f)/g,this.fixAndSetPosition()}#v([c,a],u,f){[u,f]=this.screenToPageTranslation(u,f),this.x+=u/c,this.y+=f/a,this.fixAndSetPosition()}translate(c,a){this.#v(this.parentDimensions,c,a)}translateInPage(c,a){this.#v(this.pageDimensions,c,a),this.div.scrollIntoView({block:"nearest"})}drag(c,a){let[u,f]=this.parentDimensions;if(this.x+=c/u,this.y+=a/f,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:y,y:w}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,w)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:p,y:g}=this,[h,v]=this.#m();p+=h,g+=v,this.div.style.left=`${(100*p).toFixed(2)}%`,this.div.style.top=`${(100*g).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){let[c,a]=this.parentDimensions,{_borderLineWidth:u}=s,f=u/c,p=u/a;switch(this.rotation){case 90:return[-f,p];case 180:return[f,p];case 270:return[f,-p];default:return[-f,-p]}}fixAndSetPosition(){let[c,a]=this.pageDimensions,{x:u,y:f,width:p,height:g}=this;switch(p*=c,g*=a,u*=c,f*=a,this.rotation){case 0:u=Math.max(0,Math.min(c-p,u)),f=Math.max(0,Math.min(a-g,f));break;case 90:u=Math.max(0,Math.min(c-g,u)),f=Math.min(a,Math.max(p,f));break;case 180:u=Math.min(c,Math.max(p,u)),f=Math.min(a,Math.max(g,f));break;case 270:u=Math.min(c,Math.max(g,u)),f=Math.max(0,Math.min(a-p,f));break}this.x=u/=c,this.y=f/=a;let[h,v]=this.#m();u+=h,f+=v;let{style:y}=this.div;y.left=`${(100*u).toFixed(2)}%`,y.top=`${(100*f).toFixed(2)}%`,this.moveInDOM()}static#g(c,a,u){switch(u){case 90:return[a,-c];case 180:return[-c,-a];case 270:return[-a,c];default:return[c,a]}}screenToPageTranslation(c,a){return s.#g(c,a,this.parentRotation)}pageTranslationToScreen(c,a){return s.#g(c,a,360-this.parentRotation)}#u(c){switch(c){case 90:{let[a,u]=this.pageDimensions;return[0,-a/u,u/a,0]}case 180:return[-1,0,0,-1];case 270:{let[a,u]=this.pageDimensions;return[0,a/u,-u/a,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:c,pageDimensions:[a,u]}=this,f=a*c,p=u*c;return i.FeatureTest.isCSSRoundSupported?[Math.round(f),Math.round(p)]:[f,p]}setDims(c,a){let[u,f]=this.parentDimensions;this.div.style.width=`${(100*c/u).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*a/f).toFixed(2)}%`),this.#n?.classList.toggle("small",c<s.SMALL_EDITOR_SIZE||a<s.SMALL_EDITOR_SIZE)}fixDims(){let{style:c}=this.div,{height:a,width:u}=c,f=u.endsWith("%"),p=!this.#s&&a.endsWith("%");if(f&&p)return;let[g,h]=this.parentDimensions;f||(c.width=`${(100*parseFloat(u)/g).toFixed(2)}%`),!this.#s&&!p&&(c.height=`${(100*parseFloat(a)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let c=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||c.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let a of c){let u=document.createElement("div");this.#o.append(u),u.classList.add("resizer",a),u.addEventListener("pointerdown",this.#D.bind(this,a)),u.addEventListener("contextmenu",o.noContextMenu)}this.div.prepend(this.#o)}#D(c,a){a.preventDefault();let{isMac:u}=i.FeatureTest.platform;if(a.button!==0||a.ctrlKey&&u)return;let f=this.#w.bind(this,c),p=this._isDraggable;this._isDraggable=!1;let g={passive:!0,capture:!0};window.addEventListener("pointermove",f,g);let h=this.x,v=this.y,y=this.width,w=this.height,M=this.parent.div.style.cursor,T=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(a.target).cursor;let E=()=>{this._isDraggable=p,window.removeEventListener("pointerup",E),window.removeEventListener("blur",E),window.removeEventListener("pointermove",f,g),this.parent.div.style.cursor=M,this.div.style.cursor=T;let A=this.x,j=this.y,V=this.width,F=this.height;A===h&&j===v&&V===y&&F===w||this.addCommands({cmd:()=>{this.width=V,this.height=F,this.x=A,this.y=j;let[$,W]=this.parentDimensions;this.setDims($*V,W*F),this.fixAndSetPosition()},undo:()=>{this.width=y,this.height=w,this.x=h,this.y=v;let[$,W]=this.parentDimensions;this.setDims($*y,W*w),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",E),window.addEventListener("blur",E)}#w(c,a){let[u,f]=this.parentDimensions,p=this.x,g=this.y,h=this.width,v=this.height,y=s.MIN_SIZE/u,w=s.MIN_SIZE/f,M=x=>Math.round(x*1e4)/1e4,T=this.#u(this.rotation),E=(x,m)=>[T[0]*x+T[2]*m,T[1]*x+T[3]*m],A=this.#u(360-this.rotation),j=(x,m)=>[A[0]*x+A[2]*m,A[1]*x+A[3]*m],V,F,$=!1,W=!1;switch(c){case"topLeft":$=!0,V=(x,m)=>[0,0],F=(x,m)=>[x,m];break;case"topMiddle":V=(x,m)=>[x/2,0],F=(x,m)=>[x/2,m];break;case"topRight":$=!0,V=(x,m)=>[x,0],F=(x,m)=>[0,m];break;case"middleRight":W=!0,V=(x,m)=>[x,m/2],F=(x,m)=>[0,m/2];break;case"bottomRight":$=!0,V=(x,m)=>[x,m],F=(x,m)=>[0,0];break;case"bottomMiddle":V=(x,m)=>[x/2,m],F=(x,m)=>[x/2,0];break;case"bottomLeft":$=!0,V=(x,m)=>[0,m],F=(x,m)=>[x,0];break;case"middleLeft":W=!0,V=(x,m)=>[0,m/2],F=(x,m)=>[x,m/2];break}let ne=V(h,v),J=F(h,v),Q=E(...J),oe=M(p+Q[0]),Z=M(g+Q[1]),O=1,C=1,[b,_]=this.screenToPageTranslation(a.movementX,a.movementY);if([b,_]=j(b/u,_/f),$){let x=Math.hypot(h,v);O=C=Math.max(Math.min(Math.hypot(J[0]-ne[0]-b,J[1]-ne[1]-_)/x,1/h,1/v),y/h,w/v)}else W?O=Math.max(y,Math.min(1,Math.abs(J[0]-ne[0]-b)))/h:C=Math.max(w,Math.min(1,Math.abs(J[1]-ne[1]-_)))/v;let S=M(h*O),k=M(v*C);Q=E(...F(S,k));let N=oe-Q[0],L=Z-Q[1];this.width=S,this.height=k,this.x=N,this.y=L,this.setDims(u*S,f*k),this.fixAndSetPosition()}addAltTextButton(){return Ae(this,null,function*(){if(this.#n)return;let c=this.#n=document.createElement("button");c.className="altText";let a=yield s._l10nPromise.get("editor_alt_text_button_label");c.textContent=a,c.setAttribute("aria-label",a),c.tabIndex="0",c.addEventListener("contextmenu",o.noContextMenu),c.addEventListener("pointerdown",u=>u.stopPropagation()),c.addEventListener("click",u=>{u.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),c.addEventListener("keydown",u=>{u.target===c&&u.key==="Enter"&&(u.preventDefault(),this._uiManager.editAltText(this))}),this.#A(),this.div.append(c),s.SMALL_EDITOR_SIZE||(s.SMALL_EDITOR_SIZE=Math.min(128,Math.round(c.getBoundingClientRect().width*1.4)))})}#A(){return Ae(this,null,function*(){let c=this.#n;if(!c)return;if(!this.#e&&!this.#t){c.classList.remove("done"),this.#r?.remove();return}s._l10nPromise.get("editor_alt_text_edit_button_label").then(u=>{c.setAttribute("aria-label",u)});let a=this.#r;if(!a){this.#r=a=document.createElement("span"),a.className="tooltip",a.setAttribute("role","tooltip");let u=a.id=`alt-text-tooltip-${this.id}`;c.setAttribute("aria-describedby",u);let f=100;c.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},f)}),c.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#r?.classList.remove("show")})}c.classList.add("done"),a.innerText=this.#t?yield s._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,a.parentNode||c.append(a)})}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:c,decorative:a}){this.#e===c&&this.#t===a||(this.#e=c,this.#t=a,this.#A())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);let[c,a]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*a/c).toFixed(2)}%`,this.div.style.maxHeight=`${(100*c/a).toFixed(2)}%`);let[u,f]=this.getInitialTranslation();return this.translate(u,f),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(c){let{isMac:a}=i.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&a){c.preventDefault();return}this.#i=!0,this.#T(c)}#T(c){if(!this._isDraggable)return;let a=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let u,f;a&&(u={passive:!0,capture:!0},f=g=>{let[h,v]=this.screenToPageTranslation(g.movementX,g.movementY);this._uiManager.dragSelectedEditors(h,v)},window.addEventListener("pointermove",f,u));let p=()=>{if(window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),a&&window.removeEventListener("pointermove",f,u),this.#i=!1,!this._uiManager.endDragSession()){let{isMac:g}=i.FeatureTest.platform;c.ctrlKey&&!g||c.shiftKey||c.metaKey&&g?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(c,a,u){c.changeParent(this),this.x=a,this.y=u,this.fixAndSetPosition()}getRect(c,a){let u=this.parentScale,[f,p]=this.pageDimensions,[g,h]=this.pageTranslation,v=c/u,y=a/u,w=this.x*f,M=this.y*p,T=this.width*f,E=this.height*p;switch(this.rotation){case 0:return[w+v+g,p-M-y-E+h,w+v+T+g,p-M-y+h];case 90:return[w+y+g,p-M+v+h,w+y+E+g,p-M+v+T+h];case 180:return[w-v-T+g,p-M+y+h,w-v+g,p-M+y+E+h];case 270:return[w-y-E+g,p-M-v-T+h,w-y+g,p-M-v+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(c,a){let[u,f,p,g]=c,h=p-u,v=g-f;switch(this.rotation){case 0:return[u,a-g,h,v];case 90:return[u,a-f,v,h];case 180:return[p,a-f,h,v];case 270:return[p,a-g,v,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(c=!1,a=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(c,a,u){let f=new this.prototype.constructor({parent:a,id:a.getNextId(),uiManager:u});f.rotation=c.rotation;let[p,g]=f.pageDimensions,[h,v,y,w]=f.getRectInCurrentCoords(c.rect,g);return f.x=h/p,f.y=v/g,f.width=y/p,f.height=w/g,f}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#o.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(c,a){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#h}set isEditing(c){this.#h=c,this.parent&&(c?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(c,a){this.#s=!0;let u=c/a,{style:f}=this.div;f.aspectRatio=u,f.height="auto"}static get MIN_SIZE(){return 16}}t.AnnotationEditor=s;class l extends s{constructor(c){super(c),this.annotationElementId=c.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=o,t.opacityToHex=s;var r=n(1),i=n(6);function o(p,g,h){for(let v of h)g.addEventListener(v,p[v].bind(p))}function s(p){return Math.round(Math.min(255,Math.max(1,255*p))).toString(16).padStart(2,"0")}class l{#e=0;getId(){return`${r.AnnotationEditorPrefix}${this.#e++}`}}class d{#e=(0,r.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){let g='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',v=new OffscreenCanvas(1,3).getContext("2d"),y=new Image;y.src=g;let w=y.decode().then(()=>(v.drawImage(y,0,0,1,1,0,0,1,3),new Uint32Array(v.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",w)}#r(g,h){return Ae(this,null,function*(){this.#n||=new Map;let v=this.#n.get(g);if(v===null)return null;if(v?.bitmap)return v.refCounter+=1,v;try{v||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let y;if(typeof h=="string"){v.url=h;let w=yield fetch(h);if(!w.ok)throw new Error(w.statusText);y=yield w.blob()}else y=v.file=h;if(y.type==="image/svg+xml"){let w=d._isSVGFittingCanvas,M=new FileReader,T=new Image,E=new Promise((A,j)=>{T.onload=()=>{v.bitmap=T,v.isSvg=!0,A()},M.onload=()=>Ae(this,null,function*(){let V=v.svgUrl=M.result;T.src=(yield w)?`${V}#svgView(preserveAspectRatio(none))`:V}),T.onerror=M.onerror=j});M.readAsDataURL(y),yield E}else v.bitmap=yield createImageBitmap(y);v.refCounter=1}catch(y){console.error(y),v=null}return this.#n.set(g,v),v&&this.#n.set(v.id,v),v})}getFromFile(g){return Ae(this,null,function*(){let{lastModified:h,name:v,size:y,type:w}=g;return this.#r(`${h}_${v}_${y}_${w}`,g)})}getFromUrl(g){return Ae(this,null,function*(){return this.#r(g,g)})}getFromId(g){return Ae(this,null,function*(){this.#n||=new Map;let h=this.#n.get(g);return h?h.bitmap?(h.refCounter+=1,h):h.file?this.getFromFile(h.file):this.getFromUrl(h.url):null})}getSvgUrl(g){let h=this.#n.get(g);return h?.isSvg?h.svgUrl:null}deleteId(g){this.#n||=new Map;let h=this.#n.get(g);h&&(h.refCounter-=1,h.refCounter===0&&(h.bitmap=null))}isValidId(g){return g.startsWith(`image_${this.#e}_`)}}class c{#e=[];#t=!1;#n;#r=-1;constructor(g=128){this.#n=g}add({cmd:g,undo:h,mustExec:v,type:y=NaN,overwriteIfSameType:w=!1,keepUndo:M=!1}){if(v&&g(),this.#t)return;let T={cmd:g,undo:h,type:y};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(T);return}if(w&&this.#e[this.#r].type===y){M&&(T.undo=this.#e[this.#r].undo),this.#e[this.#r]=T;return}let E=this.#r+1;E===this.#n?this.#e.splice(0,1):(this.#r=E,E<this.#e.length&&this.#e.splice(E)),this.#e.push(T)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}t.CommandManager=c;class a{constructor(g){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:h}=r.FeatureTest.platform;for(let[v,y,w={}]of g)for(let M of v){let T=M.startsWith("mac+");h&&T?(this.callbacks.set(M.slice(4),{callback:y,options:w}),this.allKeys.add(M.split("+").at(-1))):!h&&!T&&(this.callbacks.set(M,{callback:y,options:w}),this.allKeys.add(M.split("+").at(-1)))}}#e(g){g.altKey&&this.buffer.push("alt"),g.ctrlKey&&this.buffer.push("ctrl"),g.metaKey&&this.buffer.push("meta"),g.shiftKey&&this.buffer.push("shift"),this.buffer.push(g.key);let h=this.buffer.join("+");return this.buffer.length=0,h}exec(g,h){if(!this.allKeys.has(h.key))return;let v=this.callbacks.get(this.#e(h));if(!v)return;let{callback:y,options:{bubbles:w=!1,args:M=[],checker:T=null}}=v;T&&!T(g,h)||(y.bind(g,...M)(),w||(h.stopPropagation(),h.preventDefault()))}}t.KeyboardManager=a;class u{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let g=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(g),(0,r.shadow)(this,"_colors",g)}convert(g){let h=(0,i.getRGB)(g);if(!window.matchMedia("(forced-colors: active)").matches)return h;for(let[v,y]of this._colors)if(y.every((w,M)=>w===h[M]))return u._colorsMapping.get(v);return h}getHexCode(g){let h=this._colors.get(g);return h?r.Util.makeHexColor(...h):g}}t.ColorManager=u;let f=(()=>{class p{#e=null;#t=new Map;#n=new Map;#r=null;#a=null;#s=new c;#o=0;#l=new Set;#c=null;#i=null;#h=new Set;#d=null;#f=new l;#p=!1;#v=!1;#m=null;#g=r.AnnotationEditorType.NONE;#u=new Set;#y=null;#D=this.blur.bind(this);#w=this.focus.bind(this);#A=this.copy.bind(this);#T=this.cut.bind(this);#N=this.paste.bind(this);#O=this.keydown.bind(this);#F=this.onEditingAction.bind(this);#b=this.onPageChanging.bind(this);#k=this.onScaleChanging.bind(this);#M=this.onRotationChanging.bind(this);#x={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=[0,0];#I=null;#C=null;#L=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let h=p.prototype,v=M=>{let{activeElement:T}=document;return T&&M.#C.contains(T)&&M.hasSomethingToControl()},y=this.TRANSLATE_SMALL,w=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new a([[["ctrl+a","mac+meta+a"],h.selectAll],[["ctrl+z","mac+meta+z"],h.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],h.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],h.delete],[["Escape","mac+Escape"],h.unselectAll],[["ArrowLeft","mac+ArrowLeft"],h.translateSelectedEditors,{args:[-y,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],h.translateSelectedEditors,{args:[-w,0],checker:v}],[["ArrowRight","mac+ArrowRight"],h.translateSelectedEditors,{args:[y,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],h.translateSelectedEditors,{args:[w,0],checker:v}],[["ArrowUp","mac+ArrowUp"],h.translateSelectedEditors,{args:[0,-y],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],h.translateSelectedEditors,{args:[0,-w],checker:v}],[["ArrowDown","mac+ArrowDown"],h.translateSelectedEditors,{args:[0,y],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],h.translateSelectedEditors,{args:[0,w],checker:v}]]))}constructor(h,v,y,w,M,T){this.#C=h,this.#L=v,this.#r=y,this._eventBus=w,this._eventBus._on("editingaction",this.#F),this._eventBus._on("pagechanging",this.#b),this._eventBus._on("scalechanging",this.#k),this._eventBus._on("rotationchanging",this.#M),this.#a=M.annotationStorage,this.#d=M.filterFactory,this.#y=T,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#R(),this.#B(),this._eventBus._off("editingaction",this.#F),this._eventBus._off("pagechanging",this.#b),this._eventBus._off("scalechanging",this.#k),this._eventBus._off("rotationchanging",this.#M);for(let h of this.#n.values())h.destroy();this.#n.clear(),this.#t.clear(),this.#h.clear(),this.#e=null,this.#u.clear(),this.#s.destroy(),this.#r.destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(this.#C).direction)}editAltText(h){this.#r?.editAltText(this,h)}onPageChanging({pageNumber:h}){this.#o=h-1}focusMainContainer(){this.#C.focus()}findParent(h,v){for(let y of this.#n.values()){let{x:w,y:M,width:T,height:E}=y.div.getBoundingClientRect();if(h>=w&&h<=w+T&&v>=M&&v<=M+E)return y}return null}disableUserSelect(h=!1){this.#L.classList.toggle("noUserSelect",h)}addShouldRescale(h){this.#h.add(h)}removeShouldRescale(h){this.#h.delete(h)}onScaleChanging({scale:h}){this.commitOrRemove(),this.viewParameters.realScale=h*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(let v of this.#h)v.onScaleChanging()}onRotationChanging({pagesRotation:h}){this.commitOrRemove(),this.viewParameters.rotation=h}addToAnnotationStorage(h){!h.isEmpty()&&this.#a&&!this.#a.has(h.id)&&this.#a.setValue(h.id,h)}#j(){window.addEventListener("focus",this.#w),window.addEventListener("blur",this.#D)}#B(){window.removeEventListener("focus",this.#w),window.removeEventListener("blur",this.#D)}blur(){if(!this.hasSelection)return;let{activeElement:h}=document;for(let v of this.#u)if(v.div.contains(h)){this.#m=[v,h],v._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;let[h,v]=this.#m;this.#m=null,v.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),v.focus()}#V(){window.addEventListener("keydown",this.#O,{capture:!0})}#R(){window.removeEventListener("keydown",this.#O,{capture:!0})}#P(){document.addEventListener("copy",this.#A),document.addEventListener("cut",this.#T),document.addEventListener("paste",this.#N)}#S(){document.removeEventListener("copy",this.#A),document.removeEventListener("cut",this.#T),document.removeEventListener("paste",this.#N)}addEditListeners(){this.#V(),this.#P()}removeEditListeners(){this.#R(),this.#S()}copy(h){if(h.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let v=[];for(let y of this.#u){let w=y.serialize(!0);w&&v.push(w)}v.length!==0&&h.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(h){this.copy(h),this.delete()}paste(h){h.preventDefault();let{clipboardData:v}=h;for(let M of v.items)for(let T of this.#i)if(T.isHandlingMimeForPasting(M.type)){T.paste(M,this.currentLayer);return}let y=v.getData("application/pdfjs");if(!y)return;try{y=JSON.parse(y)}catch(M){(0,r.warn)(`paste: "${M.message}".`);return}if(!Array.isArray(y))return;this.unselectAll();let w=this.currentLayer;try{let M=[];for(let A of y){let j=w.deserialize(A);if(!j)return;M.push(j)}let T=()=>{for(let A of M)this.#$(A);this.#z(M)},E=()=>{for(let A of M)A.remove()};this.addCommands({cmd:T,undo:E,mustExec:!0})}catch(M){(0,r.warn)(`paste: "${M.message}".`)}}keydown(h){this.getActive()?.shouldGetKeyboardEvents()||p._keyboardManager.exec(this,h)}onEditingAction(h){["undo","redo","delete","selectAll"].includes(h.name)&&this[h.name]()}#E(h){Object.entries(h).some(([y,w])=>this.#x[y]!==w)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#x,h)})}#U(h){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:h})}setEditingState(h){h?(this.#j(),this.#V(),this.#P(),this.#E({isEditing:this.#g!==r.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#B(),this.#R(),this.#S(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(h){if(!this.#i){this.#i=h;for(let v of this.#i)this.#U(v.defaultPropertiesToUpdate)}}getId(){return this.#f.getId()}get currentLayer(){return this.#n.get(this.#o)}getLayer(h){return this.#n.get(h)}get currentPageIndex(){return this.#o}addLayer(h){this.#n.set(h.pageIndex,h),this.#p?h.enable():h.disable()}removeLayer(h){this.#n.delete(h.pageIndex)}updateMode(h,v=null){if(this.#g!==h){if(this.#g=h,h===r.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#W(),this.unselectAll();for(let y of this.#n.values())y.updateMode(h);if(v){for(let y of this.#t.values())if(y.annotationElementId===v){this.setSelected(y),y.enterInEditMode();break}}}}updateToolbar(h){h!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:h})}updateParams(h,v){if(this.#i){if(h===r.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(h);return}for(let y of this.#u)y.updateParams(h,v);for(let y of this.#i)y.updateDefaultParams(h,v)}}enableWaiting(h=!1){if(this.#v!==h){this.#v=h;for(let v of this.#n.values())h?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",h)}}#W(){if(!this.#p){this.#p=!0;for(let h of this.#n.values())h.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(let h of this.#n.values())h.disable()}}getEditors(h){let v=[];for(let y of this.#t.values())y.pageIndex===h&&v.push(y);return v}getEditor(h){return this.#t.get(h)}addEditor(h){this.#t.set(h.id,h)}removeEditor(h){this.#t.delete(h.id),this.unselect(h),(!h.annotationElementId||!this.#l.has(h.annotationElementId))&&this.#a?.remove(h.id)}addDeletedAnnotationElement(h){this.#l.add(h.annotationElementId),h.deleted=!0}isDeletedAnnotationElement(h){return this.#l.has(h)}removeDeletedAnnotationElement(h){this.#l.delete(h.annotationElementId),h.deleted=!1}#$(h){let v=this.#n.get(h.pageIndex);v?v.addOrRebuild(h):this.addEditor(h)}setActiveEditor(h){this.#e!==h&&(this.#e=h,h&&this.#U(h.propertiesToUpdate))}toggleSelected(h){if(this.#u.has(h)){this.#u.delete(h),h.unselect(),this.#E({hasSelectedEditor:this.hasSelection});return}this.#u.add(h),h.select(),this.#U(h.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(h){for(let v of this.#u)v!==h&&v.unselect();this.#u.clear(),this.#u.add(h),h.select(),this.#U(h.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(h){return this.#u.has(h)}unselect(h){h.unselect(),this.#u.delete(h),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#s.undo(),this.#E({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#s.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(h){this.#s.add(h),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let h of this.#t.values())return h.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let h=[...this.#u],v=()=>{for(let w of h)w.remove()},y=()=>{for(let w of h)this.#$(w)};this.addCommands({cmd:v,undo:y,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#z(h){this.#u.clear();for(let v of h)v.isEmpty()||(this.#u.add(v),v.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(let h of this.#u)h.commit();this.#z(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let h of this.#u)h.unselect();this.#u.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(h,v,y=!1){if(y||this.commitOrRemove(),!this.hasSelection)return;this.#_[0]+=h,this.#_[1]+=v;let[w,M]=this.#_,T=[...this.#u],E=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#_[0]=this.#_[1]=0,this.addCommands({cmd:()=>{for(let A of T)this.#t.has(A.id)&&A.translateInPage(w,M)},undo:()=>{for(let A of T)this.#t.has(A.id)&&A.translateInPage(-w,-M)},mustExec:!1})},E);for(let A of T)A.translateInPage(h,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(let h of this.#u)this.#c.set(h,{savedX:h.x,savedY:h.y,savedPageIndex:h.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);let h=this.#c;this.#c=null;let v=!1;for(let[{x:w,y:M,pageIndex:T},E]of h)E.newX=w,E.newY=M,E.newPageIndex=T,v||=w!==E.savedX||M!==E.savedY||T!==E.savedPageIndex;if(!v)return!1;let y=(w,M,T,E)=>{if(this.#t.has(w.id)){let A=this.#n.get(E);A?w._setParentAndPosition(A,M,T):(w.pageIndex=E,w.x=M,w.y=T)}};return this.addCommands({cmd:()=>{for(let[w,{newX:M,newY:T,newPageIndex:E}]of h)y(w,M,T,E)},undo:()=>{for(let[w,{savedX:M,savedY:T,savedPageIndex:E}]of h)y(w,M,T,E)},mustExec:!0}),!0}dragSelectedEditors(h,v){if(this.#c)for(let y of this.#c.keys())y.drag(h,v)}rebuild(h){if(h.parent===null){let v=this.getLayer(h.pageIndex);v?(v.changeParent(h),v.addOrRebuild(h)):(this.addEditor(h),this.addToAnnotationStorage(h),h.rebuild())}else h.parent.addOrRebuild(h)}isActive(h){return this.#e===h}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,r.shadow)(this,"imageManager",new d)}}return p})();t.AnnotationEditorUIManager=f},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=j,t.getColorValues=ne,t.getCurrentTransform=J,t.getCurrentTransformInverse=Q,t.getFilenameFromUrl=y,t.getPdfFilenameFromUrl=w,t.getRGB=W,t.getXfaPageViewport=$,t.isDataScheme=h,t.isPdfFile=v,t.isValidFetchUrl=T,t.loadScript=A,t.noContextMenu=E,t.setLayerDimensions=oe;var r=n(7),i=n(1);let o="http://www.w3.org/2000/svg";class s{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}t.PixelsPerInch=s;class l extends r.BaseFilterFactory{#e;#t;#n;#r;#a;#s;#o;#l;#c;#i;#h=0;constructor({docId:O,ownerDocument:C=globalThis.document}={}){super(),this.#n=O,this.#r=C}get#d(){return this.#e||=new Map}get#f(){if(!this.#t){let O=this.#r.createElement("div"),{style:C}=O;C.visibility="hidden",C.contain="strict",C.width=C.height=0,C.position="absolute",C.top=C.left=0,C.zIndex=-1;let b=this.#r.createElementNS(o,"svg");b.setAttribute("width",0),b.setAttribute("height",0),this.#t=this.#r.createElementNS(o,"defs"),O.append(b),b.append(this.#t),this.#r.body.append(O)}return this.#t}addFilter(O){if(!O)return"none";let C=this.#d.get(O);if(C)return C;let b,_,S,k;if(O.length===1){let m=O[0],D=new Array(256);for(let I=0;I<256;I++)D[I]=m[I]/255;k=b=_=S=D.join(",")}else{let[m,D,I]=O,R=new Array(256),P=new Array(256),B=new Array(256);for(let U=0;U<256;U++)R[U]=m[U]/255,P[U]=D[U]/255,B[U]=I[U]/255;b=R.join(","),_=P.join(","),S=B.join(","),k=`${b}${_}${S}`}if(C=this.#d.get(k),C)return this.#d.set(O,C),C;let N=`g_${this.#n}_transfer_map_${this.#h++}`,L=`url(#${N})`;this.#d.set(O,L),this.#d.set(k,L);let x=this.#v(N);return this.#g(b,_,S,x),L}addHCMFilter(O,C){let b=`${O}-${C}`;if(this.#s===b)return this.#o;if(this.#s=b,this.#o="none",this.#a?.remove(),!O||!C)return this.#o;let _=this.#u(O);O=i.Util.makeHexColor(..._);let S=this.#u(C);if(C=i.Util.makeHexColor(...S),this.#f.style.color="",O==="#000000"&&C==="#ffffff"||O===C)return this.#o;let k=new Array(256);for(let D=0;D<=255;D++){let I=D/255;k[D]=I<=.03928?I/12.92:((I+.055)/1.055)**2.4}let N=k.join(","),L=`g_${this.#n}_hcm_filter`,x=this.#l=this.#v(L);this.#g(N,N,N,x),this.#p(x);let m=(D,I)=>{let R=_[D]/255,P=S[D]/255,B=new Array(I+1);for(let U=0;U<=I;U++)B[U]=R+U/I*(P-R);return B.join(",")};return this.#g(m(0,5),m(1,5),m(2,5),x),this.#o=`url(#${L})`,this.#o}addHighlightHCMFilter(O,C,b,_){let S=`${O}-${C}-${b}-${_}`;if(this.#c===S)return this.#i;if(this.#c=S,this.#i="none",this.#l?.remove(),!O||!C)return this.#i;let[k,N]=[O,C].map(this.#u.bind(this)),L=Math.round(.2126*k[0]+.7152*k[1]+.0722*k[2]),x=Math.round(.2126*N[0]+.7152*N[1]+.0722*N[2]),[m,D]=[b,_].map(this.#u.bind(this));x<L&&([L,x,m,D]=[x,L,D,m]),this.#f.style.color="";let I=(B,U,G)=>{let ie=new Array(256),q=(x-L)/G,Y=B/255,X=(U-B)/(255*G),K=0;for(let ee=0;ee<=G;ee++){let le=Math.round(L+ee*q),de=Y+ee*X;for(let pe=K;pe<=le;pe++)ie[pe]=de;K=le+1}for(let ee=K;ee<256;ee++)ie[ee]=ie[K-1];return ie.join(",")},R=`g_${this.#n}_hcm_highlight_filter`,P=this.#l=this.#v(R);return this.#p(P),this.#g(I(m[0],D[0],5),I(m[1],D[1],5),I(m[2],D[2],5),P),this.#i=`url(#${R})`,this.#i}destroy(O=!1){O&&(this.#o||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#h=0)}#p(O){let C=this.#r.createElementNS(o,"feColorMatrix");C.setAttribute("type","matrix"),C.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),O.append(C)}#v(O){let C=this.#r.createElementNS(o,"filter");return C.setAttribute("color-interpolation-filters","sRGB"),C.setAttribute("id",O),this.#f.append(C),C}#m(O,C,b){let _=this.#r.createElementNS(o,C);_.setAttribute("type","discrete"),_.setAttribute("tableValues",b),O.append(_)}#g(O,C,b,_){let S=this.#r.createElementNS(o,"feComponentTransfer");_.append(S),this.#m(S,"feFuncR",O),this.#m(S,"feFuncG",C),this.#m(S,"feFuncB",b)}#u(O){return this.#f.style.color=O,W(getComputedStyle(this.#f).getPropertyValue("color"))}}t.DOMFilterFactory=l;class d extends r.BaseCanvasFactory{constructor({ownerDocument:O=globalThis.document}={}){super(),this._document=O}_createCanvas(O,C){let b=this._document.createElement("canvas");return b.width=O,b.height=C,b}}t.DOMCanvasFactory=d;function c(Z,O=!1){return Ae(this,null,function*(){if(T(Z,document.baseURI)){let C=yield fetch(Z);if(!C.ok)throw new Error(C.statusText);return O?new Uint8Array(yield C.arrayBuffer()):(0,i.stringToBytes)(yield C.text())}return new Promise((C,b)=>{let _=new XMLHttpRequest;_.open("GET",Z,!0),O&&(_.responseType="arraybuffer"),_.onreadystatechange=()=>{if(_.readyState===XMLHttpRequest.DONE){if(_.status===200||_.status===0){let S;if(O&&_.response?S=new Uint8Array(_.response):!O&&_.responseText&&(S=(0,i.stringToBytes)(_.responseText)),S){C(S);return}}b(new Error(_.statusText))}},_.send(null)})})}class a extends r.BaseCMapReaderFactory{_fetchData(O,C){return c(O,this.isCompressed).then(b=>({cMapData:b,compressionType:C}))}}t.DOMCMapReaderFactory=a;class u extends r.BaseStandardFontDataFactory{_fetchData(O){return c(O,!0)}}t.DOMStandardFontDataFactory=u;class f extends r.BaseSVGFactory{_createSVG(O){return document.createElementNS(o,O)}}t.DOMSVGFactory=f;class p{constructor({viewBox:O,scale:C,rotation:b,offsetX:_=0,offsetY:S=0,dontFlip:k=!1}){this.viewBox=O,this.scale=C,this.rotation=b,this.offsetX=_,this.offsetY=S;let N=(O[2]+O[0])/2,L=(O[3]+O[1])/2,x,m,D,I;switch(b%=360,b<0&&(b+=360),b){case 180:x=-1,m=0,D=0,I=1;break;case 90:x=0,m=1,D=1,I=0;break;case 270:x=0,m=-1,D=-1,I=0;break;case 0:x=1,m=0,D=0,I=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}k&&(D=-D,I=-I);let R,P,B,U;x===0?(R=Math.abs(L-O[1])*C+_,P=Math.abs(N-O[0])*C+S,B=(O[3]-O[1])*C,U=(O[2]-O[0])*C):(R=Math.abs(N-O[0])*C+_,P=Math.abs(L-O[1])*C+S,B=(O[2]-O[0])*C,U=(O[3]-O[1])*C),this.transform=[x*C,m*C,D*C,I*C,R-x*C*N-D*C*L,P-m*C*N-I*C*L],this.width=B,this.height=U}get rawDims(){let{viewBox:O}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:O[2]-O[0],pageHeight:O[3]-O[1],pageX:O[0],pageY:O[1]})}clone({scale:O=this.scale,rotation:C=this.rotation,offsetX:b=this.offsetX,offsetY:_=this.offsetY,dontFlip:S=!1}={}){return new p({viewBox:this.viewBox.slice(),scale:O,rotation:C,offsetX:b,offsetY:_,dontFlip:S})}convertToViewportPoint(O,C){return i.Util.applyTransform([O,C],this.transform)}convertToViewportRectangle(O){let C=i.Util.applyTransform([O[0],O[1]],this.transform),b=i.Util.applyTransform([O[2],O[3]],this.transform);return[C[0],C[1],b[0],b[1]]}convertToPdfPoint(O,C){return i.Util.applyInverseTransform([O,C],this.transform)}}t.PageViewport=p;class g extends i.BaseException{constructor(O,C=0){super(O,"RenderingCancelledException"),this.extraDelay=C}}t.RenderingCancelledException=g;function h(Z){let O=Z.length,C=0;for(;C<O&&Z[C].trim()==="";)C++;return Z.substring(C,C+5).toLowerCase()==="data:"}function v(Z){return typeof Z=="string"&&/\.pdf$/i.test(Z)}function y(Z,O=!1){return O||([Z]=Z.split(/[#?]/,1)),Z.substring(Z.lastIndexOf("/")+1)}function w(Z,O="document.pdf"){if(typeof Z!="string")return O;if(h(Z))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),O;let C=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,b=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,_=C.exec(Z),S=b.exec(_[1])||b.exec(_[2])||b.exec(_[3]);if(S&&(S=S[0],S.includes("%")))try{S=b.exec(decodeURIComponent(S))[0]}catch{}return S||O}class M{started=Object.create(null);times=[];time(O){O in this.started&&(0,i.warn)(`Timer is already running for ${O}`),this.started[O]=Date.now()}timeEnd(O){O in this.started||(0,i.warn)(`Timer has not been started for ${O}`),this.times.push({name:O,start:this.started[O],end:Date.now()}),delete this.started[O]}toString(){let O=[],C=0;for(let{name:b}of this.times)C=Math.max(b.length,C);for(let{name:b,start:_,end:S}of this.times)O.push(`${b.padEnd(C)} ${S-_}ms
`);return O.join("")}}t.StatTimer=M;function T(Z,O){try{let{protocol:C}=O?new URL(Z,O):new URL(Z);return C==="http:"||C==="https:"}catch{return!1}}function E(Z){Z.preventDefault()}function A(Z,O=!1){return new Promise((C,b)=>{let _=document.createElement("script");_.src=Z,_.onload=function(S){O&&_.remove(),C(S)},_.onerror=function(){b(new Error(`Cannot load script at: ${_.src}`))},(document.head||document.documentElement).append(_)})}function j(Z){console.log("Deprecated API usage: "+Z)}let V;class F{static toDateObject(O){if(!O||typeof O!="string")return null;V||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let C=V.exec(O);if(!C)return null;let b=parseInt(C[1],10),_=parseInt(C[2],10);_=_>=1&&_<=12?_-1:0;let S=parseInt(C[3],10);S=S>=1&&S<=31?S:1;let k=parseInt(C[4],10);k=k>=0&&k<=23?k:0;let N=parseInt(C[5],10);N=N>=0&&N<=59?N:0;let L=parseInt(C[6],10);L=L>=0&&L<=59?L:0;let x=C[7]||"Z",m=parseInt(C[8],10);m=m>=0&&m<=23?m:0;let D=parseInt(C[9],10)||0;return D=D>=0&&D<=59?D:0,x==="-"?(k+=m,N+=D):x==="+"&&(k-=m,N-=D),new Date(Date.UTC(b,_,S,k,N,L))}}t.PDFDateString=F;function $(Z,{scale:O=1,rotation:C=0}){let{width:b,height:_}=Z.attributes.style,S=[0,0,parseInt(b),parseInt(_)];return new p({viewBox:S,scale:O,rotation:C})}function W(Z){if(Z.startsWith("#")){let O=parseInt(Z.slice(1),16);return[(O&16711680)>>16,(O&65280)>>8,O&255]}return Z.startsWith("rgb(")?Z.slice(4,-1).split(",").map(O=>parseInt(O)):Z.startsWith("rgba(")?Z.slice(5,-1).split(",").map(O=>parseInt(O)).slice(0,3):((0,i.warn)(`Not a valid color format: "${Z}"`),[0,0,0])}function ne(Z){let O=document.createElement("span");O.style.visibility="hidden",document.body.append(O);for(let C of Z.keys()){O.style.color=C;let b=window.getComputedStyle(O).color;Z.set(C,W(b))}O.remove()}function J(Z){let{a:O,b:C,c:b,d:_,e:S,f:k}=Z.getTransform();return[O,C,b,_,S,k]}function Q(Z){let{a:O,b:C,c:b,d:_,e:S,f:k}=Z.getTransform().invertSelf();return[O,C,b,_,S,k]}function oe(Z,O,C=!1,b=!0){if(O instanceof p){let{pageWidth:_,pageHeight:S}=O.rawDims,{style:k}=Z,N=i.FeatureTest.isCSSRoundSupported,L=`var(--scale-factor) * ${_}px`,x=`var(--scale-factor) * ${S}px`,m=N?`round(${L}, 1px)`:`calc(${L})`,D=N?`round(${x}, 1px)`:`calc(${x})`;!C||O.rotation%180===0?(k.width=m,k.height=D):(k.width=D,k.height=m)}b&&Z.setAttribute("data-main-rotation",O.rotation)}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(a){return"none"}addHCMFilter(a,u){return"none"}addHighlightHCMFilter(a,u,f,p){return"none"}destroy(a=!1){}}t.BaseFilterFactory=i;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(a,u){if(a<=0||u<=0)throw new Error("Invalid canvas size");let f=this._createCanvas(a,u);return{canvas:f,context:f.getContext("2d")}}reset(a,u,f){if(!a.canvas)throw new Error("Canvas is not specified");if(u<=0||f<=0)throw new Error("Invalid canvas size");a.canvas.width=u,a.canvas.height=f}destroy(a){if(!a.canvas)throw new Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}_createCanvas(a,u){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=o;class s{constructor({baseUrl:a=null,isCompressed:u=!0}){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=u}fetch(u){return Ae(this,arguments,function*({name:a}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!a)throw new Error("CMap name must be specified.");let f=this.baseUrl+a+(this.isCompressed?".bcmap":""),p=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(f,p).catch(g=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${f}`)})})}_fetchData(a,u){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=s;class l{constructor({baseUrl:a=null}){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}fetch(u){return Ae(this,arguments,function*({filename:a}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!a)throw new Error("Font filename must be specified.");let f=`${this.baseUrl}${a}`;return this._fetchData(f).catch(p=>{throw new Error(`Unable to load font data at: ${f}`)})})}_fetchData(a){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=l;class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(a,u,f=!1){if(a<=0||u<=0)throw new Error("Invalid SVG dimensions");let p=this._createSVG("svg:svg");return p.setAttribute("version","1.1"),f||(p.setAttribute("width",`${a}px`),p.setAttribute("height",`${u}px`)),p.setAttribute("preserveAspectRatio","none"),p.setAttribute("viewBox",`0 0 ${a} ${u}`),p}createElement(a){if(typeof a!="string")throw new Error("Invalid SVG element type");return this._createSVG(a)}_createSVG(a){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);let i=3285377520,o=4294901760,s=65535;class l{constructor(c){this.h1=c?c&4294967295:i,this.h2=c?c&4294967295:i}update(c){let a,u;if(typeof c=="string"){a=new Uint8Array(c.length*2),u=0;for(let j=0,V=c.length;j<V;j++){let F=c.charCodeAt(j);F<=255?a[u++]=F:(a[u++]=F>>>8,a[u++]=F&255)}}else if((0,r.isArrayBuffer)(c))a=c.slice(),u=a.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let f=u>>2,p=u-f*4,g=new Uint32Array(a.buffer,0,f),h=0,v=0,y=this.h1,w=this.h2,M=3432918353,T=461845907,E=M&s,A=T&s;for(let j=0;j<f;j++)j&1?(h=g[j],h=h*M&o|h*E&s,h=h<<15|h>>>17,h=h*T&o|h*A&s,y^=h,y=y<<13|y>>>19,y=y*5+3864292196):(v=g[j],v=v*M&o|v*E&s,v=v<<15|v>>>17,v=v*T&o|v*A&s,w^=v,w=w<<13|w>>>19,w=w*5+3864292196);switch(h=0,p){case 3:h^=a[f*4+2]<<16;case 2:h^=a[f*4+1]<<8;case 1:h^=a[f*4],h=h*M&o|h*E&s,h=h<<15|h>>>17,h=h*T&o|h*A&s,f&1?y^=h:w^=h}this.h1=y,this.h2=w}hexdigest(){let c=this.h1,a=this.h2;return c^=a>>>1,c=c*3981806797&o|c*36045&s,a=a*4283543511&o|((a<<16|c>>>16)*2950163797&o)>>>16,c^=a>>>1,c=c*444984403&o|c*60499&s,a=a*3301882366&o|((a<<16|c>>>16)*3120437893&o)>>>16,c^=a>>>1,(c>>>0).toString(16).padStart(8,"0")+(a>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1);class i{#e=new Set;constructor({ownerDocument:l=globalThis.document,styleElement:d=null}){this._document=l,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(l){this.nativeFontFaces.add(l),this._document.fonts.add(l)}removeNativeFontFace(l){this.nativeFontFaces.delete(l),this._document.fonts.delete(l)}insertRule(l){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let d=this.styleElement.sheet;d.insertRule(l,d.cssRules.length)}clear(){for(let l of this.nativeFontFaces)this._document.fonts.delete(l);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(l){return Ae(this,null,function*(){if(!(!l||this.#e.has(l.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:d,src:c,style:a}=l,u=new FontFace(d,c,a);this.addNativeFontFace(u);try{yield u.load(),this.#e.add(d)}catch{(0,r.warn)(`Cannot load system font: ${l.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(l){return Ae(this,null,function*(){if(l.attached||l.missingFile&&!l.systemFontInfo)return;if(l.attached=!0,l.systemFontInfo){yield this.loadSystemFont(l.systemFontInfo);return}if(this.isFontLoadingAPISupported){let c=l.createNativeFontFace();if(c){this.addNativeFontFace(c);try{yield c.loaded}catch(a){throw(0,r.warn)(`Failed to load font '${c.family}': '${a}'.`),l.disableFontFace=!0,a}}return}let d=l.createFontFaceRule();if(d){if(this.insertRule(d),this.isSyncFontLoadingSupported)return;yield new Promise(c=>{let a=this._queueLoadingCallback(c);this._prepareFontLoadEvent(l,a)})}})}get isFontLoadingAPISupported(){let l=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",l)}get isSyncFontLoadingSupported(){let l=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(l=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",l)}_queueLoadingCallback(l){function d(){for((0,r.assert)(!a.done,"completeRequest() cannot be called twice."),a.done=!0;c.length>0&&c[0].done;){let u=c.shift();setTimeout(u.callback,0)}}let{loadingRequests:c}=this,a={done:!1,complete:d,callback:l};return c.push(a),a}get _loadTestFont(){let l=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",l)}_prepareFontLoadEvent(l,d){function c($,W){return $.charCodeAt(W)<<24|$.charCodeAt(W+1)<<16|$.charCodeAt(W+2)<<8|$.charCodeAt(W+3)&255}function a($,W,ne,J){let Q=$.substring(0,W),oe=$.substring(W+ne);return Q+J+oe}let u,f,p=this._document.createElement("canvas");p.width=1,p.height=1;let g=p.getContext("2d"),h=0;function v($,W){if(++h>30){(0,r.warn)("Load test font never loaded."),W();return}if(g.font="30px "+$,g.fillText(".",0,20),g.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(v.bind(null,$,W))}let y=`lt${Date.now()}${this.loadTestFontId++}`,w=this._loadTestFont;w=a(w,976,y.length,y);let T=16,E=1482184792,A=c(w,T);for(u=0,f=y.length-3;u<f;u+=4)A=A-E+c(y,u)|0;u<y.length&&(A=A-E+c(y+"XXX",u)|0),w=a(w,T,4,(0,r.string32)(A));let j=`url(data:font/opentype;base64,${btoa(w)});`,V=`@font-face {font-family:"${y}";src:${j}}`;this.insertRule(V);let F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(let $ of[l.loadedName,y]){let W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=$,F.append(W)}this._document.body.append(F),v(y,()=>{F.remove(),d.complete()})}}t.FontLoader=i;class o{constructor(l,{isEvalSupported:d=!0,disableFontFace:c=!1,ignoreErrors:a=!1,inspectFont:u=null}){this.compiledGlyphs=Object.create(null);for(let f in l)this[f]=l[f];this.isEvalSupported=d!==!1,this.disableFontFace=c===!0,this.ignoreErrors=a===!0,this._inspectFont=u}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let l;if(!this.cssFontInfo)l=new FontFace(this.loadedName,this.data,{});else{let d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),l=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}return this._inspectFont?.(this),l}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let l=(0,r.bytesToString)(this.data),d=`url(data:${this.mimetype};base64,${btoa(l)});`,c;if(!this.cssFontInfo)c=`@font-face {font-family:"${this.loadedName}";src:${d}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),c=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${d}}`}return this._inspectFont?.(this,d),c}getPathGenerator(l,d){if(this.compiledGlyphs[d]!==void 0)return this.compiledGlyphs[d];let c;try{c=l.get(this.loadedName+"_path_"+d)}catch(a){if(!this.ignoreErrors)throw a;return(0,r.warn)(`getPathGenerator - ignoring character: "${a}".`),this.compiledGlyphs[d]=function(u,f){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){let a=[];for(let u of c){let f=u.args!==void 0?u.args.join(","):"";a.push("c.",u.cmd,"(",f,`);
`)}return this.compiledGlyphs[d]=new Function("c","size",a.join(""))}return this.compiledGlyphs[d]=function(a,u){for(let f of c)f.cmd==="scale"&&(f.args=[u,-u]),a[f.cmd].apply(a,f.args)}}}t.FontFaceObject=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(7),i=n(1);let o=function(a){return new Promise((u,f)=>{Ia().readFile(a,(g,h)=>{if(g||!h){f(new Error(g));return}u(new Uint8Array(h))})})};class s extends r.BaseFilterFactory{}t.NodeFilterFactory=s;class l extends r.BaseCanvasFactory{_createCanvas(u,f){return Sm().createCanvas(u,f)}}t.NodeCanvasFactory=l;class d extends r.BaseCMapReaderFactory{_fetchData(u,f){return o(u).then(p=>({cMapData:p,compressionType:f}))}}t.NodeCMapReaderFactory=d;class c extends r.BaseStandardFontDataFactory{_fetchData(u){return o(u)}}t.NodeStandardFontDataFactory=c},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(1),i=n(6),o=n(12),s=n(13);let l=16,d=100,c=4096,a=15,u=10,f=1e3,p=16;function g(C,b){if(C._removeMirroring)throw new Error("Context is already forwarding operations.");C.__originalSave=C.save,C.__originalRestore=C.restore,C.__originalRotate=C.rotate,C.__originalScale=C.scale,C.__originalTranslate=C.translate,C.__originalTransform=C.transform,C.__originalSetTransform=C.setTransform,C.__originalResetTransform=C.resetTransform,C.__originalClip=C.clip,C.__originalMoveTo=C.moveTo,C.__originalLineTo=C.lineTo,C.__originalBezierCurveTo=C.bezierCurveTo,C.__originalRect=C.rect,C.__originalClosePath=C.closePath,C.__originalBeginPath=C.beginPath,C._removeMirroring=()=>{C.save=C.__originalSave,C.restore=C.__originalRestore,C.rotate=C.__originalRotate,C.scale=C.__originalScale,C.translate=C.__originalTranslate,C.transform=C.__originalTransform,C.setTransform=C.__originalSetTransform,C.resetTransform=C.__originalResetTransform,C.clip=C.__originalClip,C.moveTo=C.__originalMoveTo,C.lineTo=C.__originalLineTo,C.bezierCurveTo=C.__originalBezierCurveTo,C.rect=C.__originalRect,C.closePath=C.__originalClosePath,C.beginPath=C.__originalBeginPath,delete C._removeMirroring},C.save=function(){b.save(),this.__originalSave()},C.restore=function(){b.restore(),this.__originalRestore()},C.translate=function(S,k){b.translate(S,k),this.__originalTranslate(S,k)},C.scale=function(S,k){b.scale(S,k),this.__originalScale(S,k)},C.transform=function(S,k,N,L,x,m){b.transform(S,k,N,L,x,m),this.__originalTransform(S,k,N,L,x,m)},C.setTransform=function(S,k,N,L,x,m){b.setTransform(S,k,N,L,x,m),this.__originalSetTransform(S,k,N,L,x,m)},C.resetTransform=function(){b.resetTransform(),this.__originalResetTransform()},C.rotate=function(S){b.rotate(S),this.__originalRotate(S)},C.clip=function(S){b.clip(S),this.__originalClip(S)},C.moveTo=function(_,S){b.moveTo(_,S),this.__originalMoveTo(_,S)},C.lineTo=function(_,S){b.lineTo(_,S),this.__originalLineTo(_,S)},C.bezierCurveTo=function(_,S,k,N,L,x){b.bezierCurveTo(_,S,k,N,L,x),this.__originalBezierCurveTo(_,S,k,N,L,x)},C.rect=function(_,S,k,N){b.rect(_,S,k,N),this.__originalRect(_,S,k,N)},C.closePath=function(){b.closePath(),this.__originalClosePath()},C.beginPath=function(){b.beginPath(),this.__originalBeginPath()}}class h{constructor(b){this.canvasFactory=b,this.cache=Object.create(null)}getCanvas(b,_,S){let k;return this.cache[b]!==void 0?(k=this.cache[b],this.canvasFactory.reset(k,_,S)):(k=this.canvasFactory.create(_,S),this.cache[b]=k),k}delete(b){delete this.cache[b]}clear(){for(let b in this.cache){let _=this.cache[b];this.canvasFactory.destroy(_),delete this.cache[b]}}}function v(C,b,_,S,k,N,L,x,m,D){let[I,R,P,B,U,G]=(0,i.getCurrentTransform)(C);if(R===0&&P===0){let Y=L*I+U,X=Math.round(Y),K=x*B+G,ee=Math.round(K),le=(L+m)*I+U,de=Math.abs(Math.round(le)-X)||1,pe=(x+D)*B+G,_e=Math.abs(Math.round(pe)-ee)||1;return C.setTransform(Math.sign(I),0,0,Math.sign(B),X,ee),C.drawImage(b,_,S,k,N,0,0,de,_e),C.setTransform(I,R,P,B,U,G),[de,_e]}if(I===0&&B===0){let Y=x*P+U,X=Math.round(Y),K=L*R+G,ee=Math.round(K),le=(x+D)*P+U,de=Math.abs(Math.round(le)-X)||1,pe=(L+m)*R+G,_e=Math.abs(Math.round(pe)-ee)||1;return C.setTransform(0,Math.sign(R),Math.sign(P),0,X,ee),C.drawImage(b,_,S,k,N,0,0,_e,de),C.setTransform(I,R,P,B,U,G),[_e,de]}C.drawImage(b,_,S,k,N,L,x,m,D);let ie=Math.hypot(I,R),q=Math.hypot(P,B);return[ie*m,q*D]}function y(C){let{width:b,height:_}=C;if(b>f||_>f)return null;let S=1e3,k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=b+1,L=new Uint8Array(N*(_+1)),x,m,D,I=b+7&-8,R=new Uint8Array(I*_),P=0;for(let q of C.data){let Y=128;for(;Y>0;)R[P++]=q&Y?0:255,Y>>=1}let B=0;for(P=0,R[P]!==0&&(L[0]=1,++B),m=1;m<b;m++)R[P]!==R[P+1]&&(L[m]=R[P]?2:1,++B),P++;for(R[P]!==0&&(L[m]=2,++B),x=1;x<_;x++){P=x*I,D=x*N,R[P-I]!==R[P]&&(L[D]=R[P]?1:8,++B);let q=(R[P]?4:0)+(R[P-I]?8:0);for(m=1;m<b;m++)q=(q>>2)+(R[P+1]?4:0)+(R[P-I+1]?8:0),k[q]&&(L[D+m]=k[q],++B),P++;if(R[P-I]!==R[P]&&(L[D+m]=R[P]?2:4,++B),B>S)return null}for(P=I*(_-1),D=x*N,R[P]!==0&&(L[D]=8,++B),m=1;m<b;m++)R[P]!==R[P+1]&&(L[D+m]=R[P]?4:8,++B),P++;if(R[P]!==0&&(L[D+m]=4,++B),B>S)return null;let U=new Int32Array([0,N,-1,0,-N,0,0,0,1]),G=new Path2D;for(x=0;B&&x<=_;x++){let q=x*N,Y=q+b;for(;q<Y&&!L[q];)q++;if(q===Y)continue;G.moveTo(q%N,x);let X=q,K=L[q];do{let ee=U[K];do q+=ee;while(!L[q]);let le=L[q];le!==5&&le!==10?(K=le,L[q]=0):(K=le&51*K>>4,L[q]&=K>>2|K<<2),G.lineTo(q%N,q/N|0),L[q]||--B}while(X!==q);--x}return R=null,L=null,function(q){q.save(),q.scale(1/b,-1/_),q.translate(0,-_),q.fill(G),q.beginPath(),q.restore()}}class w{constructor(b,_){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,b,_])}clone(){let b=Object.create(this);return b.clipBox=this.clipBox.slice(),b}setCurrentPoint(b,_){this.x=b,this.y=_}updatePathMinMax(b,_,S){[_,S]=r.Util.applyTransform([_,S],b),this.minX=Math.min(this.minX,_),this.minY=Math.min(this.minY,S),this.maxX=Math.max(this.maxX,_),this.maxY=Math.max(this.maxY,S)}updateRectMinMax(b,_){let S=r.Util.applyTransform(_,b),k=r.Util.applyTransform(_.slice(2),b);this.minX=Math.min(this.minX,S[0],k[0]),this.minY=Math.min(this.minY,S[1],k[1]),this.maxX=Math.max(this.maxX,S[0],k[0]),this.maxY=Math.max(this.maxY,S[1],k[1])}updateScalingPathMinMax(b,_){r.Util.scaleMinMax(b,_),this.minX=Math.min(this.minX,_[0]),this.maxX=Math.max(this.maxX,_[1]),this.minY=Math.min(this.minY,_[2]),this.maxY=Math.max(this.maxY,_[3])}updateCurvePathMinMax(b,_,S,k,N,L,x,m,D,I){let R=r.Util.bezierBoundingBox(_,S,k,N,L,x,m,D);if(I){I[0]=Math.min(I[0],R[0],R[2]),I[1]=Math.max(I[1],R[0],R[2]),I[2]=Math.min(I[2],R[1],R[3]),I[3]=Math.max(I[3],R[1],R[3]);return}this.updateRectMinMax(b,R)}getPathBoundingBox(b=o.PathType.FILL,_=null){let S=[this.minX,this.minY,this.maxX,this.maxY];if(b===o.PathType.STROKE){_||(0,r.unreachable)("Stroke bounding box must include transform.");let k=r.Util.singularValueDecompose2dScale(_),N=k[0]*this.lineWidth/2,L=k[1]*this.lineWidth/2;S[0]-=N,S[1]-=L,S[2]+=N,S[3]+=L}return S}updateClipFromPath(){let b=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(b||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(b){this.clipBox=b,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(b=o.PathType.FILL,_=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(b,_))}}function M(C,b){if(typeof ImageData<"u"&&b instanceof ImageData){C.putImageData(b,0,0);return}let _=b.height,S=b.width,k=_%p,N=(_-k)/p,L=k===0?N:N+1,x=C.createImageData(S,p),m=0,D,I=b.data,R=x.data,P,B,U,G;if(b.kind===r.ImageKind.GRAYSCALE_1BPP){let ie=I.byteLength,q=new Uint32Array(R.buffer,0,R.byteLength>>2),Y=q.length,X=S+7>>3,K=4294967295,ee=r.FeatureTest.isLittleEndian?4278190080:255;for(P=0;P<L;P++){for(U=P<N?p:k,D=0,B=0;B<U;B++){let le=ie-m,de=0,pe=le>X?S:le*8-7,_e=pe&-8,Te=0,Ue=0;for(;de<_e;de+=8)Ue=I[m++],q[D++]=Ue&128?K:ee,q[D++]=Ue&64?K:ee,q[D++]=Ue&32?K:ee,q[D++]=Ue&16?K:ee,q[D++]=Ue&8?K:ee,q[D++]=Ue&4?K:ee,q[D++]=Ue&2?K:ee,q[D++]=Ue&1?K:ee;for(;de<pe;de++)Te===0&&(Ue=I[m++],Te=128),q[D++]=Ue&Te?K:ee,Te>>=1}for(;D<Y;)q[D++]=0;C.putImageData(x,0,P*p)}}else if(b.kind===r.ImageKind.RGBA_32BPP){for(B=0,G=S*p*4,P=0;P<N;P++)R.set(I.subarray(m,m+G)),m+=G,C.putImageData(x,0,B),B+=p;P<L&&(G=S*k*4,R.set(I.subarray(m,m+G)),C.putImageData(x,0,B))}else if(b.kind===r.ImageKind.RGB_24BPP)for(U=p,G=S*U,P=0;P<L;P++){for(P>=N&&(U=k,G=S*U),D=0,B=G;B--;)R[D++]=I[m++],R[D++]=I[m++],R[D++]=I[m++],R[D++]=255;C.putImageData(x,0,P*p)}else throw new Error(`bad image kind: ${b.kind}`)}function T(C,b){if(b.bitmap){C.drawImage(b.bitmap,0,0);return}let _=b.height,S=b.width,k=_%p,N=(_-k)/p,L=k===0?N:N+1,x=C.createImageData(S,p),m=0,D=b.data,I=x.data;for(let R=0;R<L;R++){let P=R<N?p:k;({srcPos:m}=(0,s.convertBlackAndWhiteToRGBA)({src:D,srcPos:m,dest:I,width:S,height:P,nonBlackColor:0})),C.putImageData(x,0,R*p)}}function E(C,b){let _=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let S of _)C[S]!==void 0&&(b[S]=C[S]);C.setLineDash!==void 0&&(b.setLineDash(C.getLineDash()),b.lineDashOffset=C.lineDashOffset)}function A(C){if(C.strokeStyle=C.fillStyle="#000000",C.fillRule="nonzero",C.globalAlpha=1,C.lineWidth=1,C.lineCap="butt",C.lineJoin="miter",C.miterLimit=10,C.globalCompositeOperation="source-over",C.font="10px sans-serif",C.setLineDash!==void 0&&(C.setLineDash([]),C.lineDashOffset=0),!r.isNodeJS){let{filter:b}=C;b!=="none"&&b!==""&&(C.filter="none")}}function j(C,b,_,S){let k=C.length;for(let N=3;N<k;N+=4){let L=C[N];if(L===0)C[N-3]=b,C[N-2]=_,C[N-1]=S;else if(L<255){let x=255-L;C[N-3]=C[N-3]*L+b*x>>8,C[N-2]=C[N-2]*L+_*x>>8,C[N-1]=C[N-1]*L+S*x>>8}}}function V(C,b,_){let S=C.length,k=1/255;for(let N=3;N<S;N+=4){let L=_?_[C[N]]:C[N];b[N]=b[N]*L*k|0}}function F(C,b,_){let S=C.length;for(let k=3;k<S;k+=4){let N=C[k-3]*77+C[k-2]*152+C[k-1]*28;b[k]=_?b[k]*_[N>>8]>>8:b[k]*N>>16}}function $(C,b,_,S,k,N,L,x,m,D,I){let R=!!N,P=R?N[0]:0,B=R?N[1]:0,U=R?N[2]:0,G=k==="Luminosity"?F:V,q=Math.min(S,Math.ceil(1048576/_));for(let Y=0;Y<S;Y+=q){let X=Math.min(q,S-Y),K=C.getImageData(x-D,Y+(m-I),_,X),ee=b.getImageData(x,Y+m,_,X);R&&j(K.data,P,B,U),G(K.data,ee.data,L),b.putImageData(ee,x,Y+m)}}function W(C,b,_,S){let k=S[0],N=S[1],L=S[2]-k,x=S[3]-N;L===0||x===0||($(b.context,_,L,x,b.subtype,b.backdrop,b.transferMap,k,N,b.offsetX,b.offsetY),C.save(),C.globalAlpha=1,C.globalCompositeOperation="source-over",C.setTransform(1,0,0,1,0,0),C.drawImage(_.canvas,0,0),C.restore())}function ne(C,b){let _=r.Util.singularValueDecompose2dScale(C);_[0]=Math.fround(_[0]),_[1]=Math.fround(_[1]);let S=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return b!==void 0?b:_[0]<=S||_[1]<=S}let J=["butt","round","square"],Q=["miter","round","bevel"],oe={},Z={};class O{constructor(b,_,S,k,N,{optionalContentConfig:L,markedContentStack:x=null},m,D){this.ctx=b,this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_,this.objs=S,this.canvasFactory=k,this.filterFactory=N,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=x||[],this.optionalContentConfig=L,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=m,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=D,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(b,_=null){return typeof b=="string"?b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b):_}beginDrawing({transform:b,viewport:_,transparency:S=!1,background:k=null}){let N=this.ctx.canvas.width,L=this.ctx.canvas.height,x=this.ctx.fillStyle;if(this.ctx.fillStyle=k||"#ffffff",this.ctx.fillRect(0,0,N,L),this.ctx.fillStyle=x,S){let m=this.cachedCanvases.getCanvas("transparent",N,L);this.compositeCtx=this.ctx,this.transparentCanvas=m.canvas,this.ctx=m.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),A(this.ctx),b&&(this.ctx.transform(...b),this.outputScaleX=b[0],this.outputScaleY=b[0]),this.ctx.transform(..._.transform),this.viewportScale=_.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(b,_,S,k){let N=b.argsArray,L=b.fnArray,x=_||0,m=N.length;if(m===x)return x;let D=m-x>u&&typeof S=="function",I=D?Date.now()+a:0,R=0,P=this.commonObjs,B=this.objs,U;for(;;){if(k!==void 0&&x===k.nextBreakPoint)return k.breakIt(x,S),x;if(U=L[x],U!==r.OPS.dependency)this[U].apply(this,N[x]);else for(let G of N[x]){let ie=G.startsWith("g_")?P:B;if(!ie.has(G))return ie.get(G,S),x}if(x++,x===m)return x;if(D&&++R>u){if(Date.now()>I)return S(),x;R=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let b of this._cachedBitmapsMap.values()){for(let _ of b.values())typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement&&(_.width=_.height=0);b.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let b=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(b!=="none"){let _=this.ctx.filter;this.ctx.filter=b,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_}}}_scaleImage(b,_){let S=b.width,k=b.height,N=Math.max(Math.hypot(_[0],_[1]),1),L=Math.max(Math.hypot(_[2],_[3]),1),x=S,m=k,D="prescale1",I,R;for(;N>2&&x>1||L>2&&m>1;){let P=x,B=m;N>2&&x>1&&(P=x>=16384?Math.floor(x/2)-1||1:Math.ceil(x/2),N/=x/P),L>2&&m>1&&(B=m>=16384?Math.floor(m/2)-1||1:Math.ceil(m)/2,L/=m/B),I=this.cachedCanvases.getCanvas(D,P,B),R=I.context,R.clearRect(0,0,P,B),R.drawImage(b,0,0,x,m,0,0,P,B),b=I.canvas,x=P,m=B,D=D==="prescale1"?"prescale2":"prescale1"}return{img:b,paintWidth:x,paintHeight:m}}_createMaskCanvas(b){let _=this.ctx,{width:S,height:k}=b,N=this.current.fillColor,L=this.current.patternFill,x=(0,i.getCurrentTransform)(_),m,D,I,R;if((b.bitmap||b.data)&&b.count>1){let de=b.bitmap||b.data.buffer;D=JSON.stringify(L?x:[x.slice(0,4),N]),m=this._cachedBitmapsMap.get(de),m||(m=new Map,this._cachedBitmapsMap.set(de,m));let pe=m.get(D);if(pe&&!L){let _e=Math.round(Math.min(x[0],x[2])+x[4]),Te=Math.round(Math.min(x[1],x[3])+x[5]);return{canvas:pe,offsetX:_e,offsetY:Te}}I=pe}I||(R=this.cachedCanvases.getCanvas("maskCanvas",S,k),T(R.context,b));let P=r.Util.transform(x,[1/S,0,0,-1/k,0,0]);P=r.Util.transform(P,[1,0,0,1,0,-k]);let B=r.Util.applyTransform([0,0],P),U=r.Util.applyTransform([S,k],P),G=r.Util.normalizeRect([B[0],B[1],U[0],U[1]]),ie=Math.round(G[2]-G[0])||1,q=Math.round(G[3]-G[1])||1,Y=this.cachedCanvases.getCanvas("fillCanvas",ie,q),X=Y.context,K=Math.min(B[0],U[0]),ee=Math.min(B[1],U[1]);X.translate(-K,-ee),X.transform(...P),I||(I=this._scaleImage(R.canvas,(0,i.getCurrentTransformInverse)(X)),I=I.img,m&&L&&m.set(D,I)),X.imageSmoothingEnabled=ne((0,i.getCurrentTransform)(X),b.interpolate),v(X,I,0,0,I.width,I.height,0,0,S,k),X.globalCompositeOperation="source-in";let le=r.Util.transform((0,i.getCurrentTransformInverse)(X),[1,0,0,1,-K,-ee]);return X.fillStyle=L?N.getPattern(_,this,le,o.PathType.FILL):N,X.fillRect(0,0,S,k),m&&!L&&(this.cachedCanvases.delete("fillCanvas"),m.set(D,Y.canvas)),{canvas:Y.canvas,offsetX:Math.round(K),offsetY:Math.round(ee)}}setLineWidth(b){b!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=b,this.ctx.lineWidth=b}setLineCap(b){this.ctx.lineCap=J[b]}setLineJoin(b){this.ctx.lineJoin=Q[b]}setMiterLimit(b){this.ctx.miterLimit=b}setDash(b,_){let S=this.ctx;S.setLineDash!==void 0&&(S.setLineDash(b),S.lineDashOffset=_)}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(let[_,S]of b)switch(_){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S[0],S[1]);break;case"CA":this.current.strokeAlpha=S;break;case"ca":this.current.fillAlpha=S,this.ctx.globalAlpha=S;break;case"BM":this.ctx.globalCompositeOperation=S;break;case"SMask":this.current.activeSMask=S?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(S);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let b=this.inSMaskMode;this.current.activeSMask&&!b?this.beginSMaskMode():!this.current.activeSMask&&b&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let b=this.ctx.canvas.width,_=this.ctx.canvas.height,S="smaskGroupAt"+this.groupLevel,k=this.cachedCanvases.getCanvas(S,b,_);this.suspendedCtx=this.ctx,this.ctx=k.context;let N=this.ctx;N.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),E(this.suspendedCtx,N),g(N,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),E(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(b){if(!this.current.activeSMask)return;b?(b[0]=Math.floor(b[0]),b[1]=Math.floor(b[1]),b[2]=Math.ceil(b[2]),b[3]=Math.ceil(b[3])):b=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let _=this.current.activeSMask,S=this.suspendedCtx;W(S,_,this.ctx,b),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(E(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let b=this.current;this.stateStack.push(b),this.current=b.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),E(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(b,_,S,k,N,L){this.ctx.transform(b,_,S,k,N,L),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(b,_,S){let k=this.ctx,N=this.current,L=N.x,x=N.y,m,D,I=(0,i.getCurrentTransform)(k),R=I[0]===0&&I[3]===0||I[1]===0&&I[2]===0,P=R?S.slice(0):null;for(let B=0,U=0,G=b.length;B<G;B++)switch(b[B]|0){case r.OPS.rectangle:L=_[U++],x=_[U++];let ie=_[U++],q=_[U++],Y=L+ie,X=x+q;k.moveTo(L,x),ie===0||q===0?k.lineTo(Y,X):(k.lineTo(Y,x),k.lineTo(Y,X),k.lineTo(L,X)),R||N.updateRectMinMax(I,[L,x,Y,X]),k.closePath();break;case r.OPS.moveTo:L=_[U++],x=_[U++],k.moveTo(L,x),R||N.updatePathMinMax(I,L,x);break;case r.OPS.lineTo:L=_[U++],x=_[U++],k.lineTo(L,x),R||N.updatePathMinMax(I,L,x);break;case r.OPS.curveTo:m=L,D=x,L=_[U+4],x=_[U+5],k.bezierCurveTo(_[U],_[U+1],_[U+2],_[U+3],L,x),N.updateCurvePathMinMax(I,m,D,_[U],_[U+1],_[U+2],_[U+3],L,x,P),U+=6;break;case r.OPS.curveTo2:m=L,D=x,k.bezierCurveTo(L,x,_[U],_[U+1],_[U+2],_[U+3]),N.updateCurvePathMinMax(I,m,D,L,x,_[U],_[U+1],_[U+2],_[U+3],P),L=_[U+2],x=_[U+3],U+=4;break;case r.OPS.curveTo3:m=L,D=x,L=_[U+2],x=_[U+3],k.bezierCurveTo(_[U],_[U+1],L,x,L,x),N.updateCurvePathMinMax(I,m,D,_[U],_[U+1],L,x,L,x,P),U+=4;break;case r.OPS.closePath:k.closePath();break}R&&N.updateScalingPathMinMax(I,P),N.setCurrentPoint(L,x)}closePath(){this.ctx.closePath()}stroke(b=!0){let _=this.ctx,S=this.current.strokeColor;_.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof S=="object"&&S?.getPattern?(_.save(),_.strokeStyle=S.getPattern(_,this,(0,i.getCurrentTransformInverse)(_),o.PathType.STROKE),this.rescaleAndStroke(!1),_.restore()):this.rescaleAndStroke(!0)),b&&this.consumePath(this.current.getClippedPathBoundingBox()),_.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(b=!0){let _=this.ctx,S=this.current.fillColor,k=this.current.patternFill,N=!1;k&&(_.save(),_.fillStyle=S.getPattern(_,this,(0,i.getCurrentTransformInverse)(_),o.PathType.FILL),N=!0);let L=this.current.getClippedPathBoundingBox();this.contentVisible&&L!==null&&(this.pendingEOFill?(_.fill("evenodd"),this.pendingEOFill=!1):_.fill()),N&&_.restore(),b&&this.consumePath(L)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=oe}eoClip(){this.pendingClip=Z}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let b=this.pendingTextPaths,_=this.ctx;if(b===void 0){_.beginPath();return}_.save(),_.beginPath();for(let S of b)_.setTransform(...S.transform),_.translate(S.x,S.y),S.addToPath(_,S.fontSize);_.restore(),_.clip(),_.beginPath(),delete this.pendingTextPaths}setCharSpacing(b){this.current.charSpacing=b}setWordSpacing(b){this.current.wordSpacing=b}setHScale(b){this.current.textHScale=b/100}setLeading(b){this.current.leading=-b}setFont(b,_){let S=this.commonObjs.get(b),k=this.current;if(!S)throw new Error(`Can't find font for ${b}`);if(k.fontMatrix=S.fontMatrix||r.FONT_IDENTITY_MATRIX,(k.fontMatrix[0]===0||k.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+b),_<0?(_=-_,k.fontDirection=-1):k.fontDirection=1,this.current.font=S,this.current.fontSize=_,S.isType3Font)return;let N=S.loadedName||"sans-serif",L=S.systemFontInfo?.css||`"${N}", ${S.fallbackName}`,x="normal";S.black?x="900":S.bold&&(x="bold");let m=S.italic?"italic":"normal",D=_;_<l?D=l:_>d&&(D=d),this.current.fontSizeScale=_/D,this.ctx.font=`${m} ${x} ${D}px ${L}`}setTextRenderingMode(b){this.current.textRenderingMode=b}setTextRise(b){this.current.textRise=b}moveText(b,_){this.current.x=this.current.lineX+=b,this.current.y=this.current.lineY+=_}setLeadingMoveText(b,_){this.setLeading(-_),this.moveText(b,_)}setTextMatrix(b,_,S,k,N,L){this.current.textMatrix=[b,_,S,k,N,L],this.current.textMatrixScale=Math.hypot(b,_),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(b,_,S,k){let N=this.ctx,L=this.current,x=L.font,m=L.textRenderingMode,D=L.fontSize/L.fontSizeScale,I=m&r.TextRenderingMode.FILL_STROKE_MASK,R=!!(m&r.TextRenderingMode.ADD_TO_PATH_FLAG),P=L.patternFill&&!x.missingFile,B;(x.disableFontFace||R||P)&&(B=x.getPathGenerator(this.commonObjs,b)),x.disableFontFace||P?(N.save(),N.translate(_,S),N.beginPath(),B(N,D),k&&N.setTransform(...k),(I===r.TextRenderingMode.FILL||I===r.TextRenderingMode.FILL_STROKE)&&N.fill(),(I===r.TextRenderingMode.STROKE||I===r.TextRenderingMode.FILL_STROKE)&&N.stroke(),N.restore()):((I===r.TextRenderingMode.FILL||I===r.TextRenderingMode.FILL_STROKE)&&N.fillText(b,_,S),(I===r.TextRenderingMode.STROKE||I===r.TextRenderingMode.FILL_STROKE)&&N.strokeText(b,_,S)),R&&(this.pendingTextPaths||=[]).push({transform:(0,i.getCurrentTransform)(N),x:_,y:S,fontSize:D,addToPath:B})}get isFontSubpixelAAEnabled(){let{context:b}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);b.scale(1.5,1),b.fillText("I",0,10);let _=b.getImageData(0,0,10,10).data,S=!1;for(let k=3;k<_.length;k+=4)if(_[k]>0&&_[k]<255){S=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",S)}showText(b){let _=this.current,S=_.font;if(S.isType3Font)return this.showType3Text(b);let k=_.fontSize;if(k===0)return;let N=this.ctx,L=_.fontSizeScale,x=_.charSpacing,m=_.wordSpacing,D=_.fontDirection,I=_.textHScale*D,R=b.length,P=S.vertical,B=P?1:-1,U=S.defaultVMetrics,G=k*_.fontMatrix[0],ie=_.textRenderingMode===r.TextRenderingMode.FILL&&!S.disableFontFace&&!_.patternFill;N.save(),N.transform(..._.textMatrix),N.translate(_.x,_.y+_.textRise),D>0?N.scale(I,-1):N.scale(I,1);let q;if(_.patternFill){N.save();let le=_.fillColor.getPattern(N,this,(0,i.getCurrentTransformInverse)(N),o.PathType.FILL);q=(0,i.getCurrentTransform)(N),N.restore(),N.fillStyle=le}let Y=_.lineWidth,X=_.textMatrixScale;if(X===0||Y===0){let le=_.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(le===r.TextRenderingMode.STROKE||le===r.TextRenderingMode.FILL_STROKE)&&(Y=this.getSinglePixelWidth())}else Y/=X;if(L!==1&&(N.scale(L,L),Y/=L),N.lineWidth=Y,S.isInvalidPDFjsFont){let le=[],de=0;for(let pe of b)le.push(pe.unicode),de+=pe.width;N.fillText(le.join(""),0,0),_.x+=de*G*I,N.restore(),this.compose();return}let K=0,ee;for(ee=0;ee<R;++ee){let le=b[ee];if(typeof le=="number"){K+=B*le*k/1e3;continue}let de=!1,pe=(le.isSpace?m:0)+x,_e=le.fontChar,Te=le.accent,Ue,Et,ut=le.width;if(P){let dt=le.vmetric||U,fn=-(le.vmetric?dt[1]:ut*.5)*G,Na=dt[2]*G;ut=dt?-dt[0]:ut,Ue=fn/L,Et=(K+Na)/L}else Ue=K/L,Et=0;if(S.remeasure&&ut>0){let dt=N.measureText(_e).width*1e3/k*L;if(ut<dt&&this.isFontSubpixelAAEnabled){let fn=ut/dt;de=!0,N.save(),N.scale(fn,1),Ue/=fn}else ut!==dt&&(Ue+=(ut-dt)/2e3*k/L)}if(this.contentVisible&&(le.isInFont||S.missingFile)){if(ie&&!Te)N.fillText(_e,Ue,Et);else if(this.paintChar(_e,Ue,Et,q),Te){let dt=Ue+k*Te.offset.x/L,fn=Et-k*Te.offset.y/L;this.paintChar(Te.fontChar,dt,fn,q)}}let fr=P?ut*G-pe*D:ut*G+pe*D;K+=fr,de&&N.restore()}P?_.y-=K:_.x+=K*I,N.restore(),this.compose()}showType3Text(b){let _=this.ctx,S=this.current,k=S.font,N=S.fontSize,L=S.fontDirection,x=k.vertical?1:-1,m=S.charSpacing,D=S.wordSpacing,I=S.textHScale*L,R=S.fontMatrix||r.FONT_IDENTITY_MATRIX,P=b.length,B=S.textRenderingMode===r.TextRenderingMode.INVISIBLE,U,G,ie,q;if(!(B||N===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,_.save(),_.transform(...S.textMatrix),_.translate(S.x,S.y),_.scale(I,L),U=0;U<P;++U){if(G=b[U],typeof G=="number"){q=x*G*N/1e3,this.ctx.translate(q,0),S.x+=q*I;continue}let Y=(G.isSpace?D:0)+m,X=k.charProcOperatorList[G.operatorListId];if(!X){(0,r.warn)(`Type3 character "${G.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=G,this.save(),_.scale(N,N),_.transform(...R),this.executeOperatorList(X),this.restore()),ie=r.Util.applyTransform([G.width,0],R)[0]*N+Y,_.translate(ie,0),S.x+=ie*I}_.restore(),this.processingType3=null}}setCharWidth(b,_){}setCharWidthAndBounds(b,_,S,k,N,L){this.ctx.rect(S,k,N-S,L-k),this.ctx.clip(),this.endPath()}getColorN_Pattern(b){let _;if(b[0]==="TilingPattern"){let S=b[1],k=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),N={createCanvasGraphics:L=>new O(L,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};_=new o.TilingPattern(b,S,this.ctx,N,k)}else _=this._getPattern(b[1],b[2]);return _}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(b,_,S){let k=r.Util.makeHexColor(b,_,S);this.ctx.strokeStyle=k,this.current.strokeColor=k}setFillRGBColor(b,_,S){let k=r.Util.makeHexColor(b,_,S);this.ctx.fillStyle=k,this.current.fillColor=k,this.current.patternFill=!1}_getPattern(b,_=null){let S;return this.cachedPatterns.has(b)?S=this.cachedPatterns.get(b):(S=(0,o.getShadingPattern)(this.getObject(b)),this.cachedPatterns.set(b,S)),_&&(S.matrix=_),S}shadingFill(b){if(!this.contentVisible)return;let _=this.ctx;this.save();let S=this._getPattern(b);_.fillStyle=S.getPattern(_,this,(0,i.getCurrentTransformInverse)(_),o.PathType.SHADING);let k=(0,i.getCurrentTransformInverse)(_);if(k){let{width:N,height:L}=_.canvas,[x,m,D,I]=r.Util.getAxialAlignedBoundingBox([0,0,N,L],k);this.ctx.fillRect(x,m,D-x,I-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(b,_){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(b)&&b.length===6&&this.transform(...b),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),_)){let S=_[2]-_[0],k=_[3]-_[1];this.ctx.rect(_[0],_[1],S,k),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),_),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(b){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let _=this.ctx;b.isolated||(0,r.info)("TODO: Support non-isolated groups."),b.knockout&&(0,r.warn)("Knockout groups not supported.");let S=(0,i.getCurrentTransform)(_);if(b.matrix&&_.transform(...b.matrix),!b.bbox)throw new Error("Bounding box is required.");let k=r.Util.getAxialAlignedBoundingBox(b.bbox,(0,i.getCurrentTransform)(_)),N=[0,0,_.canvas.width,_.canvas.height];k=r.Util.intersect(k,N)||[0,0,0,0];let L=Math.floor(k[0]),x=Math.floor(k[1]),m=Math.max(Math.ceil(k[2])-L,1),D=Math.max(Math.ceil(k[3])-x,1),I=1,R=1;m>c&&(I=m/c,m=c),D>c&&(R=D/c,D=c),this.current.startNewPathAndClipBox([0,0,m,D]);let P="groupAt"+this.groupLevel;b.smask&&(P+="_smask_"+this.smaskCounter++%2);let B=this.cachedCanvases.getCanvas(P,m,D),U=B.context;U.scale(1/I,1/R),U.translate(-L,-x),U.transform(...S),b.smask?this.smaskStack.push({canvas:B.canvas,context:U,offsetX:L,offsetY:x,scaleX:I,scaleY:R,subtype:b.smask.subtype,backdrop:b.smask.backdrop,transferMap:b.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(L,x),_.scale(I,R),_.save()),E(_,U),this.ctx=U,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_),this.groupLevel++}endGroup(b){if(!this.contentVisible)return;this.groupLevel--;let _=this.ctx,S=this.groupStack.pop();if(this.ctx=S,this.ctx.imageSmoothingEnabled=!1,b.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let k=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...k);let N=r.Util.getAxialAlignedBoundingBox([0,0,_.canvas.width,_.canvas.height],k);this.ctx.drawImage(_.canvas,0,0),this.ctx.restore(),this.compose(N)}}beginAnnotation(b,_,S,k,N){if(this.#e(),A(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(_)&&_.length===4){let L=_[2]-_[0],x=_[3]-_[1];if(N&&this.annotationCanvasMap){S=S.slice(),S[4]-=_[0],S[5]-=_[1],_=_.slice(),_[0]=_[1]=0,_[2]=L,_[3]=x;let[m,D]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:I}=this,R=Math.ceil(L*this.outputScaleX*I),P=Math.ceil(x*this.outputScaleY*I);this.annotationCanvas=this.canvasFactory.create(R,P);let{canvas:B,context:U}=this.annotationCanvas;this.annotationCanvasMap.set(b,B),this.annotationCanvas.savedCtx=this.ctx,this.ctx=U,this.ctx.save(),this.ctx.setTransform(m,0,0,-D,0,x*D),A(this.ctx)}else A(this.ctx),this.ctx.rect(_[0],_[1],L,x),this.ctx.clip(),this.endPath()}this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...S),this.transform(...k)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(b){if(!this.contentVisible)return;let _=b.count;b=this.getObject(b.data,b),b.count=_;let S=this.ctx,k=this.processingType3;if(k&&(k.compiled===void 0&&(k.compiled=y(b)),k.compiled)){k.compiled(S);return}let N=this._createMaskCanvas(b),L=N.canvas;S.save(),S.setTransform(1,0,0,1,0,0),S.drawImage(L,N.offsetX,N.offsetY),S.restore(),this.compose()}paintImageMaskXObjectRepeat(b,_,S=0,k=0,N,L){if(!this.contentVisible)return;b=this.getObject(b.data,b);let x=this.ctx;x.save();let m=(0,i.getCurrentTransform)(x);x.transform(_,S,k,N,0,0);let D=this._createMaskCanvas(b);x.setTransform(1,0,0,1,D.offsetX-m[4],D.offsetY-m[5]);for(let I=0,R=L.length;I<R;I+=2){let P=r.Util.transform(m,[_,S,k,N,L[I],L[I+1]]),[B,U]=r.Util.applyTransform([0,0],P);x.drawImage(D.canvas,B,U)}x.restore(),this.compose()}paintImageMaskXObjectGroup(b){if(!this.contentVisible)return;let _=this.ctx,S=this.current.fillColor,k=this.current.patternFill;for(let N of b){let{data:L,width:x,height:m,transform:D}=N,I=this.cachedCanvases.getCanvas("maskCanvas",x,m),R=I.context;R.save();let P=this.getObject(L,N);T(R,P),R.globalCompositeOperation="source-in",R.fillStyle=k?S.getPattern(R,this,(0,i.getCurrentTransformInverse)(_),o.PathType.FILL):S,R.fillRect(0,0,x,m),R.restore(),_.save(),_.transform(...D),_.scale(1,-1),v(_,I.canvas,0,0,x,m,0,-1,1,1),_.restore()}this.compose()}paintImageXObject(b){if(!this.contentVisible)return;let _=this.getObject(b);if(!_){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_)}paintImageXObjectRepeat(b,_,S,k){if(!this.contentVisible)return;let N=this.getObject(b);if(!N){(0,r.warn)("Dependent image isn't ready yet");return}let L=N.width,x=N.height,m=[];for(let D=0,I=k.length;D<I;D+=2)m.push({transform:[_,0,0,S,k[D],k[D+1]],x:0,y:0,w:L,h:x});this.paintInlineImageXObjectGroup(N,m)}applyTransferMapsToCanvas(b){return this.current.transferMaps!=="none"&&(b.filter=this.current.transferMaps,b.drawImage(b.canvas,0,0),b.filter="none"),b.canvas}applyTransferMapsToBitmap(b){if(this.current.transferMaps==="none")return b.bitmap;let{bitmap:_,width:S,height:k}=b,N=this.cachedCanvases.getCanvas("inlineImage",S,k),L=N.context;return L.filter=this.current.transferMaps,L.drawImage(_,0,0),L.filter="none",N.canvas}paintInlineImageXObject(b){if(!this.contentVisible)return;let _=b.width,S=b.height,k=this.ctx;if(this.save(),!r.isNodeJS){let{filter:x}=k;x!=="none"&&x!==""&&(k.filter="none")}k.scale(1/_,-1/S);let N;if(b.bitmap)N=this.applyTransferMapsToBitmap(b);else if(typeof HTMLElement=="function"&&b instanceof HTMLElement||!b.data)N=b;else{let m=this.cachedCanvases.getCanvas("inlineImage",_,S).context;M(m,b),N=this.applyTransferMapsToCanvas(m)}let L=this._scaleImage(N,(0,i.getCurrentTransformInverse)(k));k.imageSmoothingEnabled=ne((0,i.getCurrentTransform)(k),b.interpolate),v(k,L.img,0,0,L.paintWidth,L.paintHeight,0,-S,_,S),this.compose(),this.restore()}paintInlineImageXObjectGroup(b,_){if(!this.contentVisible)return;let S=this.ctx,k;if(b.bitmap)k=b.bitmap;else{let N=b.width,L=b.height,m=this.cachedCanvases.getCanvas("inlineImage",N,L).context;M(m,b),k=this.applyTransferMapsToCanvas(m)}for(let N of _)S.save(),S.transform(...N.transform),S.scale(1,-1),v(S,k,N.x,N.y,N.w,N.h,0,-1,1,1),S.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(b){}markPointProps(b,_){}beginMarkedContent(b){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(b,_){b==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(b){let _=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(b);let S=this.ctx;this.pendingClip&&(_||(this.pendingClip===Z?S.clip("evenodd"):S.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),S.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let b=(0,i.getCurrentTransform)(this.ctx);if(b[1]===0&&b[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(b[0]),Math.abs(b[3]));else{let _=Math.abs(b[0]*b[3]-b[2]*b[1]),S=Math.hypot(b[0],b[2]),k=Math.hypot(b[1],b[3]);this._cachedGetSinglePixelWidth=Math.max(S,k)/_}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:b}=this.current,{a:_,b:S,c:k,d:N}=this.ctx.getTransform(),L,x;if(S===0&&k===0){let m=Math.abs(_),D=Math.abs(N);if(m===D)if(b===0)L=x=1/m;else{let I=m*b;L=x=I<1?1/I:1}else if(b===0)L=1/m,x=1/D;else{let I=m*b,R=D*b;L=I<1?1/I:1,x=R<1?1/R:1}}else{let m=Math.abs(_*N-S*k),D=Math.hypot(_,S),I=Math.hypot(k,N);if(b===0)L=I/m,x=D/m;else{let R=b*m;L=I>R?I/R:1,x=D>R?D/R:1}}this._cachedScaleForStroking[0]=L,this._cachedScaleForStroking[1]=x}return this._cachedScaleForStroking}rescaleAndStroke(b){let{ctx:_}=this,{lineWidth:S}=this.current,[k,N]=this.getScaleForStroking();if(_.lineWidth=S||1,k===1&&N===1){_.stroke();return}let L=_.getLineDash();if(b&&_.save(),_.scale(k,N),L.length>0){let x=Math.max(k,N);_.setLineDash(L.map(m=>m/x)),_.lineDashOffset/=x}_.stroke(),b&&_.restore()}isContentVisible(){for(let b=this.markedContentStack.length-1;b>=0;b--)if(!this.markedContentStack[b].visible)return!1;return!0}}t.CanvasGraphics=O;for(let C in r.OPS)O.prototype[C]!==void 0&&(O.prototype[r.OPS[C]]=O.prototype[C])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=p;var r=n(1),i=n(6);let o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=o;function s(v,y){if(!y)return;let w=y[2]-y[0],M=y[3]-y[1],T=new Path2D;T.rect(y[0],y[1],w,M),v.clip(T)}class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class d extends l{constructor(y){super(),this._type=y[1],this._bbox=y[2],this._colorStops=y[3],this._p0=y[4],this._p1=y[5],this._r0=y[6],this._r1=y[7],this.matrix=null}_createGradient(y){let w;this._type==="axial"?w=y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(w=y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let M of this._colorStops)w.addColorStop(M[0],M[1]);return w}getPattern(y,w,M,T){let E;if(T===o.STROKE||T===o.FILL){let A=w.current.getClippedPathBoundingBox(T,(0,i.getCurrentTransform)(y))||[0,0,0,0],j=Math.ceil(A[2]-A[0])||1,V=Math.ceil(A[3]-A[1])||1,F=w.cachedCanvases.getCanvas("pattern",j,V,!0),$=F.context;$.clearRect(0,0,$.canvas.width,$.canvas.height),$.beginPath(),$.rect(0,0,$.canvas.width,$.canvas.height),$.translate(-A[0],-A[1]),M=r.Util.transform(M,[1,0,0,1,A[0],A[1]]),$.transform(...w.baseTransform),this.matrix&&$.transform(...this.matrix),s($,this._bbox),$.fillStyle=this._createGradient($),$.fill(),E=y.createPattern(F.canvas,"no-repeat");let W=new DOMMatrix(M);E.setTransform(W)}else s(y,this._bbox),E=this._createGradient(y);return E}}function c(v,y,w,M,T,E,A,j){let V=y.coords,F=y.colors,$=v.data,W=v.width*4,ne;V[w+1]>V[M+1]&&(ne=w,w=M,M=ne,ne=E,E=A,A=ne),V[M+1]>V[T+1]&&(ne=M,M=T,T=ne,ne=A,A=j,j=ne),V[w+1]>V[M+1]&&(ne=w,w=M,M=ne,ne=E,E=A,A=ne);let J=(V[w]+y.offsetX)*y.scaleX,Q=(V[w+1]+y.offsetY)*y.scaleY,oe=(V[M]+y.offsetX)*y.scaleX,Z=(V[M+1]+y.offsetY)*y.scaleY,O=(V[T]+y.offsetX)*y.scaleX,C=(V[T+1]+y.offsetY)*y.scaleY;if(Q>=C)return;let b=F[E],_=F[E+1],S=F[E+2],k=F[A],N=F[A+1],L=F[A+2],x=F[j],m=F[j+1],D=F[j+2],I=Math.round(Q),R=Math.round(C),P,B,U,G,ie,q,Y,X;for(let K=I;K<=R;K++){if(K<Z){let _e=K<Q?0:(Q-K)/(Q-Z);P=J-(J-oe)*_e,B=b-(b-k)*_e,U=_-(_-N)*_e,G=S-(S-L)*_e}else{let _e;K>C?_e=1:Z===C?_e=0:_e=(Z-K)/(Z-C),P=oe-(oe-O)*_e,B=k-(k-x)*_e,U=N-(N-m)*_e,G=L-(L-D)*_e}let ee;K<Q?ee=0:K>C?ee=1:ee=(Q-K)/(Q-C),ie=J-(J-O)*ee,q=b-(b-x)*ee,Y=_-(_-m)*ee,X=S-(S-D)*ee;let le=Math.round(Math.min(P,ie)),de=Math.round(Math.max(P,ie)),pe=W*K+le*4;for(let _e=le;_e<=de;_e++)ee=(P-_e)/(P-ie),ee<0?ee=0:ee>1&&(ee=1),$[pe++]=B-(B-q)*ee|0,$[pe++]=U-(U-Y)*ee|0,$[pe++]=G-(G-X)*ee|0,$[pe++]=255}}function a(v,y,w){let M=y.coords,T=y.colors,E,A;switch(y.type){case"lattice":let j=y.verticesPerRow,V=Math.floor(M.length/j)-1,F=j-1;for(E=0;E<V;E++){let $=E*j;for(let W=0;W<F;W++,$++)c(v,w,M[$],M[$+1],M[$+j],T[$],T[$+1],T[$+j]),c(v,w,M[$+j+1],M[$+1],M[$+j],T[$+j+1],T[$+1],T[$+j])}break;case"triangles":for(E=0,A=M.length;E<A;E+=3)c(v,w,M[E],M[E+1],M[E+2],T[E],T[E+1],T[E+2]);break;default:throw new Error("illegal figure")}}class u extends l{constructor(y){super(),this._coords=y[2],this._colors=y[3],this._figures=y[4],this._bounds=y[5],this._bbox=y[7],this._background=y[8],this.matrix=null}_createMeshCanvas(y,w,M){let j=Math.floor(this._bounds[0]),V=Math.floor(this._bounds[1]),F=Math.ceil(this._bounds[2])-j,$=Math.ceil(this._bounds[3])-V,W=Math.min(Math.ceil(Math.abs(F*y[0]*1.1)),3e3),ne=Math.min(Math.ceil(Math.abs($*y[1]*1.1)),3e3),J=F/W,Q=$/ne,oe={coords:this._coords,colors:this._colors,offsetX:-j,offsetY:-V,scaleX:1/J,scaleY:1/Q},Z=W+2*2,O=ne+2*2,C=M.getCanvas("mesh",Z,O,!1),b=C.context,_=b.createImageData(W,ne);if(w){let k=_.data;for(let N=0,L=k.length;N<L;N+=4)k[N]=w[0],k[N+1]=w[1],k[N+2]=w[2],k[N+3]=255}for(let k of this._figures)a(_,k,oe);return b.putImageData(_,2,2),{canvas:C.canvas,offsetX:j-2*J,offsetY:V-2*Q,scaleX:J,scaleY:Q}}getPattern(y,w,M,T){s(y,this._bbox);let E;if(T===o.SHADING)E=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(y));else if(E=r.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){let j=r.Util.singularValueDecompose2dScale(this.matrix);E=[E[0]*j[0],E[1]*j[1]]}let A=this._createMeshCanvas(E,T===o.SHADING?null:this._background,w.cachedCanvases);return T!==o.SHADING&&(y.setTransform(...w.baseTransform),this.matrix&&y.transform(...this.matrix)),y.translate(A.offsetX,A.offsetY),y.scale(A.scaleX,A.scaleY),y.createPattern(A.canvas,"no-repeat")}}class f extends l{getPattern(){return"hotpink"}}function p(v){switch(v[0]){case"RadialAxial":return new d(v);case"Mesh":return new u(v);case"Dummy":return new f}throw new Error(`Unknown IR type: ${v[0]}`)}let g={COLORED:1,UNCOLORED:2},h=(()=>{class v{static MAX_PATTERN_SIZE=3e3;constructor(w,M,T,E,A){this.operatorList=w[2],this.matrix=w[3]||[1,0,0,1,0,0],this.bbox=w[4],this.xstep=w[5],this.ystep=w[6],this.paintType=w[7],this.tilingType=w[8],this.color=M,this.ctx=T,this.canvasGraphicsFactory=E,this.baseTransform=A}createPatternCanvas(w){let M=this.operatorList,T=this.bbox,E=this.xstep,A=this.ystep,j=this.paintType,V=this.tilingType,F=this.color,$=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+V);let W=T[0],ne=T[1],J=T[2],Q=T[3],oe=r.Util.singularValueDecompose2dScale(this.matrix),Z=r.Util.singularValueDecompose2dScale(this.baseTransform),O=[oe[0]*Z[0],oe[1]*Z[1]],C=this.getSizeAndScale(E,this.ctx.canvas.width,O[0]),b=this.getSizeAndScale(A,this.ctx.canvas.height,O[1]),_=w.cachedCanvases.getCanvas("pattern",C.size,b.size,!0),S=_.context,k=$.createCanvasGraphics(S);k.groupLevel=w.groupLevel,this.setFillAndStrokeStyleToContext(k,j,F);let N=W,L=ne,x=J,m=Q;return W<0&&(N=0,x+=Math.abs(W)),ne<0&&(L=0,m+=Math.abs(ne)),S.translate(-(C.scale*N),-(b.scale*L)),k.transform(C.scale,0,0,b.scale,0,0),S.save(),this.clipBbox(k,N,L,x,m),k.baseTransform=(0,i.getCurrentTransform)(k.ctx),k.executeOperatorList(M),k.endDrawing(),{canvas:_.canvas,scaleX:C.scale,scaleY:b.scale,offsetX:N,offsetY:L}}getSizeAndScale(w,M,T){w=Math.abs(w);let E=Math.max(v.MAX_PATTERN_SIZE,M),A=Math.ceil(w*T);return A>=E?A=E:T=A/w,{scale:T,size:A}}clipBbox(w,M,T,E,A){let j=E-M,V=A-T;w.ctx.rect(M,T,j,V),w.current.updateRectMinMax((0,i.getCurrentTransform)(w.ctx),[M,T,E,A]),w.clip(),w.endPath()}setFillAndStrokeStyleToContext(w,M,T){let E=w.ctx,A=w.current;switch(M){case g.COLORED:let j=this.ctx;E.fillStyle=j.fillStyle,E.strokeStyle=j.strokeStyle,A.fillColor=j.fillStyle,A.strokeColor=j.strokeStyle;break;case g.UNCOLORED:let V=r.Util.makeHexColor(T[0],T[1],T[2]);E.fillStyle=V,E.strokeStyle=V,A.fillColor=V,A.strokeColor=V;break;default:throw new r.FormatError(`Unsupported paint type: ${M}`)}}getPattern(w,M,T,E){let A=T;E!==o.SHADING&&(A=r.Util.transform(A,M.baseTransform),this.matrix&&(A=r.Util.transform(A,this.matrix)));let j=this.createPatternCanvas(M),V=new DOMMatrix(A);V=V.translate(j.offsetX,j.offsetY),V=V.scale(1/j.scaleX,1/j.scaleY);let F=w.createPattern(j.canvas,"repeat");return F.setTransform(V),F}}return v})();t.TilingPattern=h},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=o,t.convertToRGBA=i,t.grayToRGBA=l;var r=n(1);function i(d){switch(d.kind){case r.ImageKind.GRAYSCALE_1BPP:return o(d);case r.ImageKind.RGB_24BPP:return s(d)}return null}function o({src:d,srcPos:c=0,dest:a,width:u,height:f,nonBlackColor:p=4294967295,inverseDecode:g=!1}){let h=r.FeatureTest.isLittleEndian?4278190080:255,[v,y]=g?[p,h]:[h,p],w=u>>3,M=u&7,T=d.length;a=new Uint32Array(a.buffer);let E=0;for(let A=0;A<f;A++){for(let V=c+w;c<V;c++){let F=c<T?d[c]:255;a[E++]=F&128?y:v,a[E++]=F&64?y:v,a[E++]=F&32?y:v,a[E++]=F&16?y:v,a[E++]=F&8?y:v,a[E++]=F&4?y:v,a[E++]=F&2?y:v,a[E++]=F&1?y:v}if(M===0)continue;let j=c<T?d[c++]:255;for(let V=0;V<M;V++)a[E++]=j&1<<7-V?y:v}return{srcPos:c,destPos:E}}function s({src:d,srcPos:c=0,dest:a,destPos:u=0,width:f,height:p}){let g=0,h=d.length>>2,v=new Uint32Array(d.buffer,c,h);if(r.FeatureTest.isLittleEndian){for(;g<h-2;g+=3,u+=4){let y=v[g],w=v[g+1],M=v[g+2];a[u]=y|4278190080,a[u+1]=y>>>24|w<<8|4278190080,a[u+2]=w>>>16|M<<16|4278190080,a[u+3]=M>>>8|4278190080}for(let y=g*4,w=d.length;y<w;y+=3)a[u++]=d[y]|d[y+1]<<8|d[y+2]<<16|4278190080}else{for(;g<h-2;g+=3,u+=4){let y=v[g],w=v[g+1],M=v[g+2];a[u]=y|255,a[u+1]=y<<24|w>>>8|255,a[u+2]=w<<16|M>>>16|255,a[u+3]=M<<8|255}for(let y=g*4,w=d.length;y<w;y+=3)a[u++]=d[y]<<24|d[y+1]<<16|d[y+2]<<8|255}return{srcPos:c,destPos:u}}function l(d,c){if(r.FeatureTest.isLittleEndian)for(let a=0,u=d.length;a<u;a++)c[a]=d[a]*65793|4278190080;else for(let a=0,u=d.length;a<u;a++)c[a]=d[a]*16843008|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;let n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);let i={UNKNOWN:0,DATA:1,ERROR:2},o={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function s(d){switch(d instanceof Error||typeof d=="object"&&d!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),d.name){case"AbortException":return new r.AbortException(d.message);case"MissingPDFException":return new r.MissingPDFException(d.message);case"PasswordException":return new r.PasswordException(d.message,d.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(d.message,d.status);case"UnknownErrorException":return new r.UnknownErrorException(d.message,d.details);default:return new r.UnknownErrorException(d.message,d.toString())}}class l{constructor(c,a,u){this.sourceName=c,this.targetName=a,this.comObj=u,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=f=>{let p=f.data;if(p.targetName!==this.sourceName)return;if(p.stream){this.#t(p);return}if(p.callback){let h=p.callbackId,v=this.callbackCapabilities[h];if(!v)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],p.callback===i.DATA)v.resolve(p.data);else if(p.callback===i.ERROR)v.reject(s(p.reason));else throw new Error("Unexpected callback case");return}let g=this.actionHandler[p.action];if(!g)throw new Error(`Unknown action from worker: ${p.action}`);if(p.callbackId){let h=this.sourceName,v=p.sourceName;new Promise(function(y){y(g(p.data))}).then(function(y){u.postMessage({sourceName:h,targetName:v,callback:i.DATA,callbackId:p.callbackId,data:y})},function(y){u.postMessage({sourceName:h,targetName:v,callback:i.ERROR,callbackId:p.callbackId,reason:s(y)})});return}if(p.streamId){this.#e(p);return}g(p.data)},u.addEventListener("message",this._onComObjOnMessage)}on(c,a){let u=this.actionHandler;if(u[c])throw new Error(`There is already an actionName called "${c}"`);u[c]=a}send(c,a,u){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:a},u)}sendWithPromise(c,a,u){let f=this.callbackId++,p=new r.PromiseCapability;this.callbackCapabilities[f]=p;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:f,data:a},u)}catch(g){p.reject(g)}return p.promise}sendWithStream(c,a,u,f){let p=this.streamId++,g=this.sourceName,h=this.targetName,v=this.comObj;return new ReadableStream({start:y=>{let w=new r.PromiseCapability;return this.streamControllers[p]={controller:y,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:g,targetName:h,action:c,streamId:p,data:a,desiredSize:y.desiredSize},f),w.promise},pull:y=>{let w=new r.PromiseCapability;return this.streamControllers[p].pullCall=w,v.postMessage({sourceName:g,targetName:h,stream:o.PULL,streamId:p,desiredSize:y.desiredSize}),w.promise},cancel:y=>{(0,r.assert)(y instanceof Error,"cancel must have a valid reason");let w=new r.PromiseCapability;return this.streamControllers[p].cancelCall=w,this.streamControllers[p].isClosed=!0,v.postMessage({sourceName:g,targetName:h,stream:o.CANCEL,streamId:p,reason:s(y)}),w.promise}},u)}#e(c){let a=c.streamId,u=this.sourceName,f=c.sourceName,p=this.comObj,g=this,h=this.actionHandler[c.action],v={enqueue(y,w=1,M){if(this.isCancelled)return;let T=this.desiredSize;this.desiredSize-=w,T>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),p.postMessage({sourceName:u,targetName:f,stream:o.ENQUEUE,streamId:a,chunk:y},M)},close(){this.isCancelled||(this.isCancelled=!0,p.postMessage({sourceName:u,targetName:f,stream:o.CLOSE,streamId:a}),delete g.streamSinks[a])},error(y){(0,r.assert)(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,p.postMessage({sourceName:u,targetName:f,stream:o.ERROR,streamId:a,reason:s(y)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[a]=v,new Promise(function(y){y(h(c.data,v))}).then(function(){p.postMessage({sourceName:u,targetName:f,stream:o.START_COMPLETE,streamId:a,success:!0})},function(y){p.postMessage({sourceName:u,targetName:f,stream:o.START_COMPLETE,streamId:a,reason:s(y)})})}#t(c){let a=c.streamId,u=this.sourceName,f=c.sourceName,p=this.comObj,g=this.streamControllers[a],h=this.streamSinks[a];switch(c.stream){case o.START_COMPLETE:c.success?g.startCall.resolve():g.startCall.reject(s(c.reason));break;case o.PULL_COMPLETE:c.success?g.pullCall.resolve():g.pullCall.reject(s(c.reason));break;case o.PULL:if(!h){p.postMessage({sourceName:u,targetName:f,stream:o.PULL_COMPLETE,streamId:a,success:!0});break}h.desiredSize<=0&&c.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=c.desiredSize,new Promise(function(v){v(h.onPull?.())}).then(function(){p.postMessage({sourceName:u,targetName:f,stream:o.PULL_COMPLETE,streamId:a,success:!0})},function(v){p.postMessage({sourceName:u,targetName:f,stream:o.PULL_COMPLETE,streamId:a,reason:s(v)})});break;case o.ENQUEUE:if((0,r.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(c.chunk);break;case o.CLOSE:if((0,r.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this.#n(g,a);break;case o.ERROR:(0,r.assert)(g,"error should have stream controller"),g.controller.error(s(c.reason)),this.#n(g,a);break;case o.CANCEL_COMPLETE:c.success?g.cancelCall.resolve():g.cancelCall.reject(s(c.reason)),this.#n(g,a);break;case o.CANCEL:if(!h)break;new Promise(function(v){v(h.onCancel?.(s(c.reason)))}).then(function(){p.postMessage({sourceName:u,targetName:f,stream:o.CANCEL_COMPLETE,streamId:a,success:!0})},function(v){p.postMessage({sourceName:u,targetName:f,stream:o.CANCEL_COMPLETE,streamId:a,reason:s(v)})}),h.sinkCapability.reject(s(c.reason)),h.isCancelled=!0,delete this.streamSinks[a];break;default:throw new Error("Unexpected stream case")}}#n(c,a){return Ae(this,null,function*(){yield Promise.allSettled([c.startCall?.promise,c.pullCall?.promise,c.cancelCall?.promise]),delete this.streamControllers[a]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t.MessageHandler=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);class i{#e;#t;constructor({parsedData:s,rawData:l}){this.#e=s,this.#t=l}getRaw(){return this.#t}get(s){return this.#e.get(s)??null}getAll(){return(0,r.objectFromMap)(this.#e)}has(s){return this.#e.has(s)}}t.Metadata=i},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1),i=n(8);let o=Symbol("INTERNAL");class s{#e=!0;constructor(c,a){this.name=c,this.intent=a}get visible(){return this.#e}_setVisible(c,a){c!==o&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#e=a}}class l{#e=null;#t=new Map;#n=null;#r=null;constructor(c){if(this.name=null,this.creator=null,c!==null){this.name=c.name,this.creator=c.creator,this.#r=c.order;for(let a of c.groups)this.#t.set(a.id,new s(a.name,a.intent));if(c.baseState==="OFF")for(let a of this.#t.values())a._setVisible(o,!1);for(let a of c.on)this.#t.get(a)._setVisible(o,!0);for(let a of c.off)this.#t.get(a)._setVisible(o,!1);this.#n=this.getHash()}}#a(c){let a=c.length;if(a<2)return!0;let u=c[0];for(let f=1;f<a;f++){let p=c[f],g;if(Array.isArray(p))g=this.#a(p);else if(this.#t.has(p))g=this.#t.get(p).visible;else return(0,r.warn)(`Optional content group not found: ${p}`),!0;switch(u){case"And":if(!g)return!1;break;case"Or":if(g)return!0;break;case"Not":return!g;default:return!0}}return u==="And"}isVisible(c){if(this.#t.size===0)return!0;if(!c)return(0,r.warn)("Optional content group not defined."),!0;if(c.type==="OCG")return this.#t.has(c.id)?this.#t.get(c.id).visible:((0,r.warn)(`Optional content group not found: ${c.id}`),!0);if(c.type==="OCMD"){if(c.expression)return this.#a(c.expression);if(!c.policy||c.policy==="AnyOn"){for(let a of c.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!0}return!1}else if(c.policy==="AllOn"){for(let a of c.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!1}return!0}else if(c.policy==="AnyOff"){for(let a of c.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!0}return!1}else if(c.policy==="AllOff"){for(let a of c.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${c.policy}.`),!0}return(0,r.warn)(`Unknown group type ${c.type}.`),!0}setVisibility(c,a=!0){if(!this.#t.has(c)){(0,r.warn)(`Optional content group not found: ${c}`);return}this.#t.get(c)._setVisible(o,!!a),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,r.objectFromMap)(this.#t):null}getGroup(c){return this.#t.get(c)||null}getHash(){if(this.#e!==null)return this.#e;let c=new i.MurmurHash3_64;for(let[a,u]of this.#t)c.update(`${a}:${u.visible}`);return this.#e=c.hexdigest()}}t.OptionalContentConfig=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(6);class o{constructor({length:c,initialData:a,progressiveDone:u=!1,contentDispositionFilename:f=null,disableRange:p=!1,disableStream:g=!1},h){if((0,r.assert)(h,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=f,a?.length>0){let v=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=h,this._isStreamingSupported=!g,this._isRangeSupported=!p,this._contentLength=c,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,y)=>{this._onReceiveData({begin:v,chunk:y})}),this._pdfDataRangeTransport.addProgressListener((v,y)=>{this._onProgress({loaded:v,total:y})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:c,chunk:a}){let u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;if(c===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(u):this._queuedChunks.push(u);else{let f=this._rangeReaders.some(function(p){return p._begin!==c?!1:(p._enqueue(u),!0)});(0,r.assert)(f,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(c){c.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:c.loaded}):this._fullRequestReader?.onProgress?.({loaded:c.loaded,total:c.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){let a=this._rangeReaders.indexOf(c);a>=0&&this._rangeReaders.splice(a,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let c=this._queuedChunks;return this._queuedChunks=null,new s(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,a){if(a<=this._progressiveDataLength)return null;let u=new l(this,c,a);return this._pdfDataRangeTransport.requestDataRange(c,a),this._rangeReaders.push(u),u}cancelAllRequests(c){this._fullRequestReader?.cancel(c);for(let a of this._rangeReaders.slice(0))a.cancel(c);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=o;class s{constructor(c,a,u=!1,f=null){this._stream=c,this._done=u||!1,this._filename=(0,i.isPdfFile)(f)?f:null,this._queuedChunks=a||[],this._loaded=0;for(let p of this._queuedChunks)this._loaded+=p.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return Ae(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let c=new r.PromiseCapability;return this._requests.push(c),c.promise})}cancel(c){this._done=!0;for(let a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class l{constructor(c,a,u){this._stream=c,this._begin=a,this._end=u,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(this._requests.length===0)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return Ae(this,null,function*(){if(this._queuedChunk){let a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let c=new r.PromiseCapability;return this._requests.push(c),c.promise})}cancel(c){this._done=!0;for(let a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(20);function o(u,f,p){return{method:"GET",headers:u,signal:p.signal,mode:"cors",credentials:f?"include":"same-origin",redirect:"follow"}}function s(u){let f=new Headers;for(let p in u){let g=u[p];g!==void 0&&f.append(p,g)}return f}function l(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:((0,r.warn)(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class d{constructor(f){this.source=f,this.isHttp=/^https?:/i.test(f.url),this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new c(this),this._fullRequestReader}getRangeReader(f,p){if(p<=this._progressiveDataLength)return null;let g=new a(this,f,p);return this._rangeRequestReaders.push(g),g}cancelAllRequests(f){this._fullRequestReader?.cancel(f);for(let p of this._rangeRequestReaders.slice(0))p.cancel(f)}}t.PDFFetchStream=d;class c{constructor(f){this._stream=f,this._reader=null,this._loaded=0,this._filename=null;let p=f.source;this._withCredentials=p.withCredentials||!1,this._contentLength=p.length,this._headersCapability=new r.PromiseCapability,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._headers=s(this._stream.httpHeaders);let g=p.url;fetch(g,o(this._headers,this._withCredentials,this._abortController)).then(h=>{if(!(0,i.validateResponseStatus)(h.status))throw(0,i.createResponseStatusError)(h.status,g);this._reader=h.body.getReader(),this._headersCapability.resolve();let v=M=>h.headers.get(M),{allowRangeRequests:y,suggestedLength:w}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=w||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Ae(this,null,function*(){yield this._headersCapability.promise;let{value:f,done:p}=yield this._reader.read();return p?{value:f,done:p}:(this._loaded+=f.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:l(f),done:!1})})}cancel(f){this._reader?.cancel(f),this._abortController.abort()}}class a{constructor(f,p,g){this._stream=f,this._reader=null,this._loaded=0;let h=f.source;this._withCredentials=h.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!h.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${p}-${g-1}`);let v=h.url;fetch(v,o(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,i.validateResponseStatus)(y.status))throw(0,i.createResponseStatusError)(y.status,v);this._readCapability.resolve(),this._reader=y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return Ae(this,null,function*(){yield this._readCapability.promise;let{value:f,done:p}=yield this._reader.read();return p?{value:f,done:p}:(this._loaded+=f.byteLength,this.onProgress?.({loaded:this._loaded}),{value:l(f),done:!1})})}cancel(f){this._reader?.cancel(f),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=d,t.extractFilenameFromHeader=l,t.validateRangeRequestCapabilities=s,t.validateResponseStatus=c;var r=n(1),i=n(21),o=n(6);function s({getResponseHeader:a,isHttp:u,rangeChunkSize:f,disableRange:p}){let g={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(a("Content-Length"),10);return!Number.isInteger(h)||(g.suggestedLength=h,h<=2*f)||p||!u||a("Accept-Ranges")!=="bytes"||(a("Content-Encoding")||"identity")!=="identity"||(g.allowRangeRequests=!0),g}function l(a){let u=a("Content-Disposition");if(u){let f=(0,i.getFilenameFromContentDispositionHeader)(u);if(f.includes("%"))try{f=decodeURIComponent(f)}catch{}if((0,o.isPdfFile)(f))return f}return null}function d(a,u){return a===404||a===0&&u.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+u+'".'):new r.UnexpectedResponseException(`Unexpected server response (${a}) while retrieving PDF "${u}".`,a)}function c(a){return a===200||a===206}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=i;var r=n(1);function i(o){let s=!0,l=d("filename\\*","i").exec(o);if(l){l=l[1];let h=f(l);return h=unescape(h),h=p(h),h=g(h),a(h)}if(l=u(o),l){let h=g(l);return a(h)}if(l=d("filename","i").exec(o),l){l=l[1];let h=f(l);return h=g(h),a(h)}function d(h,v){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function c(h,v){if(h){if(!/^[\x00-\xFF]+$/.test(v))return v;try{let y=new TextDecoder(h,{fatal:!0}),w=(0,r.stringToBytes)(v);v=y.decode(w),s=!1}catch{}}return v}function a(h){return s&&/[\x80-\xff]/.test(h)&&(h=c("utf-8",h),s&&(h=c("iso-8859-1",h))),h}function u(h){let v=[],y,w=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(h))!==null;){let[,T,E,A]=y;if(T=parseInt(T,10),T in v){if(T===0)break;continue}v[T]=[E,A]}let M=[];for(let T=0;T<v.length&&T in v;++T){let[E,A]=v[T];A=f(A),E&&(A=unescape(A),T===0&&(A=p(A))),M.push(A)}return M.join("")}function f(h){if(h.startsWith('"')){let v=h.slice(1).split('\\"');for(let y=0;y<v.length;++y){let w=v[y].indexOf('"');w!==-1&&(v[y]=v[y].slice(0,w),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}h=v.join('"')}return h}function p(h){let v=h.indexOf("'");if(v===-1)return h;let y=h.slice(0,v),M=h.slice(v+1).replace(/^[^']*'/,"");return c(y,M)}function g(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,w,M){if(w==="q"||w==="Q")return M=M.replaceAll("_"," "),M=M.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,E){return String.fromCharCode(parseInt(E,16))}),c(y,M);try{M=atob(M)}catch{}return c(y,M)})}return""}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(20);let o=200,s=206;function l(f){let p=f.response;return typeof p!="string"?p:(0,r.stringToBytes)(p).buffer}class d{constructor(p,g={}){this.url=p,this.isHttp=/^https?:/i.test(p),this.httpHeaders=this.isHttp&&g.httpHeaders||Object.create(null),this.withCredentials=g.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(p,g,h){let v={begin:p,end:g};for(let y in h)v[y]=h[y];return this.request(v)}requestFull(p){return this.request(p)}request(p){let g=new XMLHttpRequest,h=this.currXhrId++,v=this.pendingRequests[h]={xhr:g};g.open("GET",this.url),g.withCredentials=this.withCredentials;for(let y in this.httpHeaders){let w=this.httpHeaders[y];w!==void 0&&g.setRequestHeader(y,w)}return this.isHttp&&"begin"in p&&"end"in p?(g.setRequestHeader("Range",`bytes=${p.begin}-${p.end-1}`),v.expectedStatus=s):v.expectedStatus=o,g.responseType="arraybuffer",p.onError&&(g.onerror=function(y){p.onError(g.status)}),g.onreadystatechange=this.onStateChange.bind(this,h),g.onprogress=this.onProgress.bind(this,h),v.onHeadersReceived=p.onHeadersReceived,v.onDone=p.onDone,v.onError=p.onError,v.onProgress=p.onProgress,g.send(null),h}onProgress(p,g){let h=this.pendingRequests[p];h&&h.onProgress?.(g)}onStateChange(p,g){let h=this.pendingRequests[p];if(!h)return;let v=h.xhr;if(v.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),v.readyState!==4||!(p in this.pendingRequests))return;if(delete this.pendingRequests[p],v.status===0&&this.isHttp){h.onError?.(v.status);return}let y=v.status||o;if(!(y===o&&h.expectedStatus===s)&&y!==h.expectedStatus){h.onError?.(v.status);return}let M=l(v);if(y===s){let T=v.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(T);h.onDone({begin:parseInt(E[1],10),chunk:M})}else M?h.onDone({begin:0,chunk:M}):h.onError?.(v.status)}getRequestXhr(p){return this.pendingRequests[p].xhr}isPendingRequest(p){return p in this.pendingRequests}abortRequest(p){let g=this.pendingRequests[p].xhr;delete this.pendingRequests[p],g.abort()}}class c{constructor(p){this._source=p,this._manager=new d(p.url,{httpHeaders:p.httpHeaders,withCredentials:p.withCredentials}),this._rangeChunkSize=p.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(p){let g=this._rangeRequestReaders.indexOf(p);g>=0&&this._rangeRequestReaders.splice(g,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(p,g){let h=new u(this._manager,p,g);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(p){this._fullRequestReader?.cancel(p);for(let g of this._rangeRequestReaders.slice(0))g.cancel(p)}}t.PDFNetworkStream=c;class a{constructor(p,g){this._manager=p;let h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._fullRequestId=p.requestFull(h),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=g.disableRange||!1,this._contentLength=g.length,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let p=this._fullRequestId,g=this._manager.getRequestXhr(p),h=w=>g.getResponseHeader(w),{allowRangeRequests:v,suggestedLength:y}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=y||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(p),this._headersReceivedCapability.resolve()}_onDone(p){if(p&&(this._requests.length>0?this._requests.shift().resolve({value:p.chunk,done:!1}):this._cachedChunks.push(p.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(p){this._storedError=(0,i.createResponseStatusError)(p,this._url),this._headersReceivedCapability.reject(this._storedError);for(let g of this._requests)g.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(p){this.onProgress?.({loaded:p.loaded,total:p.lengthComputable?p.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return Ae(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let p=new r.PromiseCapability;return this._requests.push(p),p.promise})}cancel(p){this._done=!0,this._headersReceivedCapability.reject(p);for(let g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class u{constructor(p,g,h){this._manager=p;let v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._requestId=p.requestRange(g,h,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(p){let g=p.chunk;this._requests.length>0?this._requests.shift().resolve({value:g,done:!1}):this._queuedChunk=g,this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(p){this._storedError=(0,i.createResponseStatusError)(p,this._url);for(let g of this._requests)g.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(p){this.isStreamingSupported||this.onProgress?.({loaded:p.loaded})}get isStreamingSupported(){return!1}read(){return Ae(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};let p=new r.PromiseCapability;return this._requests.push(p),p.promise})}cancel(p){this._done=!0;for(let g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(20);let o=/^file:\/\/\/[a-zA-Z]:\//;function s(h){let v=Am(),y=v.parse(h);return y.protocol==="file:"||y.host?y:/^[a-z]:[/\\]/i.test(h)?v.parse(`file:///${h}`):(y.host||(y.protocol="file:"),y)}class l{constructor(v){this.source=v,this.url=s(v.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new p(this):new u(this),this._fullRequestReader}getRangeReader(v,y){if(y<=this._progressiveDataLength)return null;let w=this.isFsUrl?new g(this,v,y):new f(this,v,y);return this._rangeRequestReaders.push(w),w}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(let y of this._rangeRequestReaders.slice(0))y.cancel(v)}}t.PDFNodeStream=l;class d{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;let y=v.source;this._contentLength=y.length,this._loaded=0,this._filename=null,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Ae(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",y=>{this._error(y)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class c{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;let y=v.source;this._isStreamingSupported=!y.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return Ae(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",y=>{this._error(y)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function a(h,v){return{protocol:h.protocol,auth:h.auth,host:h.hostname,port:h.port,path:h.path,method:"GET",headers:v}}class u extends d{constructor(v){super(v);let y=w=>{if(w.statusCode===404){let A=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A,this._headersCapability.reject(A);return}this._headersCapability.resolve(),this._setReadableStream(w);let M=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:T,suggestedLength:E}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=E||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(M)};if(this._request=null,this._url.protocol==="http:"){let w=ed();this._request=w.request(a(this._url,v.httpHeaders),y)}else{let w=td();this._request=w.request(a(this._url,v.httpHeaders),y)}this._request.on("error",w=>{this._storedError=w,this._headersCapability.reject(w)}),this._request.end()}}class f extends c{constructor(v,y,w){super(v),this._httpHeaders={};for(let T in v.httpHeaders){let E=v.httpHeaders[T];E!==void 0&&(this._httpHeaders[T]=E)}this._httpHeaders.Range=`bytes=${y}-${w-1}`;let M=T=>{if(T.statusCode===404){let E=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=E;return}this._setReadableStream(T)};if(this._request=null,this._url.protocol==="http:"){let T=ed();this._request=T.request(a(this._url,this._httpHeaders),M)}else{let T=td();this._request=T.request(a(this._url,this._httpHeaders),M)}this._request.on("error",T=>{this._storedError=T}),this._request.end()}}class p extends d{constructor(v){super(v);let y=decodeURIComponent(this._url.path);o.test(this._url.href)&&(y=y.replace(/^\//,""));let w=Ia();w.lstat(y,(M,T)=>{if(M){M.code==="ENOENT"&&(M=new r.MissingPDFException(`Missing PDF "${y}".`)),this._storedError=M,this._headersCapability.reject(M);return}this._contentLength=T.size,this._setReadableStream(w.createReadStream(y)),this._headersCapability.resolve()})}}class g extends c{constructor(v,y,w){super(v);let M=decodeURIComponent(this._url.path);o.test(this._url.href)&&(M=M.replace(/^\//,""));let T=Ia();this._setReadableStream(T.createReadStream(M,{start:y,end:w-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(6),i=n(1);let o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},s="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/1999/xlink",d=["butt","round","square"],c=["miter","round","bevel"],a=function(T,E="",A=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([T],{type:E}));let j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",V=`data:${E};base64,`;for(let F=0,$=T.length;F<$;F+=3){let W=T[F]&255,ne=T[F+1]&255,J=T[F+2]&255,Q=W>>2,oe=(W&3)<<4|ne>>4,Z=F+1<$?(ne&15)<<2|J>>6:64,O=F+2<$?J&63:64;V+=j[Q]+j[oe]+j[Z]+j[O]}return V},u=function(){let T=new Uint8Array([137,80,78,71,13,10,26,10]),E=12,A=new Int32Array(256);for(let J=0;J<256;J++){let Q=J;for(let oe=0;oe<8;oe++)Q=Q&1?3988292384^Q>>1&2147483647:Q>>1&2147483647;A[J]=Q}function j(J,Q,oe){let Z=-1;for(let O=Q;O<oe;O++){let C=(Z^J[O])&255,b=A[C];Z=Z>>>8^b}return Z^-1}function V(J,Q,oe,Z){let O=Z,C=Q.length;oe[O]=C>>24&255,oe[O+1]=C>>16&255,oe[O+2]=C>>8&255,oe[O+3]=C&255,O+=4,oe[O]=J.charCodeAt(0)&255,oe[O+1]=J.charCodeAt(1)&255,oe[O+2]=J.charCodeAt(2)&255,oe[O+3]=J.charCodeAt(3)&255,O+=4,oe.set(Q,O),O+=Q.length;let b=j(oe,Z+4,O);oe[O]=b>>24&255,oe[O+1]=b>>16&255,oe[O+2]=b>>8&255,oe[O+3]=b&255}function F(J,Q,oe){let Z=1,O=0;for(let C=Q;C<oe;++C)Z=(Z+(J[C]&255))%65521,O=(O+Z)%65521;return O<<16|Z}function $(J){if(!i.isNodeJS)return W(J);try{let Q=parseInt(process.versions.node)>=8?J:Buffer.from(J),oe=Im().deflateSync(Q,{level:9});return oe instanceof Uint8Array?oe:new Uint8Array(oe)}catch(Q){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Q)}return W(J)}function W(J){let Q=J.length,oe=65535,Z=Math.ceil(Q/oe),O=new Uint8Array(2+Q+Z*5+4),C=0;O[C++]=120,O[C++]=156;let b=0;for(;Q>oe;)O[C++]=0,O[C++]=255,O[C++]=255,O[C++]=0,O[C++]=0,O.set(J.subarray(b,b+oe),C),C+=oe,b+=oe,Q-=oe;O[C++]=1,O[C++]=Q&255,O[C++]=Q>>8&255,O[C++]=~Q&65535&255,O[C++]=(~Q&65535)>>8&255,O.set(J.subarray(b),C),C+=J.length-b;let _=F(J,0,J.length);return O[C++]=_>>24&255,O[C++]=_>>16&255,O[C++]=_>>8&255,O[C++]=_&255,O}function ne(J,Q,oe,Z){let O=J.width,C=J.height,b,_,S,k=J.data;switch(Q){case i.ImageKind.GRAYSCALE_1BPP:_=0,b=1,S=O+7>>3;break;case i.ImageKind.RGB_24BPP:_=2,b=8,S=O*3;break;case i.ImageKind.RGBA_32BPP:_=6,b=8,S=O*4;break;default:throw new Error("invalid format")}let N=new Uint8Array((1+S)*C),L=0,x=0;for(let B=0;B<C;++B)N[L++]=0,N.set(k.subarray(x,x+S),L),x+=S,L+=S;if(Q===i.ImageKind.GRAYSCALE_1BPP&&Z){L=0;for(let B=0;B<C;B++){L++;for(let U=0;U<S;U++)N[L++]^=255}}let m=new Uint8Array([O>>24&255,O>>16&255,O>>8&255,O&255,C>>24&255,C>>16&255,C>>8&255,C&255,b,_,0,0,0]),D=$(N),I=T.length+E*3+m.length+D.length,R=new Uint8Array(I),P=0;return R.set(T,P),P+=T.length,V("IHDR",m,R,P),P+=E+m.length,V("IDATA",D,R,P),P+=E+D.length,V("IEND",new Uint8Array(0),R,P),a(R,"image/png",oe)}return function(Q,oe,Z){let O=Q.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:Q.kind;return ne(Q,O,oe,Z)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(E,A){this.x=E,this.y=A}}function p(T){let E=[],A=[];for(let j of T){if(j.fn==="save"){E.push({fnId:92,fn:"group",items:[]}),A.push(E),E=E.at(-1).items;continue}j.fn==="restore"?E=A.pop():E.push(j)}return E}function g(T){if(Number.isInteger(T))return T.toString();let E=T.toFixed(10),A=E.length-1;if(E[A]!=="0")return E;do A--;while(E[A]==="0");return E.substring(0,E[A]==="."?A:A+1)}function h(T){if(T[4]===0&&T[5]===0){if(T[1]===0&&T[2]===0)return T[0]===1&&T[3]===1?"":`scale(${g(T[0])} ${g(T[3])})`;if(T[0]===T[3]&&T[1]===-T[2]){let E=Math.acos(T[0])*180/Math.PI;return`rotate(${g(E)})`}}else if(T[0]===1&&T[1]===0&&T[2]===0&&T[3]===1)return`translate(${g(T[4])} ${g(T[5])})`;return`matrix(${g(T[0])} ${g(T[1])} ${g(T[2])} ${g(T[3])} ${g(T[4])} ${g(T[5])})`}let v=0,y=0,w=0;class M{constructor(E,A,j=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new f,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=E,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!j,this._operatorIdMapping=[];for(let V in i.OPS)this._operatorIdMapping[i.OPS[V]]=V}getObject(E,A=null){return typeof E=="string"?E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E):A}save(){this.transformStack.push(this.transformMatrix);let E=this.current;this.extraStack.push(E),this.current=E.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(E){this.save(),this.executeOpTree(E),this.restore()}loadDependencies(E){let A=E.fnArray,j=E.argsArray;for(let V=0,F=A.length;V<F;V++)if(A[V]===i.OPS.dependency)for(let $ of j[V]){let W=$.startsWith("g_")?this.commonObjs:this.objs,ne=new Promise(J=>{W.get($,J)});this.current.dependencies.push(ne)}return Promise.all(this.current.dependencies)}transform(E,A,j,V,F,$){let W=[E,A,j,V,F,$];this.transformMatrix=i.Util.transform(this.transformMatrix,W),this.tgrp=null}getSVG(E,A){this.viewport=A;let j=this._initialize(A);return this.loadDependencies(E).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(E)),j))}convertOpList(E){let A=this._operatorIdMapping,j=E.argsArray,V=E.fnArray,F=[];for(let $=0,W=V.length;$<W;$++){let ne=V[$];F.push({fnId:ne,fn:A[ne],args:j[$]})}return p(F)}executeOpTree(E){for(let A of E){let j=A.fn,V=A.fnId,F=A.args;switch(V|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(F);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(F[0],F[1]);break;case i.OPS.setFont:this.setFont(F);break;case i.OPS.showText:this.showText(F[0]);break;case i.OPS.showSpacedText:this.showText(F[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(F[0],F[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(F[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(F[0]);break;case i.OPS.setHScale:this.setHScale(F[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(F[0],F[1],F[2],F[3],F[4],F[5]);break;case i.OPS.setTextRise:this.setTextRise(F[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(F[0]);break;case i.OPS.setLineWidth:this.setLineWidth(F[0]);break;case i.OPS.setLineJoin:this.setLineJoin(F[0]);break;case i.OPS.setLineCap:this.setLineCap(F[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(F[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(F[0],F[1],F[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(F[0],F[1],F[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(F);break;case i.OPS.setFillColorN:this.setFillColorN(F);break;case i.OPS.shadingFill:this.shadingFill(F[0]);break;case i.OPS.setDash:this.setDash(F[0],F[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(F[0]);break;case i.OPS.setFlatness:this.setFlatness(F[0]);break;case i.OPS.setGState:this.setGState(F[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(F[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(F[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(F[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(F[0],F[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(F[0],F[1],F[2],F[3],F[4],F[5]);break;case i.OPS.constructPath:this.constructPath(F[0],F[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,i.warn)(`Unimplemented operator ${j}`);break}}}setWordSpacing(E){this.current.wordSpacing=E}setCharSpacing(E){this.current.charSpacing=E}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(E,A,j,V,F,$){let W=this.current;W.textMatrix=W.lineMatrix=[E,A,j,V,F,$],W.textMatrixScale=Math.hypot(E,A),W.x=W.lineX=0,W.y=W.lineY=0,W.xcoords=[],W.ycoords=[],W.tspan=this.svgFactory.createElement("svg:tspan"),W.tspan.setAttributeNS(null,"font-family",W.fontFamily),W.tspan.setAttributeNS(null,"font-size",`${g(W.fontSize)}px`),W.tspan.setAttributeNS(null,"y",g(-W.y)),W.txtElement=this.svgFactory.createElement("svg:text"),W.txtElement.append(W.tspan)}beginText(){let E=this.current;E.x=E.lineX=0,E.y=E.lineY=0,E.textMatrix=i.IDENTITY_MATRIX,E.lineMatrix=i.IDENTITY_MATRIX,E.textMatrixScale=1,E.tspan=this.svgFactory.createElement("svg:tspan"),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtgrp=this.svgFactory.createElement("svg:g"),E.xcoords=[],E.ycoords=[]}moveText(E,A){let j=this.current;j.x=j.lineX+=E,j.y=j.lineY+=A,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${g(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",g(-j.y))}showText(E){let A=this.current,j=A.font,V=A.fontSize;if(V===0)return;let F=A.fontSizeScale,$=A.charSpacing,W=A.wordSpacing,ne=A.fontDirection,J=A.textHScale*ne,Q=j.vertical,oe=Q?1:-1,Z=j.defaultVMetrics,O=V*A.fontMatrix[0],C=0;for(let S of E){if(S===null){C+=ne*W;continue}else if(typeof S=="number"){C+=oe*S*V/1e3;continue}let k=(S.isSpace?W:0)+$,N=S.fontChar,L,x,m=S.width;if(Q){let I,R=S.vmetric||Z;I=S.vmetric?R[1]:m*.5,I=-I*O;let P=R[2]*O;m=R?-R[0]:m,L=I/F,x=(C+P)/F}else L=C/F,x=0;(S.isInFont||j.missingFile)&&(A.xcoords.push(A.x+L),Q&&A.ycoords.push(-A.y+x),A.tspan.textContent+=N);let D=Q?m*O-k*ne:m*O+k*ne;C+=D}A.tspan.setAttributeNS(null,"x",A.xcoords.map(g).join(" ")),Q?A.tspan.setAttributeNS(null,"y",A.ycoords.map(g).join(" ")):A.tspan.setAttributeNS(null,"y",g(-A.y)),Q?A.y-=C:A.x+=C*J,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${g(A.fontSize)}px`),A.fontStyle!==o.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==o.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);let b=A.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(b===i.TextRenderingMode.FILL||b===i.TextRenderingMode.FILL_STROKE?(A.fillColor!==o.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?A.tspan.setAttributeNS(null,"fill","transparent"):A.tspan.setAttributeNS(null,"fill","none"),b===i.TextRenderingMode.STROKE||b===i.TextRenderingMode.FILL_STROKE){let S=1/(A.textMatrixScale||1);this._setStrokeAttributes(A.tspan,S)}let _=A.textMatrix;A.textRise!==0&&(_=_.slice(),_[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${h(_)} scale(${g(J)}, -1)`),A.txtElement.setAttributeNS(s,"xml:space","preserve"),A.txtElement.append(A.tspan),A.txtgrp.append(A.txtElement),this._ensureTransformGroup().append(A.txtElement)}setLeadingMoveText(E,A){this.setLeading(-A),this.moveText(E,A)}addFontStyle(E){if(!E.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let A=a(E.data,E.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${E.loadedName}"; src: url(${A}); }
`}setFont(E){let A=this.current,j=this.commonObjs.get(E[0]),V=E[1];A.font=j,this.embedFonts&&!j.missingFile&&!this.embeddedFonts[j.loadedName]&&(this.addFontStyle(j),this.embeddedFonts[j.loadedName]=j),A.fontMatrix=j.fontMatrix||i.FONT_IDENTITY_MATRIX;let F="normal";j.black?F="900":j.bold&&(F="bold");let $=j.italic?"italic":"normal";V<0?(V=-V,A.fontDirection=-1):A.fontDirection=1,A.fontSize=V,A.fontFamily=j.loadedName,A.fontWeight=F,A.fontStyle=$,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",g(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){let E=this.current;E.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&E.txtElement?.hasChildNodes()&&(E.element=E.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(E){E>0&&(this.current.lineWidth=E)}setLineCap(E){this.current.lineCap=d[E]}setLineJoin(E){this.current.lineJoin=c[E]}setMiterLimit(E){this.current.miterLimit=E}setStrokeAlpha(E){this.current.strokeAlpha=E}setStrokeRGBColor(E,A,j){this.current.strokeColor=i.Util.makeHexColor(E,A,j)}setFillAlpha(E){this.current.fillAlpha=E}setFillRGBColor(E,A,j){this.current.fillColor=i.Util.makeHexColor(E,A,j),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(E){this.current.strokeColor=this._makeColorN_Pattern(E)}setFillColorN(E){this.current.fillColor=this._makeColorN_Pattern(E)}shadingFill(E){let{width:A,height:j}=this.viewport,V=i.Util.inverseTransform(this.transformMatrix),[F,$,W,ne]=i.Util.getAxialAlignedBoundingBox([0,0,A,j],V),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x",F),J.setAttributeNS(null,"y",$),J.setAttributeNS(null,"width",W-F),J.setAttributeNS(null,"height",ne-$),J.setAttributeNS(null,"fill",this._makeShadingPattern(E)),this.current.fillAlpha<1&&J.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(J)}_makeColorN_Pattern(E){return E[0]==="TilingPattern"?this._makeTilingPattern(E):this._makeShadingPattern(E)}_makeTilingPattern(E){let A=E[1],j=E[2],V=E[3]||i.IDENTITY_MATRIX,[F,$,W,ne]=E[4],J=E[5],Q=E[6],oe=E[7],Z=`shading${w++}`,[O,C,b,_]=i.Util.normalizeRect([...i.Util.applyTransform([F,$],V),...i.Util.applyTransform([W,ne],V)]),[S,k]=i.Util.singularValueDecompose2dScale(V),N=J*S,L=Q*k,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",Z),x.setAttributeNS(null,"patternUnits","userSpaceOnUse"),x.setAttributeNS(null,"width",N),x.setAttributeNS(null,"height",L),x.setAttributeNS(null,"x",`${O}`),x.setAttributeNS(null,"y",`${C}`);let m=this.svg,D=this.transformMatrix,I=this.current.fillColor,R=this.current.strokeColor,P=this.svgFactory.create(b-O,_-C);if(this.svg=P,this.transformMatrix=V,oe===2){let B=i.Util.makeHexColor(...A);this.current.fillColor=B,this.current.strokeColor=B}return this.executeOpTree(this.convertOpList(j)),this.svg=m,this.transformMatrix=D,this.current.fillColor=I,this.current.strokeColor=R,x.append(P.childNodes[0]),this.defs.append(x),`url(#${Z})`}_makeShadingPattern(E){switch(typeof E=="string"&&(E=this.objs.get(E)),E[0]){case"RadialAxial":let A=`shading${w++}`,j=E[3],V;switch(E[1]){case"axial":let F=E[4],$=E[5];V=this.svgFactory.createElement("svg:linearGradient"),V.setAttributeNS(null,"id",A),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"x1",F[0]),V.setAttributeNS(null,"y1",F[1]),V.setAttributeNS(null,"x2",$[0]),V.setAttributeNS(null,"y2",$[1]);break;case"radial":let W=E[4],ne=E[5],J=E[6],Q=E[7];V=this.svgFactory.createElement("svg:radialGradient"),V.setAttributeNS(null,"id",A),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"cx",ne[0]),V.setAttributeNS(null,"cy",ne[1]),V.setAttributeNS(null,"r",Q),V.setAttributeNS(null,"fx",W[0]),V.setAttributeNS(null,"fy",W[1]),V.setAttributeNS(null,"fr",J);break;default:throw new Error(`Unknown RadialAxial type: ${E[1]}`)}for(let F of j){let $=this.svgFactory.createElement("svg:stop");$.setAttributeNS(null,"offset",F[0]),$.setAttributeNS(null,"stop-color",F[1]),V.append($)}return this.defs.append(V),`url(#${A})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${E[0]}`)}}setDash(E,A){this.current.dashArray=E,this.current.dashPhase=A}constructPath(E,A){let j=this.current,V=j.x,F=j.y,$=[],W=0;for(let ne of E)switch(ne|0){case i.OPS.rectangle:V=A[W++],F=A[W++];let J=A[W++],Q=A[W++],oe=V+J,Z=F+Q;$.push("M",g(V),g(F),"L",g(oe),g(F),"L",g(oe),g(Z),"L",g(V),g(Z),"Z");break;case i.OPS.moveTo:V=A[W++],F=A[W++],$.push("M",g(V),g(F));break;case i.OPS.lineTo:V=A[W++],F=A[W++],$.push("L",g(V),g(F));break;case i.OPS.curveTo:V=A[W+4],F=A[W+5],$.push("C",g(A[W]),g(A[W+1]),g(A[W+2]),g(A[W+3]),g(V),g(F)),W+=6;break;case i.OPS.curveTo2:$.push("C",g(V),g(F),g(A[W]),g(A[W+1]),g(A[W+2]),g(A[W+3])),V=A[W+2],F=A[W+3],W+=4;break;case i.OPS.curveTo3:V=A[W+2],F=A[W+3],$.push("C",g(A[W]),g(A[W+1]),g(V),g(F),g(V),g(F)),W+=4;break;case i.OPS.closePath:$.push("Z");break}$=$.join(" "),j.path&&E.length>0&&E[0]!==i.OPS.rectangle&&E[0]!==i.OPS.moveTo?$=j.path.getAttributeNS(null,"d")+$:(j.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(j.path)),j.path.setAttributeNS(null,"d",$),j.path.setAttributeNS(null,"fill","none"),j.element=j.path,j.setCurrentPoint(V,F)}endPath(){let E=this.current;if(E.path=null,!this.pendingClip)return;if(!E.element){this.pendingClip=null;return}let A=`clippath${v++}`,j=this.svgFactory.createElement("svg:clipPath");j.setAttributeNS(null,"id",A),j.setAttributeNS(null,"transform",h(this.transformMatrix));let V=E.element.cloneNode(!0);if(this.pendingClip==="evenodd"?V.setAttributeNS(null,"clip-rule","evenodd"):V.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,j.append(V),this.defs.append(j),E.activeClipUrl){E.clipGroup=null;for(let F of this.extraStack)F.clipGroup=null;j.setAttributeNS(null,"clip-path",E.activeClipUrl)}E.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(E){this.pendingClip=E}closePath(){let E=this.current;if(E.path){let A=`${E.path.getAttributeNS(null,"d")}Z`;E.path.setAttributeNS(null,"d",A)}}setLeading(E){this.current.leading=-E}setTextRise(E){this.current.textRise=E}setTextRenderingMode(E){this.current.textRenderingMode=E}setHScale(E){this.current.textHScale=E/100}setRenderingIntent(E){}setFlatness(E){}setGState(E){for(let[A,j]of E)switch(A){case"LW":this.setLineWidth(j);break;case"LC":this.setLineCap(j);break;case"LJ":this.setLineJoin(j);break;case"ML":this.setMiterLimit(j);break;case"D":this.setDash(j[0],j[1]);break;case"RI":this.setRenderingIntent(j);break;case"FL":this.setFlatness(j);break;case"Font":this.setFont(j);break;case"CA":this.setStrokeAlpha(j);break;case"ca":this.setFillAlpha(j);break;default:(0,i.warn)(`Unimplemented graphic state operator ${A}`);break}}fill(){let E=this.current;E.element&&(E.element.setAttributeNS(null,"fill",E.fillColor),E.element.setAttributeNS(null,"fill-opacity",E.fillAlpha),this.endPath())}stroke(){let E=this.current;E.element&&(this._setStrokeAttributes(E.element),E.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(E,A=1){let j=this.current,V=j.dashArray;A!==1&&V.length>0&&(V=V.map(function(F){return A*F})),E.setAttributeNS(null,"stroke",j.strokeColor),E.setAttributeNS(null,"stroke-opacity",j.strokeAlpha),E.setAttributeNS(null,"stroke-miterlimit",g(j.miterLimit)),E.setAttributeNS(null,"stroke-linecap",j.lineCap),E.setAttributeNS(null,"stroke-linejoin",j.lineJoin),E.setAttributeNS(null,"stroke-width",g(A*j.lineWidth)+"px"),E.setAttributeNS(null,"stroke-dasharray",V.map(g).join(" ")),E.setAttributeNS(null,"stroke-dashoffset",g(A*j.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width","1px"),E.setAttributeNS(null,"height","1px"),E.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(E)}paintImageXObject(E){let A=this.getObject(E);if(!A){(0,i.warn)(`Dependent image with object ID ${E} is not ready yet`);return}this.paintInlineImageXObject(A)}paintInlineImageXObject(E,A){let j=E.width,V=E.height,F=u(E,this.forceDataSchema,!!A),$=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width",g(j)),$.setAttributeNS(null,"height",g(V)),this.current.element=$,this.clip("nonzero");let W=this.svgFactory.createElement("svg:image");W.setAttributeNS(l,"xlink:href",F),W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y",g(-V)),W.setAttributeNS(null,"width",g(j)+"px"),W.setAttributeNS(null,"height",g(V)+"px"),W.setAttributeNS(null,"transform",`scale(${g(1/j)} ${g(-1/V)})`),A?A.append(W):this._ensureTransformGroup().append(W)}paintImageMaskXObject(E){let A=this.getObject(E.data,E);if(A.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let j=this.current,V=A.width,F=A.height,$=j.fillColor;j.maskId=`mask${y++}`;let W=this.svgFactory.createElement("svg:mask");W.setAttributeNS(null,"id",j.maskId);let ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",g(V)),ne.setAttributeNS(null,"height",g(F)),ne.setAttributeNS(null,"fill",$),ne.setAttributeNS(null,"mask",`url(#${j.maskId})`),this.defs.append(W),this._ensureTransformGroup().append(ne),this.paintInlineImageXObject(A,W)}paintFormXObjectBegin(E,A){if(Array.isArray(E)&&E.length===6&&this.transform(E[0],E[1],E[2],E[3],E[4],E[5]),A){let j=A[2]-A[0],V=A[3]-A[1],F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x",A[0]),F.setAttributeNS(null,"y",A[1]),F.setAttributeNS(null,"width",g(j)),F.setAttributeNS(null,"height",g(V)),this.current.element=F,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(E){let A=this.svgFactory.create(E.width,E.height),j=this.svgFactory.createElement("svg:defs");A.append(j),this.defs=j;let V=this.svgFactory.createElement("svg:g");return V.setAttributeNS(null,"transform",h(E.transform)),A.append(V),this.svg=V,A}_ensureClipGroup(){if(!this.current.clipGroup){let E=this.svgFactory.createElement("svg:g");E.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(E),this.current.clipGroup=E}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=M},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(i){let o=[],s={items:o,styles:Object.create(null)};function l(d){if(!d)return;let c=null,a=d.name;if(a==="#text")c=d.value;else if(n.shouldBuildText(a))d?.attributes?.textContent?c=d.attributes.textContent:d.value&&(c=d.value);else return;if(c!==null&&o.push({str:c}),!!d.children)for(let u of d.children)l(u)}return l(i),s}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=h,t.updateTextLayer=v;var r=n(1),i=n(6);let o=1e5,s=30,l=.8,d=new Map;function c(y,w){let M;if(w&&r.FeatureTest.isOffscreenCanvasSupported)M=new OffscreenCanvas(y,y).getContext("2d",{alpha:!1});else{let T=document.createElement("canvas");T.width=T.height=y,M=T.getContext("2d",{alpha:!1})}return M}function a(y,w){let M=d.get(y);if(M)return M;let T=c(s,w);T.font=`${s}px ${y}`;let E=T.measureText(""),A=E.fontBoundingBoxAscent,j=Math.abs(E.fontBoundingBoxDescent);if(A){let F=A/(A+j);return d.set(y,F),T.canvas.width=T.canvas.height=0,F}T.strokeStyle="red",T.clearRect(0,0,s,s),T.strokeText("g",0,0);let V=T.getImageData(0,0,s,s).data;j=0;for(let F=V.length-1-3;F>=0;F-=4)if(V[F]>0){j=Math.ceil(F/4/s);break}T.clearRect(0,0,s,s),T.strokeText("A",0,s),V=T.getImageData(0,0,s,s).data,A=0;for(let F=0,$=V.length;F<$;F+=4)if(V[F]>0){A=s-Math.floor(F/4/s);break}if(T.canvas.width=T.canvas.height=0,A){let F=A/(A+j);return d.set(y,F),F}return d.set(y,l),l}function u(y,w,M){let T=document.createElement("span"),E={angle:0,canvasWidth:0,hasText:w.str!=="",hasEOL:w.hasEOL,fontSize:0};y._textDivs.push(T);let A=r.Util.transform(y._transform,w.transform),j=Math.atan2(A[1],A[0]),V=M[w.fontName];V.vertical&&(j+=Math.PI/2);let F=Math.hypot(A[2],A[3]),$=F*a(V.fontFamily,y._isOffscreenCanvasSupported),W,ne;j===0?(W=A[4],ne=A[5]-$):(W=A[4]+$*Math.sin(j),ne=A[5]-$*Math.cos(j));let J="calc(var(--scale-factor)*",Q=T.style;y._container===y._rootContainer?(Q.left=`${(100*W/y._pageWidth).toFixed(2)}%`,Q.top=`${(100*ne/y._pageHeight).toFixed(2)}%`):(Q.left=`${J}${W.toFixed(2)}px)`,Q.top=`${J}${ne.toFixed(2)}px)`),Q.fontSize=`${J}${F.toFixed(2)}px)`,Q.fontFamily=V.fontFamily,E.fontSize=F,T.setAttribute("role","presentation"),T.textContent=w.str,T.dir=w.dir,y._fontInspectorEnabled&&(T.dataset.fontName=w.fontName),j!==0&&(E.angle=j*(180/Math.PI));let oe=!1;if(w.str.length>1)oe=!0;else if(w.str!==" "&&w.transform[0]!==w.transform[3]){let Z=Math.abs(w.transform[0]),O=Math.abs(w.transform[3]);Z!==O&&Math.max(Z,O)/Math.min(Z,O)>1.5&&(oe=!0)}oe&&(E.canvasWidth=V.vertical?w.height:w.width),y._textDivProperties.set(T,E),y._isReadableStream&&y._layoutText(T)}function f(y){let{div:w,scale:M,properties:T,ctx:E,prevFontSize:A,prevFontFamily:j}=y,{style:V}=w,F="";if(T.canvasWidth!==0&&T.hasText){let{fontFamily:$}=V,{canvasWidth:W,fontSize:ne}=T;(A!==ne||j!==$)&&(E.font=`${ne*M}px ${$}`,y.prevFontSize=ne,y.prevFontFamily=$);let{width:J}=E.measureText(w.textContent);J>0&&(F=`scaleX(${W*M/J})`)}T.angle!==0&&(F=`rotate(${T.angle}deg) ${F}`),F.length>0&&(V.transform=F)}function p(y){if(y._canceled)return;let w=y._textDivs,M=y._capability;if(w.length>o){M.resolve();return}if(!y._isReadableStream)for(let E of w)y._layoutText(E);M.resolve()}class g{constructor({textContentSource:w,container:M,viewport:T,textDivs:E,textDivProperties:A,textContentItemsStr:j,isOffscreenCanvasSupported:V}){this._textContentSource=w,this._isReadableStream=w instanceof ReadableStream,this._container=this._rootContainer=M,this._textDivs=E||[],this._textContentItemsStr=j||[],this._isOffscreenCanvasSupported=V,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=A||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:c(0,V)};let{pageWidth:F,pageHeight:$,pageX:W,pageY:ne}=T.rawDims;this._transform=[1,0,0,-1,-W,ne+$],this._pageWidth=F,this._pageHeight=$,(0,i.setLayerDimensions)(M,T),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(w,M){for(let T of w){if(T.str===void 0){if(T.type==="beginMarkedContentProps"||T.type==="beginMarkedContent"){let E=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),T.id!==null&&this._container.setAttribute("id",`${T.id}`),E.append(this._container)}else T.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(T.str),u(this,T,M)}}_layoutText(w){let M=this._layoutTextParams.properties=this._textDivProperties.get(w);if(this._layoutTextParams.div=w,f(this._layoutTextParams),M.hasText&&this._container.append(w),M.hasEOL){let T=document.createElement("br");T.setAttribute("role","presentation"),this._container.append(T)}}_render(){let w=new r.PromiseCapability,M=Object.create(null);if(this._isReadableStream){let T=()=>{this._reader.read().then(({value:E,done:A})=>{if(A){w.resolve();return}Object.assign(M,E.styles),this._processItems(E.items,M),T()},w.reject)};this._reader=this._textContentSource.getReader(),T()}else if(this._textContentSource){let{items:T,styles:E}=this._textContentSource;this._processItems(T,E),w.resolve()}else throw new Error('No "textContentSource" parameter specified.');w.promise.then(()=>{M=null,p(this)},this._capability.reject)}}t.TextLayerRenderTask=g;function h(y){!y.textContentSource&&(y.textContent||y.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),y.textContentSource=y.textContent||y.textContentStream);let{container:w,viewport:M}=y,T=getComputedStyle(w),E=T.getPropertyValue("visibility"),A=parseFloat(T.getPropertyValue("--scale-factor"));E==="visible"&&(!A||Math.abs(A-M.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let j=new g(y);return j._render(),j}function v({container:y,viewport:w,textDivs:M,textDivProperties:T,isOffscreenCanvasSupported:E,mustRotate:A=!0,mustRescale:j=!0}){if(A&&(0,i.setLayerDimensions)(y,{rotation:w.rotation}),j){let V=c(0,E),$={prevFontSize:null,prevFontFamily:null,div:null,scale:w.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:V};for(let W of M)$.properties=T.get(W),$.div=W,f($)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(1),i=n(4),o=n(28),s=n(33),l=n(6),d=n(34);let c=(()=>{class a{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#s=new Map;#o=!1;#l=!1;#c=!1;#i;static _initialized=!1;constructor({uiManager:f,pageIndex:p,div:g,accessibilityManager:h,annotationLayer:v,viewport:y,l10n:w}){let M=[o.FreeTextEditor,s.InkEditor,d.StampEditor];if(!a._initialized){a._initialized=!0;for(let T of M)T.initialize(w)}f.registerEditorTypes(M),this.#i=f,this.pageIndex=p,this.div=g,this.#e=h,this.#n=v,this.viewport=y,this.#i.addLayer(this)}get isEmpty(){return this.#s.size===0}updateToolbar(f){this.#i.updateToolbar(f)}updateMode(f=this.#i.getMode()){this.#p(),f===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),f!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",f===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",f===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",f===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(f){if(!f&&this.#i.getMode()!==r.AnnotationEditorType.INK)return;if(!f){for(let g of this.#s.values())if(g.isEmpty()){g.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(f){this.#i.setEditingState(f)}addCommands(f){this.#i.addCommands(f)}enable(){this.div.style.pointerEvents="auto";let f=new Set;for(let g of this.#s.values())g.enableEditing(),g.annotationElementId&&f.add(g.annotationElementId);if(!this.#n)return;let p=this.#n.getEditableAnnotations();for(let g of p){if(g.hide(),this.#i.isDeletedAnnotationElement(g.data.id)||f.has(g.data.id))continue;let h=this.deserialize(g);h&&(this.addOrRebuild(h),h.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";let f=new Set;for(let p of this.#s.values()){if(p.disableEditing(),!p.annotationElementId||p.serialize()!==null){f.add(p.annotationElementId);continue}this.getEditableAnnotation(p.annotationElementId)?.show(),p.remove()}if(this.#n){let p=this.#n.getEditableAnnotations();for(let g of p){let{id:h}=g.data;f.has(h)||this.#i.isDeletedAnnotationElement(h)||g.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(f){return this.#n?.getEditableAnnotation(f)||null}setActiveEditor(f){this.#i.getActive()!==f&&this.#i.setActiveEditor(f)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#r)}attach(f){this.#s.set(f.id,f);let{annotationElementId:p}=f;p&&this.#i.isDeletedAnnotationElement(p)&&this.#i.removeDeletedAnnotationElement(f)}detach(f){this.#s.delete(f.id),this.#e?.removePointerInTextLayer(f.contentDiv),!this.#c&&f.annotationElementId&&this.#i.addDeletedAnnotationElement(f)}remove(f){this.detach(f),this.#i.removeEditor(f),f.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),f.div.remove(),f.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(f){f.parent!==this&&(f.annotationElementId&&(this.#i.addDeletedAnnotationElement(f.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(f),f.annotationElementId=null),this.attach(f),f.parent?.detach(f),f.setParent(this),f.div&&f.isAttachedToDOM&&(f.div.remove(),this.div.append(f.div)))}add(f){if(this.changeParent(f),this.#i.addEditor(f),this.attach(f),!f.isAttachedToDOM){let p=f.render();this.div.append(p),f.isAttachedToDOM=!0}f.fixAndSetPosition(),f.onceAdded(),this.#i.addToAnnotationStorage(f)}moveEditorInDOM(f){if(!f.isAttachedToDOM)return;let{activeElement:p}=document;f.div.contains(p)&&(f._focusEventsAllowed=!1,setTimeout(()=>{f.div.contains(document.activeElement)?f._focusEventsAllowed=!0:(f.div.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),p.focus())},0)),f._structTreeParentId=this.#e?.moveElementInDOM(this.div,f.div,f.contentDiv,!0)}addOrRebuild(f){f.needsToBeRebuilt()?f.rebuild():this.add(f)}addUndoableEditor(f){let p=()=>f._uiManager.rebuild(f),g=()=>{f.remove()};this.addCommands({cmd:p,undo:g,mustExec:!1})}getNextId(){return this.#i.getId()}#h(f){switch(this.#i.getMode()){case r.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(f);case r.AnnotationEditorType.INK:return new s.InkEditor(f);case r.AnnotationEditorType.STAMP:return new d.StampEditor(f)}return null}pasteEditor(f,p){this.#i.updateToolbar(f),this.#i.updateMode(f);let{offsetX:g,offsetY:h}=this.#f(),v=this.getNextId(),y=this.#h(ce({parent:this,id:v,x:g,y:h,uiManager:this.#i,isCentered:!0},p));y&&this.add(y)}deserialize(f){switch(f.annotationType??f.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(f,this,this.#i);case r.AnnotationEditorType.INK:return s.InkEditor.deserialize(f,this,this.#i);case r.AnnotationEditorType.STAMP:return d.StampEditor.deserialize(f,this,this.#i)}return null}#d(f,p){let g=this.getNextId(),h=this.#h({parent:this,id:g,x:f.offsetX,y:f.offsetY,uiManager:this.#i,isCentered:p});return h&&this.add(h),h}#f(){let{x:f,y:p,width:g,height:h}=this.div.getBoundingClientRect(),v=Math.max(0,f),y=Math.max(0,p),w=Math.min(window.innerWidth,f+g),M=Math.min(window.innerHeight,p+h),T=(v+w)/2-f,E=(y+M)/2-p,[A,j]=this.viewport.rotation%180===0?[T,E]:[E,T];return{offsetX:A,offsetY:j}}addNewEditor(){this.#d(this.#f(),!0)}setSelected(f){this.#i.setSelected(f)}toggleSelected(f){this.#i.toggleSelected(f)}isSelected(f){return this.#i.isSelected(f)}unselect(f){this.#i.unselect(f)}pointerup(f){let{isMac:p}=r.FeatureTest.platform;if(!(f.button!==0||f.ctrlKey&&p)&&f.target===this.div&&this.#o){if(this.#o=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===r.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(f,!1)}}pointerdown(f){if(this.#o){this.#o=!1;return}let{isMac:p}=r.FeatureTest.platform;if(f.button!==0||f.ctrlKey&&p||f.target!==this.div)return;this.#o=!0;let g=this.#i.getActive();this.#t=!g||g.isEmpty()}findNewParent(f,p,g){let h=this.#i.findParent(p,g);return h===null||h===this?!1:(h.changeParent(f),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(let f of this.#s.values())this.#e?.removePointerInTextLayer(f.contentDiv),f.setParent(null),f.isAttachedToDOM=!1,f.div.remove();this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(let f of this.#s.values())f.isEmpty()&&f.remove();this.#l=!1}render({viewport:f}){this.viewport=f,(0,l.setLayerDimensions)(this.div,f);for(let p of this.#i.getEditors(this.pageIndex))this.add(p);this.updateMode()}update({viewport:f}){this.#i.commitOrRemove(),this.viewport=f,(0,l.setLayerDimensions)(this.div,{rotation:f.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:f,pageHeight:p}=this.viewport.rawDims;return[f,p]}}return a})();t.AnnotationEditorLayer=c},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(5),o=n(4),s=n(29);let l=(()=>{class d extends o.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#a;#s="";#o=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let a=d.prototype,u=g=>g.isEmpty(),f=i.AnnotationEditorUIManager.TRANSLATE_SMALL,p=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],a.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],a.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],a._translateEmpty,{args:[-f,0],checker:u}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],a._translateEmpty,{args:[-p,0],checker:u}],[["ArrowRight","mac+ArrowRight"],a._translateEmpty,{args:[f,0],checker:u}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],a._translateEmpty,{args:[p,0],checker:u}],[["ArrowUp","mac+ArrowUp"],a._translateEmpty,{args:[0,-f],checker:u}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],a._translateEmpty,{args:[0,-p],checker:u}],[["ArrowDown","mac+ArrowDown"],a._translateEmpty,{args:[0,f],checker:u}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],a._translateEmpty,{args:[0,p],checker:u}]]))}static _type="freetext";constructor(a){super(je(ce({},a),{name:"freeTextEditor"})),this.#a=a.color||d._defaultColor||o.AnnotationEditor._defaultLineColor,this.#l=a.fontSize||d._defaultFontSize}static initialize(a){o.AnnotationEditor.initialize(a,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let u=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(u.getPropertyValue("--freetext-padding"))}static updateDefaultParams(a,u){switch(a){case r.AnnotationEditorParamsType.FREETEXT_SIZE:d._defaultFontSize=u;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:d._defaultColor=u;break}}updateParams(a,u){switch(a){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(u);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#h(u);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,d._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,d._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#i(a){let u=p=>{this.editorDiv.style.fontSize=`calc(${p}px * var(--scale-factor))`,this.translate(0,-(p-this.#l)*this.parentScale),this.#l=p,this.#f()},f=this.#l;this.addCommands({cmd:()=>{u(a)},undo:()=>{u(f)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#h(a){let u=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=a},undo:()=>{this.#a=this.editorDiv.style.color=u},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(a,u){this._uiManager.translateSelectedEditors(a,u,!0)}getInitialTranslation(){let a=this.parentScale;return[-d._internalPadding*a,-(d._internalPadding+this.#l)*a]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(a){this._focusEventsAllowed&&(super.focusin(a),a.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){let a=this.editorDiv.getElementsByTagName("div");if(a.length===0)return this.editorDiv.innerText;let u=[];for(let f of a)u.push(f.innerText.replace(/\r\n?|\n/,""));return u.join(`
`)}#f(){let[a,u]=this.parentDimensions,f;if(this.isAttachedToDOM)f=this.div.getBoundingClientRect();else{let{currentLayer:p,div:g}=this,h=g.style.display;g.style.display="hidden",p.div.append(this.div),f=g.getBoundingClientRect(),g.remove(),g.style.display=h}this.rotation%180===this.parentRotation%180?(this.width=f.width/a,this.height=f.height/u):(this.width=f.height/a,this.height=f.width/u),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let a=this.#s,u=this.#s=this.#d().trimEnd();if(a===u)return;let f=p=>{if(this.#s=p,!p){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#f()};this.addCommands({cmd:()=>{f(u)},undo:()=>{f(a)},mustExec:!1}),this.#f()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(a){this.enterInEditMode()}keydown(a){a.target===this.div&&a.key==="Enter"&&(this.enterInEditMode(),a.preventDefault())}editorDivKeydown(a){d._keyboardManager.exec(this,a)}editorDivFocus(a){this.isEditing=!0}editorDivBlur(a){this.isEditing=!1}editorDivInput(a){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let a,u;this.width&&(a=this.x,u=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.enableEditing(),o.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(p=>this.editorDiv?.setAttribute("aria-label",p)),o.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(p=>this.editorDiv?.setAttribute("default-content",p)),this.editorDiv.contentEditable=!0;let{style:f}=this.editorDiv;if(f.fontSize=`calc(${this.#l}px * var(--scale-factor))`,f.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[p,g]=this.parentDimensions;if(this.annotationElementId){let{position:h}=this.#c,[v,y]=this.getInitialTranslation();[v,y]=this.pageTranslationToScreen(v,y);let[w,M]=this.pageDimensions,[T,E]=this.pageTranslation,A,j;switch(this.rotation){case 0:A=a+(h[0]-T)/w,j=u+this.height-(h[1]-E)/M;break;case 90:A=a+(h[0]-T)/w,j=u-(h[1]-E)/M,[v,y]=[y,-v];break;case 180:A=a-this.width+(h[0]-T)/w,j=u-(h[1]-E)/M,[v,y]=[-v,-y];break;case 270:A=a+(h[0]-T-this.height*M)/w,j=u+(h[1]-E-this.width*w)/M,[v,y]=[-y,v];break}this.setAt(A*p,j*g,v,y)}else this.setAt(a*p,u*g,this.width*p,this.height*g);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#s)for(let a of this.#s.split(`
`)){let u=document.createElement("div");u.append(a?document.createTextNode(a):document.createElement("br")),this.editorDiv.append(u)}}get contentDiv(){return this.editorDiv}static deserialize(a,u,f){let p=null;if(a instanceof s.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:h,fontColor:v},rect:y,rotation:w,id:M},textContent:T,textPosition:E,parent:{page:{pageNumber:A}}}=a;if(!T||T.length===0)return null;p=a={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(v),fontSize:h,value:T.join(`
`),position:E,pageIndex:A-1,rect:y,rotation:w,id:M,deleted:!1}}let g=super.deserialize(a,u,f);return g.#l=a.fontSize,g.#a=r.Util.makeHexColor(...a.color),g.#s=a.value,g.annotationElementId=a.id||null,g.#c=p,g}serialize(a=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let u=d._internalPadding*this.parentScale,f=this.getRect(u,u),p=o.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),g={annotationType:r.AnnotationEditorType.FREETEXT,color:p,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:f,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return a?g:this.annotationElementId&&!this.#v(g)?null:(g.id=this.annotationElementId,g)}#v(a){let{value:u,fontSize:f,color:p,rect:g,pageIndex:h}=this.#c;return a.value!==u||a.fontSize!==f||a.rect.some((v,y)=>Math.abs(v-g[y])>=1)||a.color.some((v,y)=>v!==p[y])||a.pageIndex!==h}#m(a=!1){if(!this.annotationElementId)return;if(this.#f(),!a&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}let u=d._internalPadding*this.parentScale;this.#c.rect=this.getRect(u,u)}}return d})();t.FreeTextEditor=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var r=n(1),i=n(6),o=n(3),s=n(30),l=n(31),d=n(32);let c=1e3,a=9,u=new WeakSet;function f(x){return{width:x[2]-x[0],height:x[3]-x[1]}}class p{static create(m){switch(m.data.annotationType){case r.AnnotationType.LINK:return new h(m);case r.AnnotationType.TEXT:return new v(m);case r.AnnotationType.WIDGET:switch(m.data.fieldType){case"Tx":return new w(m);case"Btn":return m.data.radioButton?new E(m):m.data.checkBox?new T(m):new A(m);case"Ch":return new j(m);case"Sig":return new M(m)}return new y(m);case r.AnnotationType.POPUP:return new V(m);case r.AnnotationType.FREETEXT:return new $(m);case r.AnnotationType.LINE:return new W(m);case r.AnnotationType.SQUARE:return new ne(m);case r.AnnotationType.CIRCLE:return new J(m);case r.AnnotationType.POLYLINE:return new Q(m);case r.AnnotationType.CARET:return new Z(m);case r.AnnotationType.INK:return new O(m);case r.AnnotationType.POLYGON:return new oe(m);case r.AnnotationType.HIGHLIGHT:return new C(m);case r.AnnotationType.UNDERLINE:return new b(m);case r.AnnotationType.SQUIGGLY:return new _(m);case r.AnnotationType.STRIKEOUT:return new S(m);case r.AnnotationType.STAMP:return new k(m);case r.AnnotationType.FILEATTACHMENT:return new N(m);default:return new g(m)}}}class g{#e=!1;constructor(m,{isRenderable:D=!1,ignoreBorder:I=!1,createQuadrilaterals:R=!1}={}){this.isRenderable=D,this.data=m.data,this.layer=m.layer,this.linkService=m.linkService,this.downloadManager=m.downloadManager,this.imageResourcesPath=m.imageResourcesPath,this.renderForms=m.renderForms,this.svgFactory=m.svgFactory,this.annotationStorage=m.annotationStorage,this.enableScripting=m.enableScripting,this.hasJSActions=m.hasJSActions,this._fieldObjects=m.fieldObjects,this.parent=m.parent,D&&(this.container=this._createContainer(I)),R&&this._createQuadrilaterals()}static _hasPopupData({titleObj:m,contentsObj:D,richText:I}){return!!(m?.str||D?.str||I?.str)}get hasPopupData(){return g._hasPopupData(this.data)}_createContainer(m){let{data:D,parent:{page:I,viewport:R}}=this,P=document.createElement("section");P.setAttribute("data-annotation-id",D.id),this instanceof y||(P.tabIndex=c),P.style.zIndex=this.parent.zIndex++,this.data.popupRef&&P.setAttribute("aria-haspopup","dialog"),D.noRotate&&P.classList.add("norotate");let{pageWidth:B,pageHeight:U,pageX:G,pageY:ie}=R.rawDims;if(!D.rect||this instanceof V){let{rotation:ee}=D;return!D.hasOwnCanvas&&ee!==0&&this.setRotation(ee,P),P}let{width:q,height:Y}=f(D.rect),X=r.Util.normalizeRect([D.rect[0],I.view[3]-D.rect[1]+I.view[1],D.rect[2],I.view[3]-D.rect[3]+I.view[1]]);if(!m&&D.borderStyle.width>0){P.style.borderWidth=`${D.borderStyle.width}px`;let ee=D.borderStyle.horizontalCornerRadius,le=D.borderStyle.verticalCornerRadius;if(ee>0||le>0){let pe=`calc(${ee}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;P.style.borderRadius=pe}else if(this instanceof E){let pe=`calc(${q}px * var(--scale-factor)) / calc(${Y}px * var(--scale-factor))`;P.style.borderRadius=pe}switch(D.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:P.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:P.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:P.style.borderBottomStyle="solid";break;default:break}let de=D.borderColor||null;de?(this.#e=!0,P.style.borderColor=r.Util.makeHexColor(de[0]|0,de[1]|0,de[2]|0)):P.style.borderWidth=0}P.style.left=`${100*(X[0]-G)/B}%`,P.style.top=`${100*(X[1]-ie)/U}%`;let{rotation:K}=D;return D.hasOwnCanvas||K===0?(P.style.width=`${100*q/B}%`,P.style.height=`${100*Y/U}%`):this.setRotation(K,P),P}setRotation(m,D=this.container){if(!this.data.rect)return;let{pageWidth:I,pageHeight:R}=this.parent.viewport.rawDims,{width:P,height:B}=f(this.data.rect),U,G;m%180===0?(U=100*P/I,G=100*B/R):(U=100*B/I,G=100*P/R),D.style.width=`${U}%`,D.style.height=`${G}%`,D.setAttribute("data-main-rotation",(360-m)%360)}get _commonActions(){let m=(D,I,R)=>{let P=R.detail[D],B=P[0],U=P.slice(1);R.target.style[I]=s.ColorConverters[`${B}_HTML`](U),this.annotationStorage.setValue(this.data.id,{[I]:s.ColorConverters[`${B}_rgb`](U)})};return(0,r.shadow)(this,"_commonActions",{display:D=>{let{display:I}=D.detail,R=I%2===1;this.container.style.visibility=R?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:R,noPrint:I===1||I===2})},print:D=>{this.annotationStorage.setValue(this.data.id,{noPrint:!D.detail.print})},hidden:D=>{let{hidden:I}=D.detail;this.container.style.visibility=I?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:I,noView:I})},focus:D=>{setTimeout(()=>D.target.focus({preventScroll:!1}),0)},userName:D=>{D.target.title=D.detail.userName},readonly:D=>{D.target.disabled=D.detail.readonly},required:D=>{this._setRequired(D.target,D.detail.required)},bgColor:D=>{m("bgColor","backgroundColor",D)},fillColor:D=>{m("fillColor","backgroundColor",D)},fgColor:D=>{m("fgColor","color",D)},textColor:D=>{m("textColor","color",D)},borderColor:D=>{m("borderColor","borderColor",D)},strokeColor:D=>{m("strokeColor","borderColor",D)},rotation:D=>{let I=D.detail.rotation;this.setRotation(I),this.annotationStorage.setValue(this.data.id,{rotation:I})}})}_dispatchEventFromSandbox(m,D){let I=this._commonActions;for(let R of Object.keys(D.detail))(m[R]||I[R])?.(D)}_setDefaultPropertiesFromJS(m){if(!this.enableScripting)return;let D=this.annotationStorage.getRawValue(this.data.id);if(!D)return;let I=this._commonActions;for(let[R,P]of Object.entries(D)){let B=I[R];if(B){let U={detail:{[R]:P},target:m};B(U),delete D[R]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:m}=this.data;if(!m)return;let[D,I,R,P]=this.data.rect;if(m.length===1){let[,{x:le,y:de},{x:pe,y:_e}]=m[0];if(R===le&&P===de&&D===pe&&I===_e)return}let{style:B}=this.container,U;if(this.#e){let{borderColor:le,borderWidth:de}=B;B.borderWidth=0,U=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${le}" stroke-width="${de}">`],this.container.classList.add("hasBorder")}let G=R-D,ie=P-I,{svgFactory:q}=this,Y=q.createElement("svg");Y.classList.add("quadrilateralsContainer"),Y.setAttribute("width",0),Y.setAttribute("height",0);let X=q.createElement("defs");Y.append(X);let K=q.createElement("clipPath"),ee=`clippath_${this.data.id}`;K.setAttribute("id",ee),K.setAttribute("clipPathUnits","objectBoundingBox"),X.append(K);for(let[,{x:le,y:de},{x:pe,y:_e}]of m){let Te=q.createElement("rect"),Ue=(pe-D)/G,Et=(P-de)/ie,ut=(le-pe)/G,fr=(de-_e)/ie;Te.setAttribute("x",Ue),Te.setAttribute("y",Et),Te.setAttribute("width",ut),Te.setAttribute("height",fr),K.append(Te),U?.push(`<rect vector-effect="non-scaling-stroke" x="${Ue}" y="${Et}" width="${ut}" height="${fr}"/>`)}this.#e&&(U.push("</g></svg>')"),B.backgroundImage=U.join("")),this.container.append(Y),this.container.style.clipPath=`url(#${ee})`}_createPopup(){let{container:m,data:D}=this;m.setAttribute("aria-haspopup","dialog");let I=new V({data:{color:D.color,titleObj:D.titleObj,modificationDate:D.modificationDate,contentsObj:D.contentsObj,richText:D.richText,parentRect:D.rect,borderStyle:0,id:`popup_${D.id}`,rotation:D.rotation},parent:this.parent,elements:[this]});this.parent.div.append(I.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(m,D=null){let I=[];if(this._fieldObjects){let R=this._fieldObjects[m];if(R)for(let{page:P,id:B,exportValues:U}of R){if(P===-1||B===D)continue;let G=typeof U=="string"?U:null,ie=document.querySelector(`[data-element-id="${B}"]`);if(ie&&!u.has(ie)){(0,r.warn)(`_getElementsByName - element not allowed: ${B}`);continue}I.push({id:B,exportValue:G,domElement:ie})}return I}for(let R of document.getElementsByName(m)){let{exportValue:P}=R,B=R.getAttribute("data-element-id");B!==D&&u.has(R)&&I.push({id:B,exportValue:P,domElement:R})}return I}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let m=this.getElementsToTriggerPopup();if(Array.isArray(m))for(let D of m)D.classList.add("highlightArea");else m.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:m,data:{id:D}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:m,editId:D})})}}class h extends g{constructor(m,D=null){super(m,{isRenderable:!0,ignoreBorder:!!D?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=m.data.isTooltipOnly}render(){let{data:m,linkService:D}=this,I=document.createElement("a");I.setAttribute("data-element-id",m.id);let R=!1;return m.url?(D.addLinkAttributes(I,m.url,m.newWindow),R=!0):m.action?(this._bindNamedAction(I,m.action),R=!0):m.attachment?(this._bindAttachment(I,m.attachment),R=!0):m.setOCGState?(this.#t(I,m.setOCGState),R=!0):m.dest?(this._bindLink(I,m.dest),R=!0):(m.actions&&(m.actions.Action||m.actions["Mouse Up"]||m.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(I,m),R=!0),m.resetForm?(this._bindResetFormAction(I,m.resetForm),R=!0):this.isTooltipOnly&&!R&&(this._bindLink(I,""),R=!0)),this.container.classList.add("linkAnnotation"),R&&this.container.append(I),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(m,D){m.href=this.linkService.getDestinationHash(D),m.onclick=()=>(D&&this.linkService.goToDestination(D),!1),(D||D==="")&&this.#e()}_bindNamedAction(m,D){m.href=this.linkService.getAnchorUrl(""),m.onclick=()=>(this.linkService.executeNamedAction(D),!1),this.#e()}_bindAttachment(m,D){m.href=this.linkService.getAnchorUrl(""),m.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,D.content,D.filename),!1),this.#e()}#t(m,D){m.href=this.linkService.getAnchorUrl(""),m.onclick=()=>(this.linkService.executeSetOCGState(D),!1),this.#e()}_bindJSAction(m,D){m.href=this.linkService.getAnchorUrl("");let I=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let R of Object.keys(D.actions)){let P=I.get(R);P&&(m[P]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D.id,name:R}}),!1))}m.onclick||(m.onclick=()=>!1),this.#e()}_bindResetFormAction(m,D){let I=m.onclick;if(I||(m.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),I||(m.onclick=()=>!1);return}m.onclick=()=>{I?.();let{fields:R,refs:P,include:B}=D,U=[];if(R.length!==0||P.length!==0){let q=new Set(P);for(let Y of R){let X=this._fieldObjects[Y]||[];for(let{id:K}of X)q.add(K)}for(let Y of Object.values(this._fieldObjects))for(let X of Y)q.has(X.id)===B&&U.push(X)}else for(let q of Object.values(this._fieldObjects))U.push(...q);let G=this.annotationStorage,ie=[];for(let q of U){let{id:Y}=q;switch(ie.push(Y),q.type){case"text":{let K=q.defaultValue||"";G.setValue(Y,{value:K});break}case"checkbox":case"radiobutton":{let K=q.defaultValue===q.exportValues;G.setValue(Y,{value:K});break}case"combobox":case"listbox":{let K=q.defaultValue||"";G.setValue(Y,{value:K});break}default:continue}let X=document.querySelector(`[data-element-id="${Y}"]`);if(X){if(!u.has(X)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${Y}`);continue}}else continue;X.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ie,name:"ResetForm"}}),!1}}}class v extends g{constructor(m){super(m,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let m=document.createElement("img");return m.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",m.alt="[{{type}} Annotation]",m.dataset.l10nId="text_annotation_type",m.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(m),this.container}}class y extends g{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(m){this.data.hasOwnCanvas&&(m.previousSibling?.nodeName==="CANVAS"&&(m.previousSibling.hidden=!0),m.hidden=!1)}_getKeyModifier(m){let{isWin:D,isMac:I}=r.FeatureTest.platform;return D&&m.ctrlKey||I&&m.metaKey}_setEventListener(m,D,I,R,P){I.includes("mouse")?m.addEventListener(I,B=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:R,value:P(B),shift:B.shiftKey,modifier:this._getKeyModifier(B)}})}):m.addEventListener(I,B=>{if(I==="blur"){if(!D.focused||!B.relatedTarget)return;D.focused=!1}else if(I==="focus"){if(D.focused)return;D.focused=!0}P&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:R,value:P(B)}})})}_setEventListeners(m,D,I,R){for(let[P,B]of I)(B==="Action"||this.data.actions?.[B])&&((B==="Focus"||B==="Blur")&&(D||={focused:!1}),this._setEventListener(m,D,P,B,R),B==="Focus"&&!this.data.actions?.Blur?this._setEventListener(m,D,"blur","Blur",null):B==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(m,D,"focus","Focus",null))}_setBackgroundColor(m){let D=this.data.backgroundColor||null;m.style.backgroundColor=D===null?"transparent":r.Util.makeHexColor(D[0],D[1],D[2])}_setTextStyle(m){let D=["left","center","right"],{fontColor:I}=this.data.defaultAppearanceData,R=this.data.defaultAppearanceData.fontSize||a,P=m.style,B,U=2,G=ie=>Math.round(10*ie)/10;if(this.data.multiLine){let ie=Math.abs(this.data.rect[3]-this.data.rect[1]-U),q=Math.round(ie/(r.LINE_FACTOR*R))||1,Y=ie/q;B=Math.min(R,G(Y/r.LINE_FACTOR))}else{let ie=Math.abs(this.data.rect[3]-this.data.rect[1]-U);B=Math.min(R,G(ie/r.LINE_FACTOR))}P.fontSize=`calc(${B}px * var(--scale-factor))`,P.color=r.Util.makeHexColor(I[0],I[1],I[2]),this.data.textAlignment!==null&&(P.textAlign=D[this.data.textAlignment])}_setRequired(m,D){D?m.setAttribute("required",!0):m.removeAttribute("required"),m.setAttribute("aria-required",D)}}class w extends y{constructor(m){let D=m.renderForms||!m.data.hasAppearance&&!!m.data.fieldValue;super(m,{isRenderable:D})}setPropertyOnSiblings(m,D,I,R){let P=this.annotationStorage;for(let B of this._getElementsByName(m.name,m.id))B.domElement&&(B.domElement[D]=I),P.setValue(B.id,{[R]:I})}render(){let m=this.annotationStorage,D=this.data.id;this.container.classList.add("textWidgetAnnotation");let I=null;if(this.renderForms){let R=m.getValue(D,{value:this.data.fieldValue}),P=R.value||"",B=m.getValue(D,{charLimit:this.data.maxLen}).charLimit;B&&P.length>B&&(P=P.slice(0,B));let U=R.formattedValue||this.data.textContent?.join(`
`)||null;U&&this.data.comb&&(U=U.replaceAll(/\s+/g,""));let G={userValue:P,formattedValue:U,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(I=document.createElement("textarea"),I.textContent=U??P,this.data.doNotScroll&&(I.style.overflowY="hidden")):(I=document.createElement("input"),I.type="text",I.setAttribute("value",U??P),this.data.doNotScroll&&(I.style.overflowX="hidden")),this.data.hasOwnCanvas&&(I.hidden=!0),u.add(I),I.setAttribute("data-element-id",D),I.disabled=this.data.readOnly,I.name=this.data.fieldName,I.tabIndex=c,this._setRequired(I,this.data.required),B&&(I.maxLength=B),I.addEventListener("input",q=>{m.setValue(D,{value:q.target.value}),this.setPropertyOnSiblings(I,"value",q.target.value,"value"),G.formattedValue=null}),I.addEventListener("resetform",q=>{let Y=this.data.defaultFieldValue??"";I.value=G.userValue=Y,G.formattedValue=null});let ie=q=>{let{formattedValue:Y}=G;Y!=null&&(q.target.value=Y),q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){I.addEventListener("focus",Y=>{if(G.focused)return;let{target:X}=Y;G.userValue&&(X.value=G.userValue),G.lastCommittedValue=X.value,G.commitKey=1,G.focused=!0}),I.addEventListener("updatefromsandbox",Y=>{this.showElementAndHideCanvas(Y.target);let X={value(K){G.userValue=K.detail.value??"",m.setValue(D,{value:G.userValue.toString()}),K.target.value=G.userValue},formattedValue(K){let{formattedValue:ee}=K.detail;G.formattedValue=ee,ee!=null&&K.target!==document.activeElement&&(K.target.value=ee),m.setValue(D,{formattedValue:ee})},selRange(K){K.target.setSelectionRange(...K.detail.selRange)},charLimit:K=>{let{charLimit:ee}=K.detail,{target:le}=K;if(ee===0){le.removeAttribute("maxLength");return}le.setAttribute("maxLength",ee);let de=G.userValue;!de||de.length<=ee||(de=de.slice(0,ee),le.value=G.userValue=de,m.setValue(D,{value:de}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:de,willCommit:!0,commitKey:1,selStart:le.selectionStart,selEnd:le.selectionEnd}}))}};this._dispatchEventFromSandbox(X,Y)}),I.addEventListener("keydown",Y=>{G.commitKey=1;let X=-1;if(Y.key==="Escape"?X=0:Y.key==="Enter"&&!this.data.multiLine?X=2:Y.key==="Tab"&&(G.commitKey=3),X===-1)return;let{value:K}=Y.target;G.lastCommittedValue!==K&&(G.lastCommittedValue=K,G.userValue=K,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:K,willCommit:!0,commitKey:X,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}))});let q=ie;ie=null,I.addEventListener("blur",Y=>{if(!G.focused||!Y.relatedTarget)return;G.focused=!1;let{value:X}=Y.target;G.userValue=X,G.lastCommittedValue!==X&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:X,willCommit:!0,commitKey:G.commitKey,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}),q(Y)}),this.data.actions?.Keystroke&&I.addEventListener("beforeinput",Y=>{G.lastCommittedValue=null;let{data:X,target:K}=Y,{value:ee,selectionStart:le,selectionEnd:de}=K,pe=le,_e=de;switch(Y.inputType){case"deleteWordBackward":{let Te=ee.substring(0,le).match(/\w*[^\w]*$/);Te&&(pe-=Te[0].length);break}case"deleteWordForward":{let Te=ee.substring(le).match(/^[^\w]*\w*/);Te&&(_e+=Te[0].length);break}case"deleteContentBackward":le===de&&(pe-=1);break;case"deleteContentForward":le===de&&(_e+=1);break}Y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:ee,change:X||"",willCommit:!1,selStart:pe,selEnd:_e}})}),this._setEventListeners(I,G,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.value)}if(ie&&I.addEventListener("blur",ie),this.data.comb){let Y=(this.data.rect[2]-this.data.rect[0])/B;I.classList.add("comb"),I.style.letterSpacing=`calc(${Y}px * var(--scale-factor) - 1ch)`}}else I=document.createElement("div"),I.textContent=this.data.fieldValue,I.style.verticalAlign="middle",I.style.display="table-cell";return this._setTextStyle(I),this._setBackgroundColor(I),this._setDefaultPropertiesFromJS(I),this.container.append(I),this.container}}class M extends y{constructor(m){super(m,{isRenderable:!!m.data.hasOwnCanvas})}}class T extends y{constructor(m){super(m,{isRenderable:m.renderForms})}render(){let m=this.annotationStorage,D=this.data,I=D.id,R=m.getValue(I,{value:D.exportValue===D.fieldValue}).value;typeof R=="string"&&(R=R!=="Off",m.setValue(I,{value:R})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let P=document.createElement("input");return u.add(P),P.setAttribute("data-element-id",I),P.disabled=D.readOnly,this._setRequired(P,this.data.required),P.type="checkbox",P.name=D.fieldName,R&&P.setAttribute("checked",!0),P.setAttribute("exportValue",D.exportValue),P.tabIndex=c,P.addEventListener("change",B=>{let{name:U,checked:G}=B.target;for(let ie of this._getElementsByName(U,I)){let q=G&&ie.exportValue===D.exportValue;ie.domElement&&(ie.domElement.checked=q),m.setValue(ie.id,{value:q})}m.setValue(I,{value:G})}),P.addEventListener("resetform",B=>{let U=D.defaultFieldValue||"Off";B.target.checked=U===D.exportValue}),this.enableScripting&&this.hasJSActions&&(P.addEventListener("updatefromsandbox",B=>{let U={value(G){G.target.checked=G.detail.value!=="Off",m.setValue(I,{value:G.target.checked})}};this._dispatchEventFromSandbox(U,B)}),this._setEventListeners(P,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.checked)),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class E extends y{constructor(m){super(m,{isRenderable:m.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let m=this.annotationStorage,D=this.data,I=D.id,R=m.getValue(I,{value:D.fieldValue===D.buttonValue}).value;typeof R=="string"&&(R=R!==D.buttonValue,m.setValue(I,{value:R}));let P=document.createElement("input");if(u.add(P),P.setAttribute("data-element-id",I),P.disabled=D.readOnly,this._setRequired(P,this.data.required),P.type="radio",P.name=D.fieldName,R&&P.setAttribute("checked",!0),P.tabIndex=c,P.addEventListener("change",B=>{let{name:U,checked:G}=B.target;for(let ie of this._getElementsByName(U,I))m.setValue(ie.id,{value:!1});m.setValue(I,{value:G})}),P.addEventListener("resetform",B=>{let U=D.defaultFieldValue;B.target.checked=U!=null&&U===D.buttonValue}),this.enableScripting&&this.hasJSActions){let B=D.buttonValue;P.addEventListener("updatefromsandbox",U=>{let G={value:ie=>{let q=B===ie.detail.value;for(let Y of this._getElementsByName(ie.target.name)){let X=q&&Y.id===I;Y.domElement&&(Y.domElement.checked=X),m.setValue(Y.id,{value:X})}}};this._dispatchEventFromSandbox(G,U)}),this._setEventListeners(P,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)}return this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class A extends h{constructor(m){super(m,{ignoreBorder:m.data.hasAppearance})}render(){let m=super.render();m.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(m.title=this.data.alternativeText);let D=m.lastChild;return this.enableScripting&&this.hasJSActions&&D&&(this._setDefaultPropertiesFromJS(D),D.addEventListener("updatefromsandbox",I=>{this._dispatchEventFromSandbox({},I)})),m}}class j extends y{constructor(m){super(m,{isRenderable:m.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let m=this.annotationStorage,D=this.data.id,I=m.getValue(D,{value:this.data.fieldValue}),R=document.createElement("select");u.add(R),R.setAttribute("data-element-id",D),R.disabled=this.data.readOnly,this._setRequired(R,this.data.required),R.name=this.data.fieldName,R.tabIndex=c;let P=this.data.combo&&this.data.options.length>0;this.data.combo||(R.size=this.data.options.length,this.data.multiSelect&&(R.multiple=!0)),R.addEventListener("resetform",q=>{let Y=this.data.defaultFieldValue;for(let X of R.options)X.selected=X.value===Y});for(let q of this.data.options){let Y=document.createElement("option");Y.textContent=q.displayValue,Y.value=q.exportValue,I.value.includes(q.exportValue)&&(Y.setAttribute("selected",!0),P=!1),R.append(Y)}let B=null;if(P){let q=document.createElement("option");q.value=" ",q.setAttribute("hidden",!0),q.setAttribute("selected",!0),R.prepend(q),B=()=>{q.remove(),R.removeEventListener("input",B),B=null},R.addEventListener("input",B)}let U=q=>{let Y=q?"value":"textContent",{options:X,multiple:K}=R;return K?Array.prototype.filter.call(X,ee=>ee.selected).map(ee=>ee[Y]):X.selectedIndex===-1?null:X[X.selectedIndex][Y]},G=U(!1),ie=q=>{let Y=q.target.options;return Array.prototype.map.call(Y,X=>({displayValue:X.textContent,exportValue:X.value}))};return this.enableScripting&&this.hasJSActions?(R.addEventListener("updatefromsandbox",q=>{let Y={value(X){B?.();let K=X.detail.value,ee=new Set(Array.isArray(K)?K:[K]);for(let le of R.options)le.selected=ee.has(le.value);m.setValue(D,{value:U(!0)}),G=U(!1)},multipleSelection(X){R.multiple=!0},remove(X){let K=R.options,ee=X.detail.remove;K[ee].selected=!1,R.remove(ee),K.length>0&&Array.prototype.findIndex.call(K,de=>de.selected)===-1&&(K[0].selected=!0),m.setValue(D,{value:U(!0),items:ie(X)}),G=U(!1)},clear(X){for(;R.length!==0;)R.remove(0);m.setValue(D,{value:null,items:[]}),G=U(!1)},insert(X){let{index:K,displayValue:ee,exportValue:le}=X.detail.insert,de=R.children[K],pe=document.createElement("option");pe.textContent=ee,pe.value=le,de?de.before(pe):R.append(pe),m.setValue(D,{value:U(!0),items:ie(X)}),G=U(!1)},items(X){let{items:K}=X.detail;for(;R.length!==0;)R.remove(0);for(let ee of K){let{displayValue:le,exportValue:de}=ee,pe=document.createElement("option");pe.textContent=le,pe.value=de,R.append(pe)}R.options.length>0&&(R.options[0].selected=!0),m.setValue(D,{value:U(!0),items:ie(X)}),G=U(!1)},indices(X){let K=new Set(X.detail.indices);for(let ee of X.target.options)ee.selected=K.has(ee.index);m.setValue(D,{value:U(!0)}),G=U(!1)},editable(X){X.target.disabled=!X.detail.editable}};this._dispatchEventFromSandbox(Y,q)}),R.addEventListener("input",q=>{let Y=U(!0);m.setValue(D,{value:Y}),q.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:G,changeEx:Y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(R,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],q=>q.target.value)):R.addEventListener("input",function(q){m.setValue(D,{value:U(!0)})}),this.data.combo&&this._setTextStyle(R),this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}class V extends g{constructor(m){let{data:D,elements:I}=m;super(m,{isRenderable:g._hasPopupData(D)}),this.elements=I}render(){this.container.classList.add("popupAnnotation");let m=new F({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),D=[];for(let I of this.elements)I.popup=m,D.push(I.data.id),I.addHighlightArea();return this.container.setAttribute("aria-controls",D.map(I=>`${r.AnnotationPrefix}${I}`).join(",")),this.container}}class F{#e=null;#t=this.#u.bind(this);#n=this.#w.bind(this);#r=this.#D.bind(this);#a=this.#y.bind(this);#s=null;#o=null;#l=null;#c=null;#i=null;#h=null;#d=!1;#f=null;#p=null;#v=null;#m=null;#g=!1;constructor({container:m,color:D,elements:I,titleObj:R,modificationDate:P,contentsObj:B,richText:U,parent:G,rect:ie,parentRect:q,open:Y}){this.#o=m,this.#m=R,this.#l=B,this.#v=U,this.#i=G,this.#s=D,this.#p=ie,this.#h=q,this.#c=I;let X=i.PDFDateString.toDateObject(P);X&&(this.#e=G.l10n.get("annotation_date_string",{date:X.toLocaleDateString(),time:X.toLocaleTimeString()})),this.trigger=I.flatMap(K=>K.getElementsToTriggerPopup());for(let K of this.trigger)K.addEventListener("click",this.#a),K.addEventListener("mouseenter",this.#r),K.addEventListener("mouseleave",this.#n),K.classList.add("popupTriggerArea");for(let K of I)K.container?.addEventListener("keydown",this.#t);this.#o.hidden=!0,Y&&this.#y()}render(){if(this.#f)return;let{page:{view:m},viewport:{rawDims:{pageWidth:D,pageHeight:I,pageX:R,pageY:P}}}=this.#i,B=this.#f=document.createElement("div");if(B.className="popup",this.#s){let Te=B.style.outlineColor=r.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?B.style.backgroundColor=`color-mix(in srgb, ${Te} 30%, white)`:B.style.backgroundColor=r.Util.makeHexColor(...this.#s.map(Et=>Math.floor(.7*(255-Et)+Et)))}let U=document.createElement("span");U.className="header";let G=document.createElement("h1");if(U.append(G),{dir:G.dir,str:G.textContent}=this.#m,B.append(U),this.#e){let Te=document.createElement("span");Te.classList.add("popupDate"),this.#e.then(Ue=>{Te.textContent=Ue}),U.append(Te)}let ie=this.#l,q=this.#v;if(q?.str&&(!ie?.str||ie.str===q.str))d.XfaLayer.render({xfaHtml:q.html,intent:"richText",div:B}),B.lastChild.classList.add("richText","popupContent");else{let Te=this._formatContents(ie);B.append(Te)}let Y=!!this.#h,X=Y?this.#h:this.#p;for(let Te of this.#c)if(!X||r.Util.intersect(Te.data.rect,X)!==null){X=Te.data.rect,Y=!0;break}let K=r.Util.normalizeRect([X[0],m[3]-X[1]+m[1],X[2],m[3]-X[3]+m[1]]),le=Y?X[2]-X[0]+5:0,de=K[0]+le,pe=K[1],{style:_e}=this.#o;_e.left=`${100*(de-R)/D}%`,_e.top=`${100*(pe-P)/I}%`,this.#o.append(B)}_formatContents({str:m,dir:D}){let I=document.createElement("p");I.classList.add("popupContent"),I.dir=D;let R=m.split(/(?:\r\n?|\n)/);for(let P=0,B=R.length;P<B;++P){let U=R[P];I.append(document.createTextNode(U)),P<B-1&&I.append(document.createElement("br"))}return I}#u(m){m.altKey||m.shiftKey||m.ctrlKey||m.metaKey||(m.key==="Enter"||m.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#D(),this.#o.addEventListener("click",this.#a),this.#o.addEventListener("keydown",this.#t)):(this.#w(),this.#o.removeEventListener("click",this.#a),this.#o.removeEventListener("keydown",this.#t))}#D(){this.#f||this.render(),this.isVisible?this.#d&&this.#o.classList.add("focused"):(this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#w(){this.#o.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#o.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}}class $ extends g{constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0}),this.textContent=m.data.textContent,this.textPosition=m.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let m=document.createElement("div");m.classList.add("annotationTextContent"),m.setAttribute("role","comment");for(let D of this.textContent){let I=document.createElement("span");I.textContent=D,m.append(I)}this.container.append(m)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=$;class W extends g{#e=null;constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let m=this.data,{width:D,height:I}=f(m.rect),R=this.svgFactory.create(D,I,!0),P=this.#e=this.svgFactory.createElement("svg:line");return P.setAttribute("x1",m.rect[2]-m.lineCoordinates[0]),P.setAttribute("y1",m.rect[3]-m.lineCoordinates[1]),P.setAttribute("x2",m.rect[2]-m.lineCoordinates[2]),P.setAttribute("y2",m.rect[3]-m.lineCoordinates[3]),P.setAttribute("stroke-width",m.borderStyle.width||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),R.append(P),this.container.append(R),!m.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ne extends g{#e=null;constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let m=this.data,{width:D,height:I}=f(m.rect),R=this.svgFactory.create(D,I,!0),P=m.borderStyle.width,B=this.#e=this.svgFactory.createElement("svg:rect");return B.setAttribute("x",P/2),B.setAttribute("y",P/2),B.setAttribute("width",D-P),B.setAttribute("height",I-P),B.setAttribute("stroke-width",P||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),R.append(B),this.container.append(R),!m.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class J extends g{#e=null;constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let m=this.data,{width:D,height:I}=f(m.rect),R=this.svgFactory.create(D,I,!0),P=m.borderStyle.width,B=this.#e=this.svgFactory.createElement("svg:ellipse");return B.setAttribute("cx",D/2),B.setAttribute("cy",I/2),B.setAttribute("rx",D/2-P/2),B.setAttribute("ry",I/2-P/2),B.setAttribute("stroke-width",P||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),R.append(B),this.container.append(R),!m.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Q extends g{#e=null;constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let m=this.data,{width:D,height:I}=f(m.rect),R=this.svgFactory.create(D,I,!0),P=[];for(let U of m.vertices){let G=U.x-m.rect[0],ie=m.rect[3]-U.y;P.push(G+","+ie)}P=P.join(" ");let B=this.#e=this.svgFactory.createElement(this.svgElementName);return B.setAttribute("points",P),B.setAttribute("stroke-width",m.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),R.append(B),this.container.append(R),!m.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class oe extends Q{constructor(m){super(m),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Z extends g{constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class O extends g{#e=[];constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let m=this.data,{width:D,height:I}=f(m.rect),R=this.svgFactory.create(D,I,!0);for(let P of m.inkLists){let B=[];for(let G of P){let ie=G.x-m.rect[0],q=m.rect[3]-G.y;B.push(`${ie},${q}`)}B=B.join(" ");let U=this.svgFactory.createElement(this.svgElementName);this.#e.push(U),U.setAttribute("points",B),U.setAttribute("stroke-width",m.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),!m.popupRef&&this.hasPopupData&&this._createPopup(),R.append(U)}return this.container.append(R),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}t.InkAnnotationElement=O;class C extends g{constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class b extends g{constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class _ extends g{constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class S extends g{constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class k extends g{constructor(m){super(m,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=k;class N extends g{#e=null;constructor(m){super(m,{isRenderable:!0});let{filename:D,content:I}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(D,!0),this.content=I,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:D,content:I})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:m,data:D}=this,I;D.hasAppearance||D.fillAlpha===0?I=document.createElement("div"):(I=document.createElement("img"),I.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(D.name)?"paperclip":"pushpin"}.svg`,D.fillAlpha&&D.fillAlpha<1&&(I.style=`filter: opacity(${Math.round(D.fillAlpha*100)}%);`)),I.addEventListener("dblclick",this.#t.bind(this)),this.#e=I;let{isMac:R}=r.FeatureTest.platform;return m.addEventListener("keydown",P=>{P.key==="Enter"&&(R?P.metaKey:P.ctrlKey)&&this.#t()}),!D.popupRef&&this.hasPopupData?this._createPopup():I.classList.add("popupTriggerArea"),m.append(I),m}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class L{#e=null;#t=null;#n=new Map;constructor({div:m,accessibilityManager:D,annotationCanvasMap:I,l10n:R,page:P,viewport:B}){this.div=m,this.#e=D,this.#t=I,this.l10n=R,this.page=P,this.viewport=B,this.zIndex=0,this.l10n||=l.NullL10n}#r(m,D){let I=m.firstChild||m;I.id=`${r.AnnotationPrefix}${D}`,this.div.append(m),this.#e?.moveElementInDOM(this.div,m,I,!1)}render(m){return Ae(this,null,function*(){let{annotations:D}=m,I=this.div;(0,i.setLayerDimensions)(I,this.viewport);let R=new Map,P={data:null,layer:I,linkService:m.linkService,downloadManager:m.downloadManager,imageResourcesPath:m.imageResourcesPath||"",renderForms:m.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:m.annotationStorage||new o.AnnotationStorage,enableScripting:m.enableScripting===!0,hasJSActions:m.hasJSActions,fieldObjects:m.fieldObjects,parent:this,elements:null};for(let B of D){if(B.noHTML)continue;let U=B.annotationType===r.AnnotationType.POPUP;if(U){let q=R.get(B.id);if(!q)continue;P.elements=q}else{let{width:q,height:Y}=f(B.rect);if(q<=0||Y<=0)continue}P.data=B;let G=p.create(P);if(!G.isRenderable)continue;if(!U&&B.popupRef){let q=R.get(B.popupRef);q?q.push(G):R.set(B.popupRef,[G])}G.annotationEditorType>0&&this.#n.set(G.data.id,G);let ie=G.render();B.hidden&&(ie.style.visibility="hidden"),this.#r(ie,B.id)}this.#a(),yield this.l10n.translate(I)})}update({viewport:m}){let D=this.div;this.viewport=m,(0,i.setLayerDimensions)(D,{rotation:m.rotation}),this.#a(),D.hidden=!1}#a(){if(!this.#t)return;let m=this.div;for(let[D,I]of this.#t){let R=m.querySelector(`[data-annotation-id="${D}"]`);if(!R)continue;let{firstChild:P}=R;P?P.nodeName==="CANVAS"?P.replaceWith(I):P.before(I):R.append(I)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(m){return this.#n.get(m)}}t.AnnotationLayer=L},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function n(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function r(o){return Math.max(0,Math.min(255,255*o))}class i{static CMYK_G([s,l,d,c]){return["G",1-Math.min(1,.3*s+.59*d+.11*l+c)]}static G_CMYK([s]){return["CMYK",0,0,0,1-s]}static G_RGB([s]){return["RGB",s,s,s]}static G_rgb([s]){return s=r(s),[s,s,s]}static G_HTML([s]){let l=n(s);return`#${l}${l}${l}`}static RGB_G([s,l,d]){return["G",.3*s+.59*l+.11*d]}static RGB_rgb(s){return s.map(r)}static RGB_HTML(s){return`#${s.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([s,l,d,c]){return["RGB",1-Math.min(1,s+c),1-Math.min(1,d+c),1-Math.min(1,l+c)]}static CMYK_rgb([s,l,d,c]){return[r(1-Math.min(1,s+c)),r(1-Math.min(1,d+c)),r(1-Math.min(1,l+c))]}static CMYK_HTML(s){let l=this.CMYK_RGB(s).slice(1);return this.RGB_HTML(l)}static RGB_CMYK([s,l,d]){let c=1-s,a=1-l,u=1-d,f=Math.min(c,a,u);return["CMYK",c,a,u,f]}}t.ColorConverters=i},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=r;let n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function r(l,d){switch(l){case"find_match_count":l=`find_match_count[${d.total===1?"one":"other"}]`;break;case"find_match_count_limit":l=`find_match_count_limit[${d.limit===1?"one":"other"}]`;break}return n[l]||""}function i(l,d){return d?l.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(c,a)=>a in d?d[a]:"{{"+a+"}}"):l}let o={getLanguage(){return Ae(this,null,function*(){return"en-us"})},getDirection(){return Ae(this,null,function*(){return"ltr"})},get(a){return Ae(this,arguments,function*(l,d=null,c=r(l,d)){return i(c,d)})},translate(l){return Ae(this,null,function*(){})}};t.NullL10n=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(25);class i{static setupStorage(s,l,d,c,a){let u=c.getValue(l,{value:null});switch(d.name){case"textarea":if(u.value!==null&&(s.textContent=u.value),a==="print")break;s.addEventListener("input",f=>{c.setValue(l,{value:f.target.value})});break;case"input":if(d.attributes.type==="radio"||d.attributes.type==="checkbox"){if(u.value===d.attributes.xfaOn?s.setAttribute("checked",!0):u.value===d.attributes.xfaOff&&s.removeAttribute("checked"),a==="print")break;s.addEventListener("change",f=>{c.setValue(l,{value:f.target.checked?f.target.getAttribute("xfaOn"):f.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&s.setAttribute("value",u.value),a==="print")break;s.addEventListener("input",f=>{c.setValue(l,{value:f.target.value})})}break;case"select":if(u.value!==null){s.setAttribute("value",u.value);for(let f of d.children)f.attributes.value===u.value?f.attributes.selected=!0:f.attributes.hasOwnProperty("selected")&&delete f.attributes.selected}s.addEventListener("input",f=>{let p=f.target.options,g=p.selectedIndex===-1?"":p[p.selectedIndex].value;c.setValue(l,{value:g})});break}}static setAttributes({html:s,element:l,storage:d=null,intent:c,linkService:a}){let{attributes:u}=l,f=s instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${c}`);for(let[p,g]of Object.entries(u))if(g!=null)switch(p){case"class":g.length&&s.setAttribute(p,g.join(" "));break;case"dataId":break;case"id":s.setAttribute("data-element-id",g);break;case"style":Object.assign(s.style,g);break;case"textContent":s.textContent=g;break;default:(!f||p!=="href"&&p!=="newWindow")&&s.setAttribute(p,g)}f&&a.addLinkAttributes(s,u.href,u.newWindow),d&&u.dataId&&this.setupStorage(s,u.dataId,l,d)}static render(s){let l=s.annotationStorage,d=s.linkService,c=s.xfaHtml,a=s.intent||"display",u=document.createElement(c.name);c.attributes&&this.setAttributes({html:u,element:c,intent:a,linkService:d});let f=[[c,-1,u]],p=s.div;if(p.append(u),s.viewport){let h=`matrix(${s.viewport.transform.join(",")})`;p.style.transform=h}a!=="richText"&&p.setAttribute("class","xfaLayer xfaFont");let g=[];for(;f.length>0;){let[h,v,y]=f.at(-1);if(v+1===h.children.length){f.pop();continue}let w=h.children[++f.at(-1)[1]];if(w===null)continue;let{name:M}=w;if(M==="#text"){let E=document.createTextNode(w.value);g.push(E),y.append(E);continue}let T=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,M):document.createElement(M);if(y.append(T),w.attributes&&this.setAttributes({html:T,element:w,storage:l,intent:a,linkService:d}),w.children&&w.children.length>0)f.push([w,-1,T]);else if(w.value){let E=document.createTextNode(w.value);r.XfaText.shouldBuildText(M)&&g.push(E),T.append(E)}}for(let h of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:g}}static update(s){let l=`matrix(${s.viewport.transform.join(",")})`;s.div.style.transform=l,s.div.hidden=!1}}t.XfaLayer=i},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var r=n(1),i=n(4),o=n(29),s=n(6),l=n(5);let d=(()=>{class c extends i.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#o=new Path2D;#l=!1;#c=!1;#i=!1;#h=null;#d=0;#f=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(u){super(je(ce({},u),{name:"inkEditor"})),this.color=u.color||null,this.thickness=u.thickness||null,this.opacity=u.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(u){i.AnnotationEditor.initialize(u,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(u,f){switch(u){case r.AnnotationEditorParamsType.INK_THICKNESS:c._defaultThickness=f;break;case r.AnnotationEditorParamsType.INK_COLOR:c._defaultColor=f;break;case r.AnnotationEditorParamsType.INK_OPACITY:c._defaultOpacity=f/100;break}}updateParams(u,f){switch(u){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#v(f);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#m(f);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#g(f);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,c._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,c._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(c._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||c._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||c._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??c._defaultOpacity))]]}#v(u){let f=this.thickness;this.addCommands({cmd:()=>{this.thickness=u,this.#S()},undo:()=>{this.thickness=f,this.#S()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(u){let f=this.color;this.addCommands({cmd:()=>{this.color=u,this.#b()},undo:()=>{this.color=f,this.#b()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(u){u/=100;let f=this.opacity;this.addCommands({cmd:()=>{this.opacity=u,this.#b()},undo:()=>{this.opacity=f,this.#b()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#M(),this.#x()),this.isAttachedToDOM||(this.parent.add(this),this.#_()),this.#S()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#h.disconnect(),this.#h=null,super.remove())}setParent(u){!this.parent&&u?this._uiManager.removeShouldRescale(this):this.parent&&u===null&&this._uiManager.addShouldRescale(this),super.setParent(u)}onScaleChanging(){let[u,f]=this.parentDimensions,p=this.width*u,g=this.height*f;this.setDimensions(p,g)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){let{parentRotation:u,parentDimensions:[f,p]}=this;switch(u){case 90:return[0,p,p,f];case 180:return[f,p,f,p];case 270:return[f,0,p,f];default:return[0,0,f,p]}}#y(){let{ctx:u,color:f,opacity:p,thickness:g,parentScale:h,scaleFactor:v}=this;u.lineWidth=g*h/v,u.lineCap="round",u.lineJoin="round",u.miterLimit=10,u.strokeStyle=`${f}${(0,l.opacityToHex)(p)}`}#D(u,f){this.canvas.addEventListener("contextmenu",s.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#i||(this.#i=!0,this.#_(),this.thickness||=c._defaultThickness,this.color||=c._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=c._defaultOpacity),this.currentPath.push([u,f]),this.#c=!1,this.#y(),this.#p=()=>{this.#N(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#w(u,f){let[p,g]=this.currentPath.at(-1);if(this.currentPath.length>1&&u===p&&f===g)return;let h=this.currentPath,v=this.#o;if(h.push([u,f]),this.#c=!0,h.length<=2){v.moveTo(...h[0]),v.lineTo(u,f);return}h.length===3&&(this.#o=v=new Path2D,v.moveTo(...h[0])),this.#O(v,...h.at(-3),...h.at(-2),u,f)}#A(){if(this.currentPath.length===0)return;let u=this.currentPath.at(-1);this.#o.lineTo(...u)}#T(u,f){this.#p=null,u=Math.min(Math.max(u,0),this.canvas.width),f=Math.min(Math.max(f,0),this.canvas.height),this.#w(u,f),this.#A();let p;if(this.currentPath.length!==1)p=this.#F();else{let w=[u,f];p=[[w,w.slice(),w.slice(),w]]}let g=this.#o,h=this.currentPath;this.currentPath=[],this.#o=new Path2D;let v=()=>{this.allRawPaths.push(h),this.paths.push(p),this.bezierPath2D.push(g),this.rebuild()},y=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#M(),this.#x()),this.#S())};this.addCommands({cmd:v,undo:y,mustExec:!0})}#N(){if(!this.#c)return;this.#c=!1;let u=Math.ceil(this.thickness*this.parentScale),f=this.currentPath.slice(-3),p=f.map(T=>T[0]),g=f.map(T=>T[1]),h=Math.min(...p)-u,v=Math.max(...p)+u,y=Math.min(...g)-u,w=Math.max(...g)+u,{ctx:M}=this;M.save(),M.clearRect(0,0,this.canvas.width,this.canvas.height);for(let T of this.bezierPath2D)M.stroke(T);M.stroke(this.#o),M.restore()}#O(u,f,p,g,h,v,y){let w=(f+g)/2,M=(p+h)/2,T=(g+v)/2,E=(h+y)/2;u.bezierCurveTo(w+2*(g-w)/3,M+2*(h-M)/3,T+2*(g-T)/3,E+2*(h-E)/3,T,E)}#F(){let u=this.currentPath;if(u.length<=2)return[[u[0],u[0],u.at(-1),u.at(-1)]];let f=[],p,[g,h]=u[0];for(p=1;p<u.length-2;p++){let[A,j]=u[p],[V,F]=u[p+1],$=(A+V)/2,W=(j+F)/2,ne=[g+2*(A-g)/3,h+2*(j-h)/3],J=[$+2*(A-$)/3,W+2*(j-W)/3];f.push([[g,h],ne,J,[$,W]]),[g,h]=[$,W]}let[v,y]=u[p],[w,M]=u[p+1],T=[g+2*(v-g)/3,h+2*(y-h)/3],E=[w+2*(v-w)/3,M+2*(y-M)/3];return f.push([[g,h],T,E,[w,M]]),f}#b(){if(this.isEmpty()){this.#C();return}this.#y();let{canvas:u,ctx:f}=this;f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,u.width,u.height),this.#C();for(let p of this.bezierPath2D)f.stroke(p)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#S(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),this.enableEditMode())}canvasPointerdown(u){u.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),u.preventDefault(),u.type!=="mouse"&&this.div.focus(),this.#D(u.offsetX,u.offsetY))}canvasPointermove(u){u.preventDefault(),this.#w(u.offsetX,u.offsetY)}canvasPointerup(u){u.preventDefault(),this.#k(u)}canvasPointerleave(u){this.#k(u)}#k(u){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",s.noContextMenu)},10),this.#T(u.offsetX,u.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#M(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(u=>this.canvas?.setAttribute("aria-label",u)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#x(){this.#h=new ResizeObserver(u=>{let f=u[0].contentRect;f.width&&f.height&&this.setDimensions(f.width,f.height)}),this.#h.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let u,f;this.width&&(u=this.x,f=this.y),super.render(),i.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(y=>this.div?.setAttribute("aria-label",y));let[p,g,h,v]=this.#u();if(this.setAt(p,g,0,0),this.setDims(h,v),this.#M(),this.width){let[y,w]=this.parentDimensions;this.setAspectRatio(this.width*y,this.height*w),this.setAt(u*y,f*w,this.width*y,this.height*w),this.#i=!0,this.#_(),this.setDims(this.width*y,this.height*w),this.#b(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#x(),this.div}#_(){if(!this.#i)return;let[u,f]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*u),this.canvas.height=Math.ceil(this.height*f),this.#C()}setDimensions(u,f){let p=Math.round(u),g=Math.round(f);if(this.#d===p&&this.#f===g)return;this.#d=p,this.#f=g,this.canvas.style.visibility="hidden";let[h,v]=this.parentDimensions;this.width=u/h,this.height=f/v,this.fixAndSetPosition(),this.#l&&this.#I(u,f),this.#_(),this.#b(),this.canvas.style.visibility="visible",this.fixDims()}#I(u,f){let p=this.#P(),g=(u-p)/this.#t,h=(f-p)/this.#e;this.scaleFactor=Math.min(g,h)}#C(){let u=this.#P()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+u,this.translationY*this.scaleFactor+u)}static#L(u){let f=new Path2D;for(let p=0,g=u.length;p<g;p++){let[h,v,y,w]=u[p];p===0&&f.moveTo(...h),f.bezierCurveTo(v[0],v[1],y[0],y[1],w[0],w[1])}return f}static#j(u,f,p){let[g,h,v,y]=f;switch(p){case 0:for(let w=0,M=u.length;w<M;w+=2)u[w]+=g,u[w+1]=y-u[w+1];break;case 90:for(let w=0,M=u.length;w<M;w+=2){let T=u[w];u[w]=u[w+1]+g,u[w+1]=T+h}break;case 180:for(let w=0,M=u.length;w<M;w+=2)u[w]=v-u[w],u[w+1]+=h;break;case 270:for(let w=0,M=u.length;w<M;w+=2){let T=u[w];u[w]=v-u[w+1],u[w+1]=y-T}break;default:throw new Error("Invalid rotation")}return u}static#B(u,f,p){let[g,h,v,y]=f;switch(p){case 0:for(let w=0,M=u.length;w<M;w+=2)u[w]-=g,u[w+1]=y-u[w+1];break;case 90:for(let w=0,M=u.length;w<M;w+=2){let T=u[w];u[w]=u[w+1]-h,u[w+1]=T-g}break;case 180:for(let w=0,M=u.length;w<M;w+=2)u[w]=v-u[w],u[w+1]-=h;break;case 270:for(let w=0,M=u.length;w<M;w+=2){let T=u[w];u[w]=y-u[w+1],u[w+1]=v-T}break;default:throw new Error("Invalid rotation")}return u}#V(u,f,p,g){let h=[],v=this.thickness/2,y=u*f+v,w=u*p+v;for(let M of this.paths){let T=[],E=[];for(let A=0,j=M.length;A<j;A++){let[V,F,$,W]=M[A],ne=u*V[0]+y,J=u*V[1]+w,Q=u*F[0]+y,oe=u*F[1]+w,Z=u*$[0]+y,O=u*$[1]+w,C=u*W[0]+y,b=u*W[1]+w;A===0&&(T.push(ne,J),E.push(ne,J)),T.push(Q,oe,Z,O,C,b),E.push(Q,oe),A===j-1&&E.push(C,b)}h.push({bezier:c.#j(T,g,this.rotation),points:c.#j(E,g,this.rotation)})}return h}#R(){let u=1/0,f=-1/0,p=1/0,g=-1/0;for(let h of this.paths)for(let[v,y,w,M]of h){let T=r.Util.bezierBoundingBox(...v,...y,...w,...M);u=Math.min(u,T[0]),p=Math.min(p,T[1]),f=Math.max(f,T[2]),g=Math.max(g,T[3])}return[u,p,f,g]}#P(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#S(u=!1){if(this.isEmpty())return;if(!this.#l){this.#b();return}let f=this.#R(),p=this.#P();this.#t=Math.max(i.AnnotationEditor.MIN_SIZE,f[2]-f[0]),this.#e=Math.max(i.AnnotationEditor.MIN_SIZE,f[3]-f[1]);let g=Math.ceil(p+this.#t*this.scaleFactor),h=Math.ceil(p+this.#e*this.scaleFactor),[v,y]=this.parentDimensions;this.width=g/v,this.height=h/y,this.setAspectRatio(g,h);let w=this.translationX,M=this.translationY;this.translationX=-f[0],this.translationY=-f[1],this.#_(),this.#b(),this.#d=g,this.#f=h,this.setDims(g,h);let T=u?p/this.scaleFactor/2:0;this.translate(w-this.translationX-T,M-this.translationY-T)}static deserialize(u,f,p){if(u instanceof o.InkAnnotationElement)return null;let g=super.deserialize(u,f,p);g.thickness=u.thickness,g.color=r.Util.makeHexColor(...u.color),g.opacity=u.opacity;let[h,v]=g.pageDimensions,y=g.width*h,w=g.height*v,M=g.parentScale,T=u.thickness/2;g.#l=!0,g.#d=Math.round(y),g.#f=Math.round(w);let{paths:E,rect:A,rotation:j}=u;for(let{bezier:F}of E){F=c.#B(F,A,j);let $=[];g.paths.push($);let W=M*(F[0]-T),ne=M*(F[1]-T);for(let Q=2,oe=F.length;Q<oe;Q+=6){let Z=M*(F[Q]-T),O=M*(F[Q+1]-T),C=M*(F[Q+2]-T),b=M*(F[Q+3]-T),_=M*(F[Q+4]-T),S=M*(F[Q+5]-T);$.push([[W,ne],[Z,O],[C,b],[_,S]]),W=_,ne=S}let J=this.#L($);g.bezierPath2D.push(J)}let V=g.#R();return g.#t=Math.max(i.AnnotationEditor.MIN_SIZE,V[2]-V[0]),g.#e=Math.max(i.AnnotationEditor.MIN_SIZE,V[3]-V[1]),g.#I(y,w),g}serialize(){if(this.isEmpty())return null;let u=this.getRect(0,0),f=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:f,thickness:this.thickness,opacity:this.opacity,paths:this.#V(this.scaleFactor/this.parentScale,this.translationX,this.translationY,u),pageIndex:this.pageIndex,rect:u,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}return c})();t.InkEditor=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var r=n(1),i=n(4),o=n(6),s=n(29);let l=(()=>{class d extends i.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#a=null;#s=null;#o=null;#l=null;#c=!1;#i=!1;static _type="stamp";constructor(a){super(je(ce({},a),{name:"stampEditor"})),this.#r=a.bitmapUrl,this.#a=a.bitmapFile}static initialize(a){i.AnnotationEditor.initialize(a)}static get supportedTypes(){let a=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",a.map(u=>`image/${u}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(a){return this.supportedTypes.includes(a)}static paste(a,u){u.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:a.getAsFile()})}#h(a,u=!1){if(!a){this.remove();return}this.#e=a.bitmap,u||(this.#t=a.id,this.#c=a.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(u=>this.#h(u,!0)).finally(()=>this.#d());return}if(this.#r){let u=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(u).then(f=>this.#h(f)).finally(()=>this.#d());return}if(this.#a){let u=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(u).then(f=>this.#h(f)).finally(()=>this.#d());return}let a=document.createElement("input");a.type="file",a.accept=d.supportedTypesStr,this.#n=new Promise(u=>{a.addEventListener("change",()=>Ae(this,null,function*(){if(!a.files||a.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let f=yield this._uiManager.imageManager.getFromFile(a.files[0]);this.#h(f)}u()})),a.addEventListener("cancel",()=>{this.remove(),u()})}).finally(()=>this.#d()),a.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#o?.disconnect(),this.#o=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let a,u;if(this.width&&(a=this.x,u=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#f(),this.width){let[f,p]=this.parentDimensions;this.setAt(a*f,u*p,this.width*f,this.height*p)}return this.div}#p(){let{div:a}=this,{width:u,height:f}=this.#e,[p,g]=this.pageDimensions,h=.75;if(this.width)u=this.width*p,f=this.height*g;else if(u>h*p||f>h*g){let M=Math.min(h*p/u,h*g/f);u*=M,f*=M}let[v,y]=this.parentDimensions;this.setDims(u*v/p,f*y/g),this._uiManager.enableWaiting(!1);let w=this.#s=document.createElement("canvas");a.append(w),a.hidden=!1,this.#g(u,f),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(a,u){let[f,p]=this.parentDimensions;this.width=a/f,this.height=u/p,this.setDims(a,u),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);let g=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(a,u)},g)}#m(a,u){let{width:f,height:p}=this.#e,g=f,h=p,v=this.#e;for(;g>2*a||h>2*u;){let y=g,w=h;g>2*a&&(g=g>=16384?Math.floor(g/2)-1:Math.ceil(g/2)),h>2*u&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));let M=new OffscreenCanvas(g,h);M.getContext("2d").drawImage(v,0,0,y,w,0,0,g,h),v=M.transferToImageBitmap()}return v}#g(a,u){a=Math.ceil(a),u=Math.ceil(u);let f=this.#s;if(!f||f.width===a&&f.height===u)return;f.width=a,f.height=u;let p=this.#c?this.#e:this.#m(a,u),g=f.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,a,u)}#u(a){if(a){if(this.#c){let p=this._uiManager.imageManager.getSvgUrl(this.#t);if(p)return p}let u=document.createElement("canvas");return{width:u.width,height:u.height}=this.#e,u.getContext("2d").drawImage(this.#e,0,0),u.toDataURL()}if(this.#c){let[u,f]=this.pageDimensions,p=Math.round(this.width*u*o.PixelsPerInch.PDF_TO_CSS_UNITS),g=Math.round(this.height*f*o.PixelsPerInch.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(p,g);return h.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,p,g),h.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#o=new ResizeObserver(a=>{let u=a[0].contentRect;u.width&&u.height&&this.#v(u.width,u.height)}),this.#o.observe(this.div)}static deserialize(a,u,f){if(a instanceof s.StampAnnotationElement)return null;let p=super.deserialize(a,u,f),{rect:g,bitmapUrl:h,bitmapId:v,isSvg:y,accessibilityData:w}=a;v&&f.imageManager.isValidId(v)?p.#t=v:p.#r=h,p.#c=y;let[M,T]=p.pageDimensions;return p.width=(g[2]-g[0])/M,p.height=(g[3]-g[1])/T,w&&(p.altTextData=w),p}serialize(a=!1,u=null){if(this.isEmpty())return null;let f={annotationType:r.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(a)return f.bitmapUrl=this.#u(!0),f.accessibilityData=this.altTextData,f;let{decorative:p,altText:g}=this.altTextData;if(!p&&g&&(f.accessibilityData={type:"Figure",alt:g}),u===null)return f;u.stamps||=new Map;let h=this.#c?(f.rect[2]-f.rect[0])*(f.rect[3]-f.rect[1]):null;if(!u.stamps.has(this.#t))u.stamps.set(this.#t,{area:h,serialized:f}),f.bitmap=this.#u(!1);else if(this.#c){let v=u.stamps.get(this.#t);h>v.area&&(v.area=h,v.serialized.bitmap.close(),v.serialized.bitmap=this.#u(!1))}return f}}return d})();t.StampEditor=l}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return l.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return d.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),o=__w_pdfjs_require__(27),s=__w_pdfjs_require__(5),l=__w_pdfjs_require__(29),d=__w_pdfjs_require__(14),c=__w_pdfjs_require__(32);let a="3.11.174",u="ce8716743"})(),__webpack_exports__})())});function od(e,t){return Object.is(e,t)}var Xe=null,So=!1,Ua=1,mr=Symbol("SIGNAL");function Pe(e){let t=Xe;return Xe=e,t}function Ha(){return Xe}var Ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $a(e){if(So)throw new Error("");if(Xe===null)return;Xe.consumerOnSignalRead(e);let t=Xe.nextProducerIndex++;if(To(Xe),t<Xe.producerNode.length&&Xe.producerNode[t]!==e&&vi(Xe)){let n=Xe.producerNode[t];Io(n,Xe.producerIndexOfThis[t])}Xe.producerNode[t]!==e&&(Xe.producerNode[t]=e,Xe.producerIndexOfThis[t]=vi(Xe)?ud(e,Xe,t):0),Xe.producerLastReadVersion[t]=e.version}function sd(){Ua++}function ad(e){if(!(vi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ua)){if(!e.producerMustRecompute(e)&&!Ga(e)){Va(e);return}e.producerRecomputeValue(e),Va(e)}}function za(e){if(e.liveConsumerNode===void 0)return;let t=So;So=!0;try{for(let n of e.liveConsumerNode)n.dirty||Hm(n)}finally{So=t}}function ld(){return Xe?.consumerAllowSignalWrites!==!1}function Hm(e){e.dirty=!0,za(e),e.consumerMarkedDirty?.(e)}function Va(e){e.dirty=!1,e.lastCleanEpoch=Ua}function Wa(e){return e&&(e.nextProducerIndex=0),Pe(e)}function cd(e,t){if(Pe(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(vi(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Io(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ga(e){To(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ad(n),r!==n.version))return!0}return!1}function qa(e){if(To(e),vi(e))for(let t=0;t<e.producerNode.length;t++)Io(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ud(e,t,n){if(dd(e),e.liveConsumerNode.length===0&&fd(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=ud(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Io(e,t){if(dd(e),e.liveConsumerNode.length===1&&fd(e))for(let r=0;r<e.producerNode.length;r++)Io(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];To(i),i.producerIndexOfThis[r]=t}}function vi(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function To(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function dd(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function fd(e){return e.producerNode!==void 0}function $m(){throw new Error}var hd=$m;function zm(e){hd(e)}function Ya(e){hd=e}var Wm=null;function Xa(e,t){ld()||zm(e),e.equal(e.value,t)||(e.value=t,Gm(e))}var Ka=je(ce({},Ao),{equal:od,value:void 0,kind:"signal"});function Gm(e){e.version++,sd(),za(e),Wm?.()}var Za;function yi(){return Za}function hn(e){let t=Za;return Za=e,t}var Mo=Symbol("NotFound");function we(e){return typeof e=="function"}function vr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xo=vr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function bi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var We=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(we(r))try{r()}catch(o){t=o instanceof xo?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pd(o)}catch(s){t=t??[],s instanceof xo?t=[...t,...s.errors]:t.push(s)}}if(t)throw new xo(t)}}add(t){var n;if(t&&t!==this)if(this.closed)pd(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&bi(n,t)}remove(t){let{_finalizers:n}=this;n&&bi(n,t),t instanceof e&&t._removeParent(this)}};We.EMPTY=(()=>{let e=new We;return e.closed=!0,e})();var Qa=We.EMPTY;function Ro(e){return e instanceof We||e&&"closed"in e&&we(e.remove)&&we(e.add)&&we(e.unsubscribe)}function pd(e){we(e)?e():e.unsubscribe()}var Bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yr={setTimeout(e,t,...n){let{delegate:r}=yr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=yr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Po(e){yr.setTimeout(()=>{let{onUnhandledError:t}=Bt;if(t)t(e);else throw e})}function _i(){}var gd=Ja("C",void 0,void 0);function md(e){return Ja("E",void 0,e)}function vd(e){return Ja("N",e,void 0)}function Ja(e,t,n){return{kind:e,value:t,error:n}}var $n=null;function br(e){if(Bt.useDeprecatedSynchronousErrorHandling){let t=!$n;if(t&&($n={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=$n;if($n=null,n)throw r}}else e()}function yd(e){Bt.useDeprecatedSynchronousErrorHandling&&$n&&($n.errorThrown=!0,$n.error=e)}var zn=class extends We{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ro(t)&&t.add(this)):this.destination=nv}static create(t,n,r){return new _r(t,n,r)}next(t){this.isStopped?tl(vd(t),this):this._next(t)}error(t){this.isStopped?tl(md(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?tl(gd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ev=Function.prototype.bind;function el(e,t){return ev.call(e,t)}var nl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ko(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ko(r)}else ko(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ko(n)}}},_r=class extends zn{constructor(t,n,r){super();let i;if(we(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Bt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&el(t.next,o),error:t.error&&el(t.error,o),complete:t.complete&&el(t.complete,o)}):i=t}this.destination=new nl(i)}};function ko(e){Bt.useDeprecatedSynchronousErrorHandling?yd(e):Po(e)}function tv(e){throw e}function tl(e,t){let{onStoppedNotification:n}=Bt;n&&yr.setTimeout(()=>n(e,t))}var nv={closed:!0,next:_i,error:tv,complete:_i};var Er=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(e){return e}function rl(...e){return il(e)}function il(e){return e.length===0?Dt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Be=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=iv(n)?n:new _r(n,r,i);return br(()=>{let{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=bd(r),new r((i,o)=>{let s=new _r({next:l=>{try{n(l)}catch(d){o(d),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Er](){return this}pipe(...n){return il(n)(this)}toPromise(n){return n=bd(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function bd(e){var t;return(t=e??Bt.Promise)!==null&&t!==void 0?t:Promise}function rv(e){return e&&we(e.next)&&we(e.error)&&we(e.complete)}function iv(e){return e&&e instanceof zn||rv(e)&&Ro(e)}function ol(e){return we(e?.lift)}function xe(e){return t=>{if(ol(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(e,t,n,r,i){return new sl(e,t,n,r,i)}var sl=class extends zn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(d){t.error(d)}}:super._next,this._error=i?function(l){try{i(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function wr(){return xe((e,t)=>{let n=null;e._refCount++;let r=Re(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Dr=class extends Be{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ol(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new We;let n=this.getSubject();t.add(this.source.subscribe(Re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=We.EMPTY)}return t}refCount(){return wr()(this)}};var _d=vr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class e extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new No(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _d}next(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Qa:(this.currentObservers=null,o.push(n),new We(()=>{this.currentObservers=null,bi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Be;return n.source=this,n}}return e.create=(t,n)=>new No(t,n),e})(),No=class extends Ke{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Qa}};var rt=class extends Ke{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var gt=new Be(e=>e.complete());function Ed(e){return e&&we(e.schedule)}function wd(e){return e[e.length-1]}function Dd(e){return we(wd(e))?e.pop():void 0}function In(e){return Ed(wd(e))?e.pop():void 0}function Sd(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(a){try{c(r.next(a))}catch(u){s(u)}}function d(a){try{c(r.throw(a))}catch(u){s(u)}}function c(a){a.done?o(a.value):i(a.value).then(l,d)}c((r=r.apply(e,t||[])).next())})}function Cd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wn(e){return this instanceof Wn?(this.v=e,this):new Wn(e)}function Ad(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(g){return Promise.resolve(g).then(p,u)}}function l(p,g){r[p]&&(i[p]=function(h){return new Promise(function(v,y){o.push([p,h,v,y])>1||d(p,h)})},g&&(i[p]=g(i[p])))}function d(p,g){try{c(r[p](g))}catch(h){f(o[0][3],h)}}function c(p){p.value instanceof Wn?Promise.resolve(p.value.v).then(a,u):f(o[0][2],p)}function a(p){d("next",p)}function u(p){d("throw",p)}function f(p,g){p(g),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Id(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Cd=="function"?Cd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(l,d){s=e[o](s),i(l,d,s.done,s.value)})}}function i(o,s,l,d){Promise.resolve(d).then(function(c){o({value:c,done:l})},s)}}var Oo=e=>e&&typeof e.length=="number"&&typeof e!="function";function Fo(e){return we(e?.then)}function Lo(e){return we(e[Er])}function jo(e){return Symbol.asyncIterator&&we(e?.[Symbol.asyncIterator])}function Bo(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ov(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vo=ov();function Uo(e){return we(e?.[Vo])}function Ho(e){return Ad(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Wn(n.read());if(i)return yield Wn(void 0);yield yield Wn(r)}}finally{n.releaseLock()}})}function $o(e){return we(e?.getReader)}function Je(e){if(e instanceof Be)return e;if(e!=null){if(Lo(e))return sv(e);if(Oo(e))return av(e);if(Fo(e))return lv(e);if(jo(e))return Td(e);if(Uo(e))return cv(e);if($o(e))return uv(e)}throw Bo(e)}function sv(e){return new Be(t=>{let n=e[Er]();if(we(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function av(e){return new Be(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function lv(e){return new Be(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Po)})}function cv(e){return new Be(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Td(e){return new Be(t=>{dv(e,t).catch(n=>t.error(n))})}function uv(e){return Td(Ho(e))}function dv(e,t){var n,r,i,o;return Sd(this,void 0,void 0,function*(){try{for(n=Id(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function mt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function zo(e,t=0){return xe((n,r)=>{n.subscribe(Re(r,i=>mt(r,e,()=>r.next(i),t),()=>mt(r,e,()=>r.complete(),t),i=>mt(r,e,()=>r.error(i),t)))})}function Wo(e,t=0){return xe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Md(e,t){return Je(e).pipe(Wo(t),zo(t))}function xd(e,t){return Je(e).pipe(Wo(t),zo(t))}function Rd(e,t){return new Be(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Pd(e,t){return new Be(n=>{let r;return mt(n,t,()=>{r=e[Vo](),mt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>we(r?.return)&&r.return()})}function Go(e,t){if(!e)throw new Error("Iterable cannot be null");return new Be(n=>{mt(n,t,()=>{let r=e[Symbol.asyncIterator]();mt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kd(e,t){return Go(Ho(e),t)}function Nd(e,t){if(e!=null){if(Lo(e))return Md(e,t);if(Oo(e))return Rd(e,t);if(Fo(e))return xd(e,t);if(jo(e))return Go(e,t);if(Uo(e))return Pd(e,t);if($o(e))return kd(e,t)}throw Bo(e)}function $e(e,t){return t?Nd(e,t):Je(e)}function ve(...e){let t=In(e);return $e(e,t)}function Cr(e,t){let n=we(e)?e:()=>e,r=i=>i.error(n());return new Be(t?i=>t.schedule(r,0,i):r)}function al(e){return!!e&&(e instanceof Be||we(e.lift)&&we(e.subscribe))}var pn=vr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ke(e,t){return xe((n,r)=>{let i=0;n.subscribe(Re(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:fv}=Array;function hv(e,t){return fv(t)?e(...t):e(t)}function Od(e){return ke(t=>hv(e,t))}var{isArray:pv}=Array,{getPrototypeOf:gv,prototype:mv,keys:vv}=Object;function Fd(e){if(e.length===1){let t=e[0];if(pv(t))return{args:t,keys:null};if(yv(t)){let n=vv(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function yv(e){return e&&typeof e=="object"&&gv(e)===mv}function Ld(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ei(...e){let t=In(e),n=Dd(e),{args:r,keys:i}=Fd(e);if(r.length===0)return $e([],t);let o=new Be(bv(r,t,i?s=>Ld(i,s):Dt));return n?o.pipe(Od(n)):o}function bv(e,t,n=Dt){return r=>{jd(t,()=>{let{length:i}=e,o=new Array(i),s=i,l=i;for(let d=0;d<i;d++)jd(t,()=>{let c=$e(e[d],t),a=!1;c.subscribe(Re(r,u=>{o[d]=u,a||(a=!0,l--),l||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function jd(e,t,n){e?mt(n,e,t):t()}function Bd(e,t,n,r,i,o,s,l){let d=[],c=0,a=0,u=!1,f=()=>{u&&!d.length&&!c&&t.complete()},p=h=>c<r?g(h):d.push(h),g=h=>{o&&t.next(h),c++;let v=!1;Je(n(h,a++)).subscribe(Re(t,y=>{i?.(y),o?p(y):t.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;d.length&&c<r;){let y=d.shift();s?mt(t,s,()=>g(y)):g(y)}f()}catch(y){t.error(y)}}))};return e.subscribe(Re(t,p,()=>{u=!0,f()})),()=>{l?.()}}function ze(e,t,n=1/0){return we(t)?ze((r,i)=>ke((o,s)=>t(r,o,i,s))(Je(e(r,i))),n):(typeof t=="number"&&(n=t),xe((r,i)=>Bd(r,i,e,n)))}function Tn(e=1/0){return ze(Dt,e)}function Vd(){return Tn(1)}function Sr(...e){return Vd()($e(e,In(e)))}function qo(e){return new Be(t=>{Je(e()).subscribe(t)})}function Ct(e,t){return xe((n,r)=>{let i=0;n.subscribe(Re(r,o=>e.call(t,o,i++)&&r.next(o)))})}function gn(e){return xe((t,n)=>{let r=null,i=!1,o;r=t.subscribe(Re(n,void 0,void 0,s=>{o=Je(e(s,gn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ud(e,t,n,r,i){return(o,s)=>{let l=n,d=t,c=0;o.subscribe(Re(s,a=>{let u=c++;d=l?e(d,a,u):(l=!0,a),r&&s.next(d)},i&&(()=>{l&&s.next(d),s.complete()})))}}function Mn(e,t){return we(t)?ze(e,t,1):ze(e,1)}function xn(e){return xe((t,n)=>{let r=!1;t.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function mn(e){return e<=0?()=>gt:xe((t,n)=>{let r=0;t.subscribe(Re(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Yo(e=_v){return xe((t,n)=>{let r=!1;t.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function _v(){return new pn}function wi(e){return xe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function vn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ct((i,o)=>e(i,o,r)):Dt,mn(1),n?xn(t):Yo(()=>new pn))}function Ar(e){return e<=0?()=>gt:xe((t,n)=>{let r=[];t.subscribe(Re(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ll(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ct((i,o)=>e(i,o,r)):Dt,Ar(1),n?xn(t):Yo(()=>new pn))}function cl(e,t){return xe(Ud(e,t,arguments.length>=2,!0))}function ul(...e){let t=In(e);return xe((n,r)=>{(t?Sr(e,n,t):Sr(e,n)).subscribe(r)})}function Pt(e,t){return xe((n,r)=>{let i=null,o=0,s=!1,l=()=>s&&!i&&r.complete();n.subscribe(Re(r,d=>{i?.unsubscribe();let c=0,a=o++;Je(e(d,a)).subscribe(i=Re(r,u=>r.next(t?t(d,u,a,c++):u),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function dl(e){return xe((t,n)=>{Je(e).subscribe(Re(n,()=>n.complete(),_i)),!n.closed&&t.subscribe(n)})}function it(e,t,n){let r=we(e)||t||n?{next:e,error:t,complete:n}:e;return r?xe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let l=!0;i.subscribe(Re(o,d=>{var c;(c=r.next)===null||c===void 0||c.call(r,d),o.next(d)},()=>{var d;l=!1,(d=r.complete)===null||d===void 0||d.call(r),o.complete()},d=>{var c;l=!1,(c=r.error)===null||c===void 0||c.call(r,d),o.error(d)},()=>{var d,c;l&&((d=r.unsubscribe)===null||d===void 0||d.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Dt}var xf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",fe=class extends Error{code;constructor(t,n){super(Rf(t,n)),this.code=t}};function Ev(e){return`NG0${Math.abs(e)}`}function Rf(e,t){return`${Ev(e)}${t?": "+t:""}`}var Pf=Symbol("InputSignalNode#UNSET"),wv=je(ce({},Ka),{transformFn:void 0,applyValueToInputSignal(e,t){Xa(e,t)}});function kf(e,t){let n=Object.create(wv);n.value=e,n.transformFn=t?.transform;function r(){if($a(n),n.value===Pf){let i=null;throw new fe(-950,i)}return n.value}return r[mr]=n,r}function ki(e){return{toString:e}.toString()}var Xo="__parameters__";function Dv(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function Nf(e,t,n){return ki(()=>{let r=Dv(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return l.annotation=s,l;function l(d,c,a){let u=d.hasOwnProperty(Xo)?d[Xo]:Object.defineProperty(d,Xo,{value:[]})[Xo];for(;u.length<=a;)u.push(null);return(u[a]=u[a]||[]).push(s),d}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var bl=globalThis;function He(e){for(let t in e)if(e[t]===He)return t;throw Error("Could not find renamed property on target object.")}function St(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(St).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Hd(e,t){return e?t?`${e} ${t}`:e:t||""}var Cv=He({__forward_ref__:He});function Of(e){return e.__forward_ref__=Of,e.toString=function(){return St(this())},e}function Nt(e){return Ff(e)?e():e}function Ff(e){return typeof e=="function"&&e.hasOwnProperty(Cv)&&e.__forward_ref__===Of}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ur(e){return{providers:e.providers||[],imports:e.imports||[]}}function Is(e){return $d(e,jf)||$d(e,Bf)}function Lf(e){return Is(e)!==null}function $d(e,t){return e.hasOwnProperty(t)?e[t]:null}function Sv(e){let t=e&&(e[jf]||e[Bf]);return t||null}function zd(e){return e&&(e.hasOwnProperty(Wd)||e.hasOwnProperty(Av))?e[Wd]:null}var jf=He({\u0275prov:He}),Wd=He({\u0275inj:He}),Bf=He({ngInjectableDef:He}),Av=He({ngInjectorDef:He}),me=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vf(e){return e&&!!e.\u0275providers}var Iv=He({\u0275cmp:He}),Tv=He({\u0275dir:He}),Mv=He({\u0275pipe:He}),xv=He({\u0275mod:He}),rs=He({\u0275fac:He}),Ai=He({__NG_ELEMENT_ID__:He}),Gd=He({__NG_ENV_ID__:He});function Yt(e){return typeof e=="string"?e:e==null?"":String(e)}function Rv(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Yt(e)}function Uf(e,t){throw new fe(-200,e)}function uc(e,t){throw new fe(-201,!1)}var Se=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Se||{}),_l;function Hf(){return _l}function kt(e){let t=_l;return _l=e,t}function $f(e,t,n){let r=Is(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Se.Optional)return null;if(t!==void 0)return t;uc(e,"Injector")}var Pv={},Gn=Pv,El="__NG_DI_FLAG__",is=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Mo:Gn,r)}},os="ngTempTokenPath",kv="ngTokenPath",Nv=/\n/gm,Ov="\u0275",qd="__source";function Fv(e,t=Se.Default){if(yi()===void 0)throw new fe(-203,!1);if(yi()===null)return $f(e,void 0,t);{let n=yi(),r;return n instanceof is?r=n.injector:r=n,r.get(e,t&Se.Optional?null:void 0,t)}}function ye(e,t=Se.Default){return(Hf()||Fv)(Nt(e),t)}function re(e,t=Se.Default){return ye(e,Ts(t))}function Ts(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wl(e){let t=[];for(let n=0;n<e.length;n++){let r=Nt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new fe(900,!1);let i,o=Se.Default;for(let s=0;s<r.length;s++){let l=r[s],d=Lv(l);typeof d=="number"?d===-1?i=l.token:o|=d:i=l}t.push(ye(i,o))}else t.push(ye(r))}return t}function zf(e,t){return e[El]=t,e.prototype[El]=t,e}function Lv(e){return e[El]}function jv(e,t,n,r){let i=e[os];throw t[qd]&&i.unshift(t[qd]),e.message=Bv(`
`+e.message,i,n,r),e[kv]=i,e[os]=null,e}function Bv(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Ov?e.slice(2):e;let i=St(t);if(Array.isArray(t))i=t.map(St).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let l=t[s];o.push(s+":"+(typeof l=="string"?JSON.stringify(l):St(l)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Nv,`
  `)}`}var Vv=zf(Nf("Optional"),8);var Uv=zf(Nf("SkipSelf"),4);function kr(e,t){let n=e.hasOwnProperty(rs);return n?e[rs]:null}function Hv(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function $v(e){return e.flat(Number.POSITIVE_INFINITY)}function dc(e,t){e.forEach(n=>Array.isArray(n)?dc(n,t):t(n))}function Wf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ss(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Nr={},Xt=[],Ii=new me(""),Gf=new me("",-1),qf=new me(""),as=class{get(t,n=Gn){if(n===Gn){let r=new Error(`NullInjectorError: No provider for ${St(t)}!`);throw r.name="NullInjectorError",r}return n}};function Yf(e,t){let n=e[xv]||null;if(!n&&t===!0)throw new Error(`Type ${St(e)} does not have '\u0275mod' property.`);return n}function Yn(e){return e[Iv]||null}function zv(e){return e[Tv]||null}function Wv(e){return e[Mv]||null}function fc(e){return{\u0275providers:e}}function Gv(...e){return{\u0275providers:Xf(!0,e),\u0275fromNgModule:!0}}function Xf(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return dc(t,s=>{let l=s;Dl(l,o,[],r)&&(i||=[],i.push(l))}),i!==void 0&&Kf(i,o),n}function Kf(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];hc(i,o=>{t(o,r)})}}function Dl(e,t,n,r){if(e=Nt(e),!e)return!1;let i=null,o=zd(e),s=!o&&Yn(e);if(!o&&!s){let d=e.ngModule;if(o=zd(d),o)i=d;else return!1}else{if(s&&!s.standalone)return!1;i=e}let l=r.has(i);if(s){if(l)return!1;if(r.add(i),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of d)Dl(c,t,n,r)}}else if(o){if(o.imports!=null&&!l){r.add(i);let c;try{dc(o.imports,a=>{Dl(a,t,n,r)&&(c||=[],c.push(a))})}finally{}c!==void 0&&Kf(c,t)}if(!l){let c=kr(i)||(()=>new i);t({provide:i,useFactory:c,deps:Xt},i),t({provide:qf,useValue:i,multi:!0},i),t({provide:Ii,useValue:()=>ye(i),multi:!0},i)}let d=o.providers;if(d!=null&&!l){let c=e;hc(d,a=>{t(a,c)})}}else return!1;return i!==e&&e.providers!==void 0}function hc(e,t){for(let n of e)Vf(n)&&(n=n.\u0275providers),Array.isArray(n)?hc(n,t):t(n)}var qv=He({provide:String,useValue:He});function Zf(e){return e!==null&&typeof e=="object"&&qv in e}function Yv(e){return!!(e&&e.useExisting)}function Xv(e){return!!(e&&e.useFactory)}function Cl(e){return typeof e=="function"}var Ms=new me(""),Zo={},Yd={},fl;function pc(){return fl===void 0&&(fl=new as),fl}var vt=class{},Ti=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Al(t,s=>this.processProvider(s)),this.records.set(Gf,Ir(void 0,this)),i.has("environment")&&this.records.set(vt,Ir(void 0,this));let o=this.records.get(Ms);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qf,Xt,Se.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Mo:Gn,r)}destroy(){Ci(this),this._destroyed=!0;let t=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(t)}}onDestroy(t){return Ci(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ci(this);let n=hn(this),r=kt(void 0),i;try{return t()}finally{hn(n),kt(r)}}get(t,n=Gn,r=Se.Default){if(Ci(this),t.hasOwnProperty(Gd))return t[Gd](this);r=Ts(r);let i,o=hn(this),s=kt(void 0);try{if(!(r&Se.SkipSelf)){let d=this.records.get(t);if(d===void 0){let c=ty(t)&&Is(t);c&&this.injectableDefInScope(c)?d=Ir(Sl(t),Zo):d=null,this.records.set(t,d)}if(d!=null)return this.hydrate(t,d)}let l=r&Se.Self?pc():this.parent;return n=r&Se.Optional&&n===Gn?null:n,l.get(t,n)}catch(l){if(l.name==="NullInjectorError"){if((l[os]=l[os]||[]).unshift(St(t)),o)throw l;return jv(l,t,"R3InjectorError",this.source)}else throw l}finally{kt(s),hn(o)}}resolveInjectorInitializers(){let t=Pe(null),n=hn(this),r=kt(void 0),i;try{let o=this.get(Ii,Xt,Se.Self);for(let s of o)s()}finally{hn(n),kt(r),Pe(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(St(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Nt(t);let n=Cl(t)?t:Nt(t&&t.provide),r=Zv(t);if(!Cl(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Ir(void 0,Zo,!0),i.factory=()=>wl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Pe(null);try{return n.value===Yd?Uf(St(t)):n.value===Zo&&(n.value=Yd,n.value=n.factory()),typeof n.value=="object"&&n.value&&ey(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Pe(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Nt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sl(e){let t=Is(e),n=t!==null?t.factory:kr(e);if(n!==null)return n;if(e instanceof me)throw new fe(204,!1);if(e instanceof Function)return Kv(e);throw new fe(204,!1)}function Kv(e){if(e.length>0)throw new fe(204,!1);let n=Sv(e);return n!==null?()=>n.factory(e):()=>new e}function Zv(e){if(Zf(e))return Ir(void 0,e.useValue);{let t=Qv(e);return Ir(t,Zo)}}function Qv(e,t,n){let r;if(Cl(e)){let i=Nt(e);return kr(i)||Sl(i)}else if(Zf(e))r=()=>Nt(e.useValue);else if(Xv(e))r=()=>e.useFactory(...wl(e.deps||[]));else if(Yv(e))r=()=>ye(Nt(e.useExisting));else{let i=Nt(e&&(e.useClass||e.provide));if(Jv(e))r=()=>new i(...wl(e.deps));else return kr(i)||Sl(i)}return r}function Ci(e){if(e.destroyed)throw new fe(205,!1)}function Ir(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Jv(e){return!!e.deps}function ey(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ty(e){return typeof e=="function"||typeof e=="object"&&e instanceof me}function Al(e,t){for(let n of e)Array.isArray(n)?Al(n,t):n&&Vf(n)?Al(n.\u0275providers,t):t(n)}function Ft(e,t){let n;e instanceof Ti?(Ci(e),n=e):n=new is(e);let r,i=hn(n),o=kt(void 0);try{return t()}finally{hn(i),kt(o)}}function Qf(){return Hf()!==void 0||yi()!=null}function ny(e){if(!Qf())throw new fe(-203,!1)}function ry(e){return typeof e=="function"}var En=0,Me=1,Ee=2,at=3,Ut=4,$t=5,ls=6,cs=7,yt=8,Or=9,yn=10,ot=11,Mi=12,Xd=13,Hr=14,Zt=15,Xn=16,Tr=17,bn=18,xs=19,Jf=20,Rn=21,hl=22,us=23,Ot=24,Rr=25,_n=26,eh=1;var Kn=7,ds=8,Fr=9,At=10;function Pn(e){return Array.isArray(e)&&typeof e[eh]=="object"}function wn(e){return Array.isArray(e)&&e[eh]===!0}function th(e){return(e.flags&4)!==0}function $r(e){return e.componentOffset>-1}function gc(e){return(e.flags&1)===1}function tr(e){return!!e.template}function fs(e){return(e[Ee]&512)!==0}function Ni(e){return(e[Ee]&256)===256}var Il=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function nh(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var zr=(()=>{let e=()=>rh;return e.ngInherit=!0,e})();function rh(e){return e.type.prototype.ngOnChanges&&(e.setInput=oy),iy}function iy(){let e=oh(this),t=e?.current;if(t){let n=e.previous;if(n===Nr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function oy(e,t,n,r,i){let o=this.declaredInputs[r],s=oh(e)||sy(e,{previous:Nr,current:null}),l=s.current||(s.current={}),d=s.previous,c=d[o];l[o]=new Il(c&&c.currentValue,n,d===Nr),nh(e,t,i,n)}var ih="__ngSimpleChanges__";function oh(e){return e[ih]||null}function sy(e,t){return e[ih]=t}var Kd=null;var Ve=function(e,t=null,n){Kd?.(e,t,n)},ay="svg",ly="math";function Qt(e){for(;Array.isArray(e);)e=e[En];return e}function cy(e,t){return Qt(t[e])}function nn(e,t){return Qt(t[e.index])}function sh(e,t){return e.data[t]}function Jt(e,t){let n=t[e];return Pn(n)?n:n[En]}function uy(e){return(e[Ee]&4)===4}function mc(e){return(e[Ee]&128)===128}function dy(e){return wn(e[at])}function hs(e,t){return t==null?null:e[t]}function ah(e){e[Tr]=0}function lh(e){e[Ee]&1024||(e[Ee]|=1024,mc(e)&&Oi(e))}function fy(e,t){for(;e>0;)t=t[Hr],e--;return t}function Rs(e){return!!(e[Ee]&9216||e[Ot]?.dirty)}function Tl(e){e[yn].changeDetectionScheduler?.notify(8),e[Ee]&64&&(e[Ee]|=1024),Rs(e)&&Oi(e)}function Oi(e){e[yn].changeDetectionScheduler?.notify(0);let t=Zn(e);for(;t!==null&&!(t[Ee]&8192||(t[Ee]|=8192,!mc(t)));)t=Zn(t)}function ch(e,t){if(Ni(e))throw new fe(911,!1);e[Rn]===null&&(e[Rn]=[]),e[Rn].push(t)}function hy(e,t){if(e[Rn]===null)return;let n=e[Rn].indexOf(t);n!==-1&&e[Rn].splice(n,1)}function Zn(e){let t=e[at];return wn(t)?t[at]:t}function vc(e){return e[cs]??=[]}function yc(e){return e.cleanup??=[]}function py(e,t,n,r){let i=vc(t);i.push(n),e.firstCreatePass&&yc(e).push(r,i.length-1)}var Ie={lFrame:bh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ml=!1;function gy(){return Ie.lFrame.elementDepthCount}function my(){Ie.lFrame.elementDepthCount++}function vy(){Ie.lFrame.elementDepthCount--}function uh(){return Ie.bindingsEnabled}function yy(){return Ie.skipHydrationRootTNode!==null}function by(e){return Ie.skipHydrationRootTNode===e}function _y(){Ie.skipHydrationRootTNode=null}function Le(){return Ie.lFrame.lView}function Lt(){return Ie.lFrame.tView}function Wr(e){return Ie.lFrame.contextLView=e,e[yt]}function Gr(e){return Ie.lFrame.contextLView=null,e}function It(){let e=dh();for(;e!==null&&e.type===64;)e=e.parent;return e}function dh(){return Ie.lFrame.currentTNode}function Ey(){let e=Ie.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Fi(e,t){let n=Ie.lFrame;n.currentTNode=e,n.isParent=t}function fh(){return Ie.lFrame.isParent}function wy(){Ie.lFrame.isParent=!1}function hh(){return Ml}function Zd(e){let t=Ml;return Ml=e,t}function Dy(){let e=Ie.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ph(){return Ie.lFrame.bindingIndex}function Cy(e){return Ie.lFrame.bindingIndex=e}function bc(){return Ie.lFrame.bindingIndex++}function gh(e){let t=Ie.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Sy(){return Ie.lFrame.inI18n}function Ay(e,t){let n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=e,xl(t)}function Iy(){return Ie.lFrame.currentDirectiveIndex}function xl(e){Ie.lFrame.currentDirectiveIndex=e}function mh(){return Ie.lFrame.currentQueryIndex}function _c(e){Ie.lFrame.currentQueryIndex=e}function Ty(e){let t=e[Me];return t.type===2?t.declTNode:t.type===1?e[$t]:null}function vh(e,t,n){if(n&Se.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&Se.Host);)if(i=Ty(o),i===null||(o=o[Hr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=Ie.lFrame=yh();return r.currentTNode=t,r.lView=e,!0}function Ec(e){let t=yh(),n=e[Me];Ie.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function yh(){let e=Ie.lFrame,t=e===null?null:e.child;return t===null?bh(e):t}function bh(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function _h(){let e=Ie.lFrame;return Ie.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Eh=_h;function wc(){let e=_h();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function My(e){return(Ie.lFrame.contextLView=fy(e,Ie.lFrame.contextLView))[yt]}function Li(){return Ie.lFrame.selectedIndex}function Qn(e){Ie.lFrame.selectedIndex=e}function Dc(){let e=Ie.lFrame;return sh(e.tView,e.selectedIndex)}function xy(){return Ie.lFrame.currentNamespace}var wh=!0;function Cc(){return wh}function Sc(e){wh=e}function Ry(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=rh(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Dh(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:c,ngOnDestroy:a}=o;s&&(e.contentHooks??=[]).push(-n,s),l&&((e.contentHooks??=[]).push(n,l),(e.contentCheckHooks??=[]).push(n,l)),d&&(e.viewHooks??=[]).push(-n,d),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),a!=null&&(e.destroyHooks??=[]).push(n,a)}}function Qo(e,t,n){Ch(e,t,3,n)}function Jo(e,t,n,r){(e[Ee]&3)===n&&Ch(e,t,n,r)}function pl(e,t){let n=e[Ee];(n&3)===t&&(n&=16383,n+=1,e[Ee]=n)}function Ch(e,t,n,r){let i=r!==void 0?e[Tr]&65535:0,o=r??-1,s=t.length-1,l=0;for(let d=i;d<s;d++)if(typeof t[d+1]=="number"){if(l=t[d],r!=null&&l>=r)break}else t[d]<0&&(e[Tr]+=65536),(l<o||o==-1)&&(Py(e,n,t,d),e[Tr]=(e[Tr]&4294901760)+d+2),d++}function Qd(e,t){Ve(4,e,t);let n=Pe(null);try{t.call(e)}finally{Pe(n),Ve(5,e,t)}}function Py(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],l=e[s];i?e[Ee]>>14<e[Tr]>>16&&(e[Ee]&3)===t&&(e[Ee]+=16384,Qd(l,o)):Qd(l,o)}var Pr=-1,xi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function ky(e){return(e.flags&8)!==0}function Ny(e){return(e.flags&16)!==0}function Oy(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],l=n[r++];e.setAttribute(t,s,l,o)}else{let o=i,s=n[++r];Fy(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Sh(e){return e===3||e===4||e===6}function Fy(e){return e.charCodeAt(0)===64}function Ac(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jd(e,n,i,null,t[++r]):Jd(e,n,i,null,null))}}return e}function Jd(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let l=e[o++];if(typeof l=="number"){if(l===t){s=-1;break}else if(l>t){s=o-1;break}}}for(;o<e.length;){let l=e[o];if(typeof l=="number")break;if(l===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Ah(e){return e!==Pr}function ps(e){return e&32767}function Ly(e){return e>>16}function gs(e,t){let n=Ly(e),r=t;for(;n>0;)r=r[Hr],n--;return r}var Rl=!0;function ef(e){let t=Rl;return Rl=e,t}var jy=256,Ih=jy-1,Th=5,By=0,Kt={};function Vy(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ai)&&(r=n[Ai]),r==null&&(r=n[Ai]=By++);let i=r&Ih,o=1<<i;t.data[e+(i>>Th)]|=o}function Mh(e,t){let n=xh(e,t);if(n!==-1)return n;let r=t[Me];r.firstCreatePass&&(e.injectorIndex=t.length,gl(r.data,e),gl(t,null),gl(r.blueprint,null));let i=Ic(e,t),o=e.injectorIndex;if(Ah(i)){let s=ps(i),l=gs(i,t),d=l[Me].data;for(let c=0;c<8;c++)t[o+c]=l[s+c]|d[s+c]}return t[o+8]=i,o}function gl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xh(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Ic(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Oh(i),r===null)return Pr;if(n++,i=i[Hr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Pr}function Uy(e,t,n){Vy(e,t,n)}function Hy(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Sh(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Rh(e,t,n){if(n&Se.Optional||e!==void 0)return e;uc(t,"NodeInjector")}function Ph(e,t,n,r){if(n&Se.Optional&&r===void 0&&(r=null),(n&(Se.Self|Se.Host))===0){let i=e[Or],o=kt(void 0);try{return i?i.get(t,r,n&Se.Optional):$f(t,r,n&Se.Optional)}finally{kt(o)}}return Rh(r,t,n)}function kh(e,t,n,r=Se.Default,i){if(e!==null){if(t[Ee]&2048&&!(r&Se.Self)){let s=Gy(e,t,n,r,Kt);if(s!==Kt)return s}let o=Nh(e,t,n,r,Kt);if(o!==Kt)return o}return Ph(t,n,r,i)}function Nh(e,t,n,r,i){let o=zy(n);if(typeof o=="function"){if(!vh(t,e,r))return r&Se.Host?Rh(i,n,r):Ph(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Se.Optional))uc(n);else return s}finally{Eh()}}else if(typeof o=="number"){let s=null,l=xh(e,t),d=Pr,c=r&Se.Host?t[Zt][$t]:null;for((l===-1||r&Se.SkipSelf)&&(d=l===-1?Ic(e,t):t[l+8],d===Pr||!nf(r,!1)?l=-1:(s=t[Me],l=ps(d),t=gs(d,t)));l!==-1;){let a=t[Me];if(tf(o,l,a.data)){let u=$y(l,t,n,s,r,c);if(u!==Kt)return u}d=t[l+8],d!==Pr&&nf(r,t[Me].data[l+8]===c)&&tf(o,l,t)?(s=a,l=ps(d),t=gs(d,t)):l=-1}}return i}function $y(e,t,n,r,i,o){let s=t[Me],l=s.data[e+8],d=r==null?$r(l)&&Rl:r!=s&&(l.type&3)!==0,c=i&Se.Host&&o===l,a=es(l,s,n,d,c);return a!==null?ms(t,s,a,l):Kt}function es(e,t,n,r,i){let o=e.providerIndexes,s=t.data,l=o&1048575,d=e.directiveStart,c=e.directiveEnd,a=o>>20,u=r?l:l+a,f=i?l+a:c;for(let p=u;p<f;p++){let g=s[p];if(p<d&&n===g||p>=d&&g.type===n)return p}if(i){let p=s[d];if(p&&tr(p)&&p.type===n)return d}return null}function ms(e,t,n,r){let i=e[n],o=t.data;if(i instanceof xi){let s=i;s.resolving&&Uf(Rv(o[n]));let l=ef(s.canSeeViewProviders);s.resolving=!0;let d,c=s.injectImpl?kt(s.injectImpl):null,a=vh(e,r,Se.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&Ry(n,o[n],t)}finally{c!==null&&kt(c),ef(l),s.resolving=!1,Eh()}}return i}function zy(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ai)?e[Ai]:void 0;return typeof t=="number"?t>=0?t&Ih:Wy:t}function tf(e,t,n){let r=1<<e;return!!(n[t+(e>>Th)]&r)}function nf(e,t){return!(e&Se.Self)&&!(e&Se.Host&&t)}var qn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return kh(this._tNode,this._lView,t,Ts(r),n)}};function Wy(){return new qn(It(),Le())}function Tc(e){return ki(()=>{let t=e.prototype.constructor,n=t[rs]||Pl(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[rs]||Pl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pl(e){return Ff(e)?()=>{let t=Pl(Nt(e));return t&&t()}:kr(e)}function Gy(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[Ee]&2048&&!fs(s);){let l=Nh(o,s,n,r|Se.Self,Kt);if(l!==Kt)return l;let d=o.parent;if(!d){let c=s[Jf];if(c){let a=c.get(n,Kt,r);if(a!==Kt)return a}d=Oh(s),s=s[Hr]}o=d}return i}function Oh(e){let t=e[Me],n=t.type;return n===2?t.declTNode:n===1?e[$t]:null}function Mc(e){return Hy(It(),e)}function rf(e,t=null,n=null,r){let i=Fh(e,t,n,r);return i.resolveInjectorInitializers(),i}function Fh(e,t=null,n=null,r,i=new Set){let o=[n||Xt,Gv(e)];return r=r||(typeof e=="object"?void 0:St(e)),new Ti(o,t||pc(),r||null,i)}var Ht=class e{static THROW_IF_NOT_FOUND=Gn;static NULL=new as;static create(t,n){if(Array.isArray(t))return rf({name:""},n,t,"");{let r=t.name??"";return rf({name:r},t.parent,t.providers,r)}}static \u0275prov=he({token:e,providedIn:"any",factory:()=>ye(Gf)});static __NG_ELEMENT_ID__=-1};var qy=new me("");qy.__NG_ELEMENT_ID__=e=>{let t=It();if(t===null)throw new fe(204,!1);if(t.type&2)return t.value;if(e&Se.Optional)return null;throw new fe(204,!1)};var Lh=!1,ji=(()=>{class e{static __NG_ELEMENT_ID__=Yy;static __NG_ENV_ID__=n=>n}return e})(),kl=class extends ji{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return ch(this._lView,t),()=>hy(this._lView,t)}};function Yy(){return new kl(Le())}var Lr=class{},jh=new me("",{providedIn:"root",factory:()=>!1});var Bh=new me(""),Vh=new me(""),qr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new rt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=he({token:e,providedIn:"root",factory:()=>new e})}return e})();var Nl=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Qf()&&(this.destroyRef=re(ji,{optional:!0})??void 0,this.pendingTasks=re(qr,{optional:!0})??void 0)}emit(t){let n=Pe(null);try{super.next(t)}finally{Pe(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let d=t;i=d.next?.bind(d),o=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:i,error:o,complete:s});return t instanceof We&&t.add(l),l}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ft=Nl;function vs(...e){}function Uh(e){let t,n;function r(){e=vs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function of(e){return queueMicrotask(()=>e()),()=>{e=vs}}var xc="isAngularZone",ys=xc+"_ID",Xy=0,Ge=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ft(!1);onMicrotaskEmpty=new ft(!1);onStable=new ft(!1);onError=new ft(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Lh}=t;if(typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Qy(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xc)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new fe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Ky,vs,vs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Ky={};function Rc(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zy(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Uh(()=>{e.callbackScheduled=!1,Ol(e),e.isCheckStableRunning=!0,Rc(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ol(e)}function Qy(e){let t=()=>{Zy(e)},n=Xy++;e._inner=e._inner.fork({name:"angular",properties:{[xc]:!0,[ys]:n,[ys+n]:!0},onInvokeTask:(r,i,o,s,l,d)=>{if(Jy(d))return r.invokeTask(o,s,l,d);try{return sf(e),r.invokeTask(o,s,l,d)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),af(e)}},onInvoke:(r,i,o,s,l,d,c)=>{try{return sf(e),r.invoke(o,s,l,d,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!eb(d)&&t(),af(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ol(e),Rc(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ol(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function sf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function af(e){e._nesting--,Rc(e)}var Fl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ft;onMicrotaskEmpty=new ft;onStable=new ft;onError=new ft;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Jy(e){return Hh(e,"__ignore_ng_zone__")}function eb(e){return Hh(e,"__scheduler_tick__")}function Hh(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var en=class{_console=console;handleError(t){this._console.error("ERROR",t)}},tb=new me("",{providedIn:"root",factory:()=>{let e=re(Ge),t=re(en);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function lf(e,t){return kf(e,t)}function nb(e){return kf(Pf,e)}var $h=(lf.required=nb,lf);function rb(){return Yr(It(),Le())}function Yr(e,t){return new rn(nn(e,t))}var rn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=rb}return e})();function ib(e){return e instanceof rn?e.nativeElement:e}function ob(){return this._results[Symbol.iterator]()}var Ll=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ke}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=$v(t);(this._changesDetected=!Hv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ob};function zh(e){return(e.flags&128)===128}var Wh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wh||{}),Gh=new Map,sb=0;function ab(){return sb++}function lb(e){Gh.set(e[xs],e)}function jl(e){Gh.delete(e[xs])}var cf="__ngContext__";function Bi(e,t){Pn(t)?(e[cf]=t[xs],lb(t)):e[cf]=t}function qh(e){return Xh(e[Mi])}function Yh(e){return Xh(e[Ut])}function Xh(e){for(;e!==null&&!wn(e);)e=e[Ut];return e}var Bl;function Kh(e){Bl=e}function cb(){if(Bl!==void 0)return Bl;if(typeof document<"u")return document;throw new fe(210,!1)}var Pc=new me("",{providedIn:"root",factory:()=>ub}),ub="ng",kc=new me(""),Xr=new me("",{providedIn:"platform",factory:()=>"unknown"});var Nc=new me("",{providedIn:"root",factory:()=>cb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var db="h",fb="b";var Zh=!1,hb=new me("",{providedIn:"root",factory:()=>Zh});var Oc=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Oc||{}),Kr=new me(""),uf=new Set;function Vi(e){uf.has(e)||(uf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Qh=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=pb}return e})();function pb(){return new Qh(Le(),It())}var Mr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Mr||{}),Jh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=he({token:e,providedIn:"root",factory:()=>new e})}return e})(),gb=[Mr.EarlyRead,Mr.Write,Mr.MixedReadWrite,Mr.Read],mb=(()=>{class e{ngZone=re(Ge);scheduler=re(Lr);errorHandler=re(en,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){re(Kr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ve(16),this.executing=!0;for(let r of gb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ve(17)}register(n){let{view:r}=n;r!==void 0?((r[Rr]??=[]).push(n),Oi(r),r[Ee]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Oc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=he({token:e,providedIn:"root",factory:()=>new e})}return e})(),Vl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Rr];t&&(this.view[Rr]=t.filter(n=>n!==this))}};function Fc(e,t){!t?.injector&&ny(Fc);let n=t?.injector??re(Ht);return Vi("NgAfterNextRender"),yb(e,n,t,!0)}function vb(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function yb(e,t,n,r){let i=t.get(Jh);i.impl??=t.get(mb);let o=t.get(Kr,null,{optional:!0}),s=n?.phase??Mr.MixedReadWrite,l=n?.manualCleanup!==!0?t.get(ji):null,d=t.get(Qh,null,{optional:!0}),c=new Vl(i.impl,vb(e,s),d?.view,r,l,o?.snapshot(null));return i.impl.register(c),c}var bb=()=>null;function ep(e,t,n=!1){return bb(e,t,n)}function tp(e,t){let n=e.contentQueries;if(n!==null){let r=Pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let l=e.data[s];_c(o),l.contentQueries(2,t[s],s)}}}finally{Pe(r)}}}function Ul(e,t,n){_c(0);let r=Pe(null);try{t(e,n)}finally{Pe(r)}}function np(e,t,n){if(th(t)){let r=Pe(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let l=e.data[s];if(l.contentQueries){let d=n[s];l.contentQueries(1,d,s)}}}finally{Pe(r)}}}var tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(tn||{});var Ko;function _b(){if(Ko===void 0&&(Ko=null,bl.trustedTypes))try{Ko=bl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ko}function df(e){return _b()?.createScriptURL(e)||e}var bs=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xf})`}};function Lc(e){return e instanceof bs?e.changingThisBreaksApplicationSecurity:e}function rp(e,t){let n=Eb(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${xf})`)}return n===t}function Eb(e){return e instanceof bs&&e.getTypeName()||null}var wb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Db(e){return e=String(e),e.match(wb)?e:"unsafe:"+e}var jc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(jc||{});function jt(e){let t=op();return t?t.sanitize(jc.URL,e)||"":rp(e,"URL")?Lc(e):Db(Yt(e))}function Cb(e){let t=op();if(t)return df(t.sanitize(jc.RESOURCE_URL,e)||"");if(rp(e,"ResourceURL"))return df(Lc(e));throw new fe(904,!1)}function Sb(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Cb:jt}function ip(e,t,n){return Sb(t,n)(e)}function op(){let e=Le();return e&&e[yn].sanitizer}function sp(e){return e instanceof Function?e():e}function Ab(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var ap="ng-template";function Ib(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&Ab(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Bc(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Bc(e){return e.type===4&&e.value!==ap}function Tb(e,t,n){let r=e.type===4&&!n?ap:e.value;return t===r}function Mb(e,t,n){let r=4,i=e.attrs,o=i!==null?Pb(i):0,s=!1;for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="number"){if(!s&&!Vt(r)&&!Vt(d))return!1;if(s&&Vt(d))continue;s=!1,r=d|r&1;continue}if(!s)if(r&4){if(r=2|r&1,d!==""&&!Tb(e,d,n)||d===""&&t.length===1){if(Vt(r))return!1;s=!0}}else if(r&8){if(i===null||!Ib(e,i,d,n)){if(Vt(r))return!1;s=!0}}else{let c=t[++l],a=xb(d,i,Bc(e),n);if(a===-1){if(Vt(r))return!1;s=!0;continue}if(c!==""){let u;if(a>o?u="":u=i[a+1].toLowerCase(),r&2&&c!==u){if(Vt(r))return!1;s=!0}}}}return Vt(r)||s}function Vt(e){return(e&1)===0}function xb(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let l=t[++i];for(;typeof l=="string";)l=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kb(t,e)}function Rb(e,t,n=!1){for(let r=0;r<t.length;r++)if(Mb(e,t[r],n))return!0;return!1}function Pb(e){for(let t=0;t<e.length;t++){let n=e[t];if(Sh(n))return t}return e.length}function kb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function ff(e,t){return e?":not("+t.trim()+")":t}function Nb(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let l=e[++n];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vt(s)&&(t+=ff(o,i),i=""),r=s,o=o||!Vt(r);n++}return i!==""&&(t+=ff(o,i)),t}function Ob(e){return e.map(Nb).join(",")}function Fb(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Vt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var on={};function Lb(e,t){return e.createText(t)}function jb(e,t,n){e.setValue(t,n)}function lp(e,t,n){return e.createElement(t,n)}function _s(e,t,n,r,i){e.insertBefore(t,n,r,i)}function cp(e,t,n){e.appendChild(t,n)}function hf(e,t,n,r,i){r!==null?_s(e,t,n,r,i):cp(e,t,n)}function Bb(e,t,n){e.removeChild(null,t,n)}function Vb(e,t,n){e.setAttribute(t,"style",n)}function Ub(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function up(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Oy(e,t,r),i!==null&&Ub(e,t,i),o!==null&&Vb(e,t,o)}function Vc(e,t,n,r,i,o,s,l,d,c,a){let u=_n+r,f=u+i,p=Hb(u,f),g=typeof c=="function"?c():c;return p[Me]={type:e,blueprint:p,template:n,queries:null,viewQuery:l,declTNode:t,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:g,incompleteFirstPass:!1,ssrId:a}}function Hb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:on);return n}function $b(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Vc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Uc(e,t,n,r,i,o,s,l,d,c,a){let u=t.blueprint.slice();return u[En]=i,u[Ee]=r|4|128|8|64|1024,(c!==null||e&&e[Ee]&2048)&&(u[Ee]|=2048),ah(u),u[at]=u[Hr]=e,u[yt]=n,u[yn]=s||e&&e[yn],u[ot]=l||e&&e[ot],u[Or]=d||e&&e[Or]||null,u[$t]=o,u[xs]=ab(),u[ls]=a,u[Jf]=c,u[Zt]=t.type==2?e[Zt]:u,u}function zb(e,t,n){let r=nn(t,e),i=$b(n),o=e[yn].rendererFactory,s=Hc(e,Uc(e,i,null,dp(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function dp(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function fp(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Hc(e,t){return e[Mi]?e[Xd][Ut]=t:e[Mi]=t,e[Xd]=t,t}function be(e=1){hp(Lt(),Le(),Li()+e,!1)}function hp(e,t,n,r){if(!r)if((t[Ee]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Qo(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Jo(t,o,0,n)}Qn(n)}var Ps=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ps||{});function Hl(e,t,n,r){let i=Pe(null);try{let[o,s,l]=e.inputs[n],d=null;(s&Ps.SignalBased)!==0&&(d=t[o][mr]),d!==null&&d.transformFn!==void 0?r=d.transformFn(r):l!==null&&(r=l.call(t,r)),e.setInput!==null?e.setInput(t,d,r,n,o):nh(t,d,o,r)}finally{Pe(i)}}function pp(e,t,n,r,i){let o=Li(),s=r&2;try{Qn(-1),s&&t.length>_n&&hp(e,t,_n,!1),Ve(s?2:0,i),n(r,i)}finally{Qn(o),Ve(s?3:1,i)}}function $c(e,t,n){Kb(e,t,n),(n.flags&64)===64&&Zb(e,t,n)}function gp(e,t,n=nn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],l=s===-1?n(t,e):e[s];e[i++]=l}}}function Wb(e,t,n,r){let o=r.get(hb,Zh)||n===tn.ShadowDom,s=e.selectRootElement(t,o);return Gb(s),s}function Gb(e){qb(e)}var qb=()=>null;function Yb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function mp(e,t,n,r,i,o,s,l){if(!l&&zc(t,e,n,r,i)){$r(t)&&Xb(n,t.index);return}if(t.type&3){let d=nn(t,n);r=Yb(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(d,r,i)}else t.type&12}function Xb(e,t){let n=Jt(t,e);n[Ee]&16||(n[Ee]|=64)}function Kb(e,t,n){let r=n.directiveStart,i=n.directiveEnd;$r(n)&&zb(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Mh(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let l=e.data[s],d=ms(t,e,s,n);if(Bi(d,t),o!==null&&t0(t,s-r,d,l,n,o),tr(l)){let c=Jt(n.index,t);c[yt]=ms(t,e,s,n)}}}function Zb(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Iy();try{Qn(o);for(let l=r;l<i;l++){let d=e.data[l],c=t[l];xl(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&Qb(d,c)}}finally{Qn(-1),xl(s)}}function Qb(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function vp(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Rb(t,o.selectors,!1)&&(r??=[],tr(o)?r.unshift(o):r.push(o))}return r}function Jb(e,t,n,r,i,o){let s=nn(e,t);e0(t[ot],s,o,e.value,n,r,i)}function e0(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let l=s==null?Yt(o):s(o,r||"",i);e.setAttribute(t,i,l,n)}}function t0(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let l=0;l<s.length;l+=2){let d=s[l],c=s[l+1];Hl(r,n,d,c)}}function n0(e,t){let n=e[Or],r=n?n.get(en,null):null;r&&r.handleError(t)}function zc(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],l=!1;if(s)for(let d=0;d<s.length;d+=2){let c=s[d],a=s[d+1],u=t.data[c];Hl(u,n[c],a,i),l=!0}if(o)for(let d of o){let c=n[d],a=t.data[d];Hl(a,c,r,i),l=!0}return l}function r0(e,t){let n=Jt(t,e),r=n[Me];i0(r,n);let i=n[En];i!==null&&n[ls]===null&&(n[ls]=ep(i,n[Or])),Ve(18),Wc(r,n,n[yt]),Ve(19,n[yt])}function i0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Wc(e,t,n){Ec(t);try{let r=e.viewQuery;r!==null&&Ul(1,r,n);let i=e.template;i!==null&&pp(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[bn]?.finishViewCreation(e),e.staticContentQueries&&tp(e,t),e.staticViewQueries&&Ul(2,e.viewQuery,n);let o=e.components;o!==null&&o0(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ee]&=-5,wc()}}function o0(e,t){for(let n=0;n<t.length;n++)r0(e,t[n])}function s0(e,t,n,r){let i=Pe(null);try{let o=t.tView,l=e[Ee]&4096?4096:16,d=Uc(e,o,n,l,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];d[Xn]=c;let a=e[bn];return a!==null&&(d[bn]=a.createEmbeddedView(o)),Wc(o,d,n),d}finally{Pe(i)}}function pf(e,t){return!t||t.firstChild===null||zh(e)}var a0;function Gc(e,t){return a0(e,t)}var nr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(nr||{});function yp(e){return(e.flags&32)===32}function xr(e,t,n,r,i){if(r!=null){let o,s=!1;wn(r)?o=r:Pn(r)&&(s=!0,r=r[En]);let l=Qt(r);e===0&&n!==null?i==null?cp(t,n,l):_s(t,n,l,i||null,!0):e===1&&n!==null?_s(t,n,l,i||null,!0):e===2?Bb(t,l,s):e===3&&t.destroyNode(l),o!=null&&b0(t,e,o,n,i)}}function l0(e,t){bp(e,t),t[En]=null,t[$t]=null}function c0(e,t,n,r,i,o){r[En]=i,r[$t]=t,ks(e,r,n,1,i,o)}function bp(e,t){t[yn].changeDetectionScheduler?.notify(9),ks(e,t,t[ot],2,null,null)}function u0(e){let t=e[Mi];if(!t)return ml(e[Me],e);for(;t;){let n=null;if(Pn(t))n=t[Mi];else{let r=t[At];r&&(n=r)}if(!n){for(;t&&!t[Ut]&&t!==e;)Pn(t)&&ml(t[Me],t),t=t[at];t===null&&(t=e),Pn(t)&&ml(t[Me],t),n=t&&t[Ut]}t=n}}function qc(e,t){let n=e[Fr],r=n.indexOf(t);n.splice(r,1)}function _p(e,t){if(Ni(t))return;let n=t[ot];n.destroyNode&&ks(e,t,n,3,null,null),u0(t)}function ml(e,t){if(Ni(t))return;let n=Pe(null);try{t[Ee]&=-129,t[Ee]|=256,t[Ot]&&qa(t[Ot]),f0(e,t),d0(e,t),t[Me].type===1&&t[ot].destroy();let r=t[Xn];if(r!==null&&wn(t[at])){r!==t[at]&&qc(r,t);let i=t[bn];i!==null&&i.detachView(e)}jl(t)}finally{Pe(n)}}function d0(e,t){let n=e.cleanup,r=t[cs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let l=n[s+3];l>=0?r[l]():r[-l].unsubscribe(),s+=2}else{let l=r[n[s+1]];n[s].call(l)}r!==null&&(t[cs]=null);let i=t[Rn];if(i!==null){t[Rn]=null;for(let s=0;s<i.length;s++){let l=i[s];l()}}let o=t[us];if(o!==null){t[us]=null;for(let s of o)s.destroy()}}function f0(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof xi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let l=i[o[s]],d=o[s+1];Ve(4,l,d);try{d.call(l)}finally{Ve(5,l,d)}}else{Ve(4,i,o);try{o.call(i)}finally{Ve(5,i,o)}}}}}function h0(e,t,n){return p0(e,t.parent,n)}function p0(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[En];if($r(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===tn.None||i===tn.Emulated)return null}return nn(r,n)}function g0(e,t,n){return v0(e,t,n)}function m0(e,t,n){return e.type&40?nn(e,n):null}var v0=m0,gf;function Yc(e,t,n,r){let i=h0(e,r,t),o=t[ot],s=r.parent||t[$t],l=g0(s,r,t);if(i!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)hf(o,i,n[d],l,!1);else hf(o,i,n,l,!1);gf!==void 0&&gf(o,r,t,n,i)}function Si(e,t){if(t!==null){let n=t.type;if(n&3)return nn(t,e);if(n&4)return $l(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Si(e,r);{let i=e[t.index];return wn(i)?$l(-1,i):Qt(i)}}else{if(n&128)return Si(e,t.next);if(n&32)return Gc(t,e)()||Qt(e[t.index]);{let r=Ep(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Zn(e[Zt]);return Si(i,r)}else return Si(e,t.next)}}}return null}function Ep(e,t){if(t!==null){let r=e[Zt][$t],i=t.projection;return r.projection[i]}return null}function $l(e,t){let n=At+e+1;if(n<t.length){let r=t[n],i=r[Me].firstChild;if(i!==null)return Si(r,i)}return t[Kn]}function Xc(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let l=r[n.index],d=n.type;if(s&&t===0&&(l&&Bi(Qt(l),r),n.flags|=2),!yp(n))if(d&8)Xc(e,t,n.child,r,i,o,!1),xr(t,e,i,l,o);else if(d&32){let c=Gc(n,r),a;for(;a=c();)xr(t,e,i,a,o);xr(t,e,i,l,o)}else d&16?y0(e,t,r,n,i,o):xr(t,e,i,l,o);n=s?n.projectionNext:n.next}}function ks(e,t,n,r,i,o){Xc(n,r,e.firstChild,t,i,o,!1)}function y0(e,t,n,r,i,o){let s=n[Zt],d=s[$t].projection[r.projection];if(Array.isArray(d))for(let c=0;c<d.length;c++){let a=d[c];xr(t,e,i,a,o)}else{let c=d,a=s[at];zh(r)&&(c.flags|=128),Xc(e,t,c,a,i,o,!0)}}function b0(e,t,n,r,i){let o=n[Kn],s=Qt(n);o!==s&&xr(t,e,r,o,i);for(let l=At;l<n.length;l++){let d=n[l];ks(d[Me],d,e,t,r,o)}}function Es(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Qt(o)),wn(o)&&_0(o,r);let s=n.type;if(s&8)Es(e,t,n.child,r);else if(s&32){let l=Gc(n,t),d;for(;d=l();)r.push(d)}else if(s&16){let l=Ep(t,n);if(Array.isArray(l))r.push(...l);else{let d=Zn(t[Zt]);Es(d[Me],d,l,r,!0)}}n=i?n.projectionNext:n.next}return r}function _0(e,t){for(let n=At;n<e.length;n++){let r=e[n],i=r[Me].firstChild;i!==null&&Es(r[Me],r,i,t)}e[Kn]!==e[En]&&t.push(e[Kn])}function wp(e){if(e[Rr]!==null){for(let t of e[Rr])t.impl.addSequence(t);e[Rr].length=0}}var Dp=[];function E0(e){return e[Ot]??w0(e)}function w0(e){let t=Dp.pop()??Object.create(C0);return t.lView=e,t}function D0(e){e.lView[Ot]!==e&&(e.lView=null,Dp.push(e))}var C0=je(ce({},Ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Oi(e.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function S0(e){let t=e[Ot]??Object.create(A0);return t.lView=e,t}var A0=je(ce({},Ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Zn(e.lView);for(;t&&!Cp(t[Me]);)t=Zn(t);t&&lh(t)},consumerOnSignalRead(){this.lView[Ot]=this}});function Cp(e){return e.type!==2}function Sp(e){if(e[us]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[us])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Ee]&8192)}}var I0=100;function Ap(e,t=!0,n=0){let i=e[yn].rendererFactory,o=!1;o||i.begin?.();try{T0(e,n)}catch(s){throw t&&n0(e,s),s}finally{o||i.end?.()}}function T0(e,t){let n=hh();try{Zd(!0),zl(e,t);let r=0;for(;Rs(e);){if(r===I0)throw new fe(103,!1);r++,zl(e,1)}}finally{Zd(n)}}function M0(e,t,n,r){if(Ni(t))return;let i=t[Ee],o=!1,s=!1;Ec(t);let l=!0,d=null,c=null;o||(Cp(e)?(c=E0(t),d=Wa(c)):Ha()===null?(l=!1,c=S0(t),d=Wa(c)):t[Ot]&&(qa(t[Ot]),t[Ot]=null));try{ah(t),Cy(e.bindingStartIndex),n!==null&&pp(e,t,n,2,r);let a=(i&3)===3;if(!o)if(a){let p=e.preOrderCheckHooks;p!==null&&Qo(t,p,null)}else{let p=e.preOrderHooks;p!==null&&Jo(t,p,0,null),pl(t,0)}if(s||x0(t),Sp(t),Ip(t,0),e.contentQueries!==null&&tp(e,t),!o)if(a){let p=e.contentCheckHooks;p!==null&&Qo(t,p)}else{let p=e.contentHooks;p!==null&&Jo(t,p,1),pl(t,1)}P0(e,t);let u=e.components;u!==null&&Mp(t,u,0);let f=e.viewQuery;if(f!==null&&Ul(2,f,r),!o)if(a){let p=e.viewCheckHooks;p!==null&&Qo(t,p)}else{let p=e.viewHooks;p!==null&&Jo(t,p,2),pl(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[hl]){for(let p of t[hl])p();t[hl]=null}o||(wp(t),t[Ee]&=-73)}catch(a){throw o||Oi(t),a}finally{c!==null&&(cd(c,d),l&&D0(c)),wc()}}function Ip(e,t){for(let n=qh(e);n!==null;n=Yh(n))for(let r=At;r<n.length;r++){let i=n[r];Tp(i,t)}}function x0(e){for(let t=qh(e);t!==null;t=Yh(t)){if(!(t[Ee]&2))continue;let n=t[Fr];for(let r=0;r<n.length;r++){let i=n[r];lh(i)}}}function R0(e,t,n){Ve(18);let r=Jt(t,e);Tp(r,n),Ve(19,r[yt])}function Tp(e,t){mc(e)&&zl(e,t)}function zl(e,t){let r=e[Me],i=e[Ee],o=e[Ot],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ga(o)),s||=!1,o&&(o.dirty=!1),e[Ee]&=-9217,s)M0(r,e,r.template,e[yt]);else if(i&8192){Sp(e),Ip(e,1);let l=r.components;l!==null&&Mp(e,l,1),wp(e)}}function Mp(e,t,n){for(let r=0;r<t.length;r++)R0(e,t[r],n)}function P0(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Qn(~i);else{let o=i,s=n[++r],l=n[++r];Ay(s,o);let d=t[o];Ve(24,d),l(2,d),Ve(25,d)}}}finally{Qn(-1)}}function Kc(e,t){let n=hh()?64:1088;for(e[yn].changeDetectionScheduler?.notify(t);e;){e[Ee]|=n;let r=Zn(e);if(fs(e)&&!r)return e;e=r}return null}function xp(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function k0(e,t,n,r=!0){let i=t[Me];if(N0(i,t,e,n),r){let s=$l(n,e),l=t[ot],d=l.parentNode(e[Kn]);d!==null&&c0(i,e[$t],l,t,d,s)}let o=t[ls];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wl(e,t){if(e.length<=At)return;let n=At+t,r=e[n];if(r){let i=r[Xn];i!==null&&i!==e&&qc(i,r),t>0&&(e[n-1][Ut]=r[Ut]);let o=ss(e,At+t);l0(r[Me],r);let s=o[bn];s!==null&&s.detachView(o[Me]),r[at]=null,r[Ut]=null,r[Ee]&=-129}return r}function N0(e,t,n,r){let i=At+r,o=n.length;r>0&&(n[i-1][Ut]=t),r<o-At?(t[Ut]=n[i],Wf(n,At+r,t)):(n.push(t),t[Ut]=null),t[at]=n;let s=t[Xn];s!==null&&n!==s&&Rp(s,t);let l=t[bn];l!==null&&l.insertView(e),Tl(t),t[Ee]|=128}function Rp(e,t){let n=e[Fr],r=t[at];if(Pn(r))e[Ee]|=2;else{let i=r[at][Zt];t[Zt]!==i&&(e[Ee]|=2)}n===null?e[Fr]=[t]:n.push(t)}var Ri=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Me];return Es(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[yt]}set context(t){this._lView[yt]=t}get destroyed(){return Ni(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[at];if(wn(t)){let n=t[ds],r=n?n.indexOf(this):-1;r>-1&&(Wl(t,r),ss(n,r))}this._attachedToViewContainer=!1}_p(this._lView[Me],this._lView)}onDestroy(t){ch(this._lView,t)}markForCheck(){Kc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ee]&=-129}reattach(){Tl(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,Ap(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=fs(this._lView),n=this._lView[Xn];n!==null&&!t&&qc(n,this._lView),bp(this._lView[Me],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=t;let n=fs(this._lView),r=this._lView[Xn];r!==null&&!n&&Rp(r,this._lView),Tl(this._lView)}};var Jn=(()=>{class e{static __NG_ELEMENT_ID__=L0}return e})(),O0=Jn,F0=class extends O0{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=s0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ri(i)}};function L0(){return Zc(It(),Le())}function Zc(e,t){return e.type&4?new F0(t,e,Yr(e,t)):null}function Qc(e,t,n,r,i){let o=e.data[t];if(o===null)o=j0(e,t,n,r,i),Sy()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Ey();o.injectorIndex=s===null?-1:s.injectorIndex}return Fi(o,!0),o}function j0(e,t,n,r,i){let o=dh(),s=fh(),l=s?o:o&&o.parent,d=e.data[t]=V0(e,l,n,t,r,i);return B0(e,d,o,s),d}function B0(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function V0(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,l=0;return yy()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var RM=new RegExp(`^(\\d+)*(${fb}|${db})*(.*)`);var U0=()=>null;function mf(e,t){return U0(e,t)}var H0=class{},Pp=class{},Gl=class{resolveComponentFactory(t){throw Error(`No component factory found for ${St(t)}.`)}},Ns=class{static NULL=new Gl},jr=class{},Zr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>$0()}return e})();function $0(){let e=Le(),t=It(),n=Jt(t.index,e);return(Pn(n)?n:e)[ot]}var z0=(()=>{class e{static \u0275prov=he({token:e,providedIn:"root",factory:()=>null})}return e})();var vl={},ql=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ts(r);let i=this.injector.get(t,vl,r);return i!==vl||n===vl?i:this.parentInjector.get(t,n,r)}};function vf(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number")o=l;else if(o==1)i=Hd(i,l);else if(o==2){let d=l,c=t[++s];r=Hd(r,d+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function qe(e,t=Se.Default){let n=Le();if(n===null)return ye(e,t);let r=It();return kh(r,n,Nt(e),t)}function kp(){let e="invalid";throw new Error(e)}function Np(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let l,d=null,c=null,a=G0(s);a===null?l=s:[l,d,c]=a,X0(e,t,n,l,o,d,c)}o!==null&&r!==null&&W0(n,r,o)}function W0(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new fe(-301,!1);r.push(t[i],o)}}function G0(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let l=e[s];if(s===0&&tr(l)&&(t=l),l.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,q0(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function q0(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function Y0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function X0(e,t,n,r,i,o,s){let l=r.length,d=!1;for(let f=0;f<l;f++){let p=r[f];!d&&tr(p)&&(d=!0,Y0(e,n,f)),Uy(Mh(n,t),e,p.type)}t_(n,e.data.length,l);for(let f=0;f<l;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let c=!1,a=!1,u=fp(e,t,l,null);l>0&&(n.directiveToIndex=new Map);for(let f=0;f<l;f++){let p=r[f];if(n.mergedAttrs=Ac(n.mergedAttrs,p.hostAttrs),Z0(e,n,t,u,p),e_(u,p,i),s!==null&&s.has(p)){let[h,v]=s.get(p);n.directiveToIndex.set(p.type,[u,h+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(p))&&n.directiveToIndex.set(p.type,u);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}K0(e,n,o)}function K0(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))yf(0,t,i,r),yf(1,t,i,r),_f(t,r,!1);else{let o=n.get(i);bf(0,t,o,r),bf(1,t,o,r),_f(t,r,!0)}}}function yf(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Op(t,o)}}function bf(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],l;e===0?l=t.hostDirectiveInputs??={}:l=t.hostDirectiveOutputs??={},l[s]??=[],l[s].push(r,o),Op(t,s)}}function Op(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function _f(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Bc(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,l=0;for(;l<r.length;){let d=r[l];if(d===0){l+=4;continue}else if(d===5){l+=2;continue}else if(typeof d=="number")break;if(!n&&i.hasOwnProperty(d)){let c=i[d];for(let a of c)if(a===t){s??=[],s.push(d,r[l+1]);break}}else if(n&&o.hasOwnProperty(d)){let c=o[d];for(let a=0;a<c.length;a+=2)if(c[a]===t){s??=[],s.push(c[a+1],r[l+1]);break}}l+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Z0(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=kr(i.type,!0)),s=new xi(o,tr(i),qe);e.blueprint[r]=s,n[r]=s,Q0(e,t,r,fp(e,n,i.hostVars,on),i)}function Q0(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let l=~t.index;J0(s)!=l&&s.push(l),s.push(n,r,o)}}function J0(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function e_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;tr(t)&&(n[""]=e)}}function t_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Fp(e,t,n,r,i,o,s,l){let d=t.consts,c=hs(d,s),a=Qc(t,e,2,r,c);return o&&Np(t,n,a,hs(d,l),i),a.mergedAttrs=Ac(a.mergedAttrs,a.attrs),a.attrs!==null&&vf(a,a.attrs,!1),a.mergedAttrs!==null&&vf(a,a.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,a),a}function Lp(e,t){Dh(e,t),th(t)&&e.queries.elementEnd(t)}var ws=class extends Ns{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Yn(t);return new Br(n,this.ngModule)}};function n_(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Ps.SignalBased)!==0};return i&&(o.transform=i),o})}function r_(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function i_(e,t,n){let r=t instanceof vt?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new ql(n,r):n}function o_(e){let t=e.get(jr,null);if(t===null)throw new fe(407,!1);let n=e.get(z0,null),r=e.get(Lr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function s_(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return lp(t,n,n==="svg"?ay:n==="math"?ly:null)}var Br=class extends Pp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=n_(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=r_(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Ob(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){Ve(22);let o=Pe(null);try{let s=this.componentDef,l=r?["ng-version","19.2.7"]:Fb(this.componentDef.selectors[0]),d=Vc(0,null,null,1,0,null,null,null,null,[l],null),c=i_(s,i||this.ngModule,t),a=o_(c),u=a.rendererFactory.createRenderer(null,s),f=r?Wb(u,r,s.encapsulation,c):s_(s,u),p=Uc(null,d,null,512|dp(s),null,null,a,u,c,null,ep(f,c,!0));p[_n]=f,Ec(p);let g=null;try{let h=Fp(_n,d,p,"#host",()=>[this.componentDef],!0,0);f&&(up(u,f,h),Bi(f,p)),$c(d,p,h),np(d,h,p),Lp(d,h),n!==void 0&&a_(h,this.ngContentSelectors,n),g=Jt(h.index,p),p[yt]=g[yt],Wc(d,p,null)}catch(h){throw g!==null&&jl(g),jl(p),h}finally{Ve(23),wc()}return new Yl(this.componentType,p)}finally{Pe(o)}}},Yl=class extends H0{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=sh(n[Me],_n),this.location=Yr(this._tNode,n),this.instance=Jt(this._tNode.index,n)[yt],this.hostView=this.changeDetectorRef=new Ri(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=zc(r,i[Me],i,t,n);this.previousInputValues.set(t,n);let s=Jt(r.index,i);Kc(s,1)}get injector(){return new qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function a_(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var kn=(()=>{class e{static __NG_ELEMENT_ID__=l_}return e})();function l_(){let e=It();return Bp(e,Le())}var c_=kn,jp=class extends c_{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Yr(this._hostTNode,this._hostLView)}get injector(){return new qn(this._hostTNode,this._hostLView)}get parentInjector(){let t=Ic(this._hostTNode,this._hostLView);if(Ah(t)){let n=gs(t,this._hostLView),r=ps(t),i=n[Me].data[r+8];return new qn(i,n)}else return new qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Ef(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-At}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=mf(this._lContainer,t.ssrId),l=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(l,i,pf(this._hostTNode,s)),l}createComponent(t,n,r,i,o){let s=t&&!ry(t),l;if(s)l=n;else{let g=n||{};l=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let d=s?t:new Br(Yn(t)),c=r||this.parentInjector;if(!o&&d.ngModule==null){let h=(s?c:this.parentInjector).get(vt,null);h&&(o=h)}let a=Yn(d.componentType??{}),u=mf(this._lContainer,a?.id??null),f=u?.firstChild??null,p=d.create(c,i,f,o);return this.insertImpl(p.hostView,l,pf(this._hostTNode,u)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(dy(i)){let l=this.indexOf(t);if(l!==-1)this.detach(l);else{let d=i[at],c=new jp(d,d[$t],d[at]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return k0(s,i,o,r),t.attachToViewContainerRef(),Wf(yl(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Ef(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Wl(this._lContainer,n);r&&(ss(yl(this._lContainer),n),_p(r[Me],r))}detach(t){let n=this._adjustIndex(t,-1),r=Wl(this._lContainer,n);return r&&ss(yl(this._lContainer),n)!=null?new Ri(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Ef(e){return e[ds]}function yl(e){return e[ds]||(e[ds]=[])}function Bp(e,t){let n,r=t[e.index];return wn(r)?n=r:(n=xp(r,t,null,e),t[e.index]=n,Hc(t,n)),d_(n,t,e,r),new jp(n,e,t)}function u_(e,t){let n=e[ot],r=n.createComment(""),i=nn(t,e),o=n.parentNode(i);return _s(n,o,r,n.nextSibling(i),!1),r}var d_=p_,f_=()=>!1;function h_(e,t,n){return f_(e,t,n)}function p_(e,t,n,r){if(e[Kn])return;let i;n.type&8?i=Qt(r):i=u_(t,n),e[Kn]=i}var Xl=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Kl=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),l=this.queries[s.indexInDeclarationView];i.push(l.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Jc(t,n).matches!==null&&this.queries[n].setDirty()}},Ds=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=w_(t):this.predicate=t}},Zl=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ql=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,g_(n,o)),this.matchTNodeWithReadOption(t,n,es(n,t,o,!1,!1))}else r===Jn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,es(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===rn||i===kn||i===Jn&&n.type&4)this.addMatch(n.index,-2);else{let o=es(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function g_(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function m_(e,t){return e.type&11?Yr(e,t):e.type&4?Zc(e,t):null}function v_(e,t,n,r){return n===-1?m_(t,e):n===-2?y_(e,t,r):ms(e,e[Me],n,t)}function y_(e,t,n){if(n===rn)return Yr(t,e);if(n===Jn)return Zc(t,e);if(n===kn)return Bp(t,e)}function Vp(e,t,n,r){let i=t[bn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,l=[];for(let d=0;s!==null&&d<s.length;d+=2){let c=s[d];if(c<0)l.push(null);else{let a=o[c];l.push(v_(t,a,s[d+1],n.metadata.read))}}i.matches=l}return i.matches}function Jl(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Vp(e,t,i,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)r.push(s[l/2]);else{let c=o[l+1],a=t[-d];for(let u=At;u<a.length;u++){let f=a[u];f[Xn]===f[at]&&Jl(f[Me],f,c,r)}if(a[Fr]!==null){let u=a[Fr];for(let f=0;f<u.length;f++){let p=u[f];Jl(p[Me],p,c,r)}}}}}return r}function b_(e,t){return e[bn].queries[t].queryList}function Up(e,t,n){let r=new Ll((n&4)===4);return py(e,t,r,r.destroy),(t[bn]??=new Kl).queries.push(new Xl(r))-1}function __(e,t,n){let r=Lt();return r.firstCreatePass&&(Hp(r,new Ds(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Up(r,Le(),t)}function E_(e,t,n,r){let i=Lt();if(i.firstCreatePass){let o=It();Hp(i,new Ds(t,n,r),o.index),D_(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return Up(i,Le(),n)}function w_(e){return e.split(",").map(t=>t.trim())}function Hp(e,t,n){e.queries===null&&(e.queries=new Zl),e.queries.track(new Ql(t,n))}function D_(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Jc(e,t){return e.queries.getByIndex(t)}function C_(e,t){let n=e[Me],r=Jc(n,t);return r.crossesNgTemplate?Jl(n,e,t,[]):Vp(n,e,r,t)}var Vr=class{},eu=class{};var ec=class extends Vr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ws(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Yf(t);this._bootstrapComponents=sp(o.bootstrap),this._r3Injector=Fh(t,n,[{provide:Vr,useValue:this},{provide:Ns,useValue:this.componentFactoryResolver},...r],St(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},tc=class extends eu{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ec(this.moduleType,t,[])}};var Cs=class extends Vr{injector;componentFactoryResolver=new ws(this);instance=null;constructor(t){super();let n=new Ti([...t.providers,{provide:Vr,useValue:this},{provide:Ns,useValue:this.componentFactoryResolver}],t.parent||pc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ui(e,t,n=null){return new Cs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var S_=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Xf(!1,n.type),i=r.length>0?Ui([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=he({token:e,providedIn:"environment",factory:()=>new e(ye(vt))})}return e})();function Ye(e){return ki(()=>{let t=$p(e),n=je(ce({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(S_).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||tn.Emulated,styles:e.styles||Xt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Vi("NgStandalone"),zp(n);let r=e.dependencies;return n.directiveDefs=wf(r,!1),n.pipeDefs=wf(r,!0),n.id=x_(n),n})}function A_(e){return Yn(e)||zv(e)}function I_(e){return e!==null}function Qr(e){return ki(()=>({type:e.type,bootstrap:e.bootstrap||Xt,declarations:e.declarations||Xt,imports:e.imports||Xt,exports:e.exports||Xt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function T_(e,t){if(e==null)return Nr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,l,d;Array.isArray(i)?(l=i[0],o=i[1],s=i[2]??o,d=i[3]||null):(o=i,s=i,l=Ps.None,d=null),n[o]=[r,l,d],t[o]=s}return n}function M_(e){if(e==null)return Nr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Dn(e){return ki(()=>{let t=$p(e);return zp(t),t})}function $p(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Nr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Xt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:T_(e.inputs,t),outputs:M_(e.outputs),debugInfo:null}}function zp(e){e.features?.forEach(t=>t(e))}function wf(e,t){if(!e)return null;let n=t?Wv:A_;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(I_)}function x_(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Wp(e){return P_(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function R_(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function P_(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function k_(e,t,n){return e[t]=n}function N_(e,t){return e[t]}function Pi(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function nc(e,t,n,r){let i=Pi(e,t,n);return Pi(e,t+1,r)||i}function O_(e,t,n,r,i,o){let s=nc(e,t,n,r);return nc(e,t+2,i,o)||s}function F_(e,t,n,r,i,o,s,l,d){let c=t.consts,a=Qc(t,e,4,s||null,l||null);uh()&&Np(t,n,a,hs(c,d),vp),a.mergedAttrs=Ac(a.mergedAttrs,a.attrs),Dh(t,a);let u=a.tView=Vc(2,a,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,a),u.queries=t.queries.embeddedTView(a)),a}function L_(e,t,n,r,i,o,s,l,d,c){let a=n+_n,u=t.firstCreatePass?F_(a,t,e,r,i,o,s,l,d):t.data[a];Fi(u,!1);let f=j_(t,e,u,n);Cc()&&Yc(t,e,f,u),Bi(f,e);let p=xp(f,e,f,u);return e[a]=p,Hc(e,p),h_(p,u,e),gc(u)&&$c(t,e,u),d!=null&&gp(e,u,c),u}function ht(e,t,n,r,i,o,s,l){let d=Le(),c=Lt(),a=hs(c.consts,o);return L_(d,c,e,t,n,r,i,a,s,l),ht}var j_=B_;function B_(e,t,n,r){return Sc(!0),t[ot].createComment("")}var Gp=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var qp=new me("");var V_=(()=>{class e{static \u0275prov=he({token:e,providedIn:"root",factory:()=>new rc})}return e})(),rc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Hi(e){return!!e&&typeof e.then=="function"}function Yp(e){return!!e&&typeof e.subscribe=="function"}var Xp=new me("");function tu(e){return fc([{provide:Xp,multi:!0,useValue:e}])}var Kp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=re(Xp,{optional:!0})??[];injector=re(Ht);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ft(this.injector,i);if(Hi(o))n.push(o);else if(Yp(o)){let s=new Promise((l,d)=>{o.subscribe({complete:l,error:d})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Os=new me("");function U_(){Ya(()=>{throw new fe(600,!1)})}function H_(e){return e.isBoundToModule}var $_=10;var er=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=re(tb);afterRenderManager=re(Jh);zonelessEnabled=re(jh);rootEffectScheduler=re(V_);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ke;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=re(qr).hasPendingTasks.pipe(ke(n=>!n));constructor(){re(Kr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=re(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ht.NULL){Ve(10);let o=n instanceof Pp;if(!this._injector.get(Kp).done){let p="";throw new fe(405,p)}let l;o?l=n:l=this._injector.get(Ns).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let d=H_(l)?void 0:this._injector.get(Vr),c=r||l.selector,a=l.create(i,[],c,d),u=a.location.nativeElement,f=a.injector.get(qp,null);return f?.registerApplication(u),a.onDestroy(()=>{this.detachView(a.hostView),ts(this.components,a),f?.unregisterApplication(u)}),this._loadComponent(a),Ve(11,a),a}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Oc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new fe(101,!1);let n=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Pe(n),this.afterTick.next(),Ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(jr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<$_;)Ve(14),this.synchronizeOnce(),Ve(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)z_(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Rs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ts(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Os,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ts(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new fe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ts(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function z_(e,t,n,r){if(!n&&!Rs(e))return;Ap(e,t,n&&!r?0:1)}function nu(e,t,n,r){let i=Le(),o=bc();if(Pi(i,o,t)){let s=Lt(),l=Dc();Jb(l,i,e,t,n,r)}return nu}function Zp(e,t,n,r){return Pi(e,bc(),n)?t+Yt(n)+r:on}function W_(e,t,n,r,i,o){let s=ph(),l=nc(e,s,n,i);return gh(2),l?t+Yt(n)+r+Yt(i)+o:on}function G_(e,t,n,r,i,o,s,l,d,c){let a=ph(),u=O_(e,a,n,i,s,d);return gh(4),u?t+Yt(n)+r+Yt(i)+o+Yt(s)+l+Yt(d)+c:on}function Ne(e,t,n){let r=Le(),i=bc();if(Pi(r,i,t)){let o=Lt(),s=Dc();mp(o,s,r,e,t,r[ot],n,!1)}return Ne}function Df(e,t,n,r,i){zc(t,e,n,i?"class":"style",r)}function se(e,t,n,r){let i=Le(),o=Lt(),s=_n+e,l=i[ot],d=o.firstCreatePass?Fp(s,o,i,t,vp,uh(),n,r):o.data[s],c=q_(o,i,d,l,t,e);i[s]=c;let a=gc(d);return Fi(d,!0),up(l,c,d),!yp(d)&&Cc()&&Yc(o,i,c,d),(gy()===0||a)&&Bi(c,i),my(),a&&($c(o,i,d),np(o,d,i)),r!==null&&gp(i,d),se}function ae(){let e=It();fh()?wy():(e=e.parent,Fi(e,!1));let t=e;by(t)&&_y(),vy();let n=Lt();return n.firstCreatePass&&Lp(n,t),t.classesWithoutHost!=null&&ky(t)&&Df(n,t,Le(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Ny(t)&&Df(n,t,Le(),t.stylesWithoutHost,!1),ae}function ge(e,t,n,r){return se(e,t,n,r),ae(),ge}var q_=(e,t,n,r,i,o)=>(Sc(!0),lp(r,i,xy()));function $i(){return Le()}var Ss="en-US";var Y_=Ss;function X_(e){typeof e=="string"&&(Y_=e.toLowerCase().replace(/_/g,"-"))}function Cf(e,t,n){return function r(i){if(i===Function)return n;let o=$r(e)?Jt(e.index,t):t;Kc(o,5);let s=t[yt],l=Sf(t,s,n,i),d=r.__ngNextListenerFn__;for(;d;)l=Sf(t,s,d,i)&&l,d=d.__ngNextListenerFn__;return l}}function Sf(e,t,n,r){let i=Pe(null);try{return Ve(6,t,n),n(r)!==!1}catch(o){return K_(e,o),!1}finally{Ve(7,t,n),Pe(i)}}function K_(e,t){let n=e[Or],r=n?n.get(en,null):null;r&&r.handleError(t)}function Af(e,t,n,r,i,o){let s=t[n],l=t[Me],c=l.data[n].outputs[r],a=s[c],u=l.firstCreatePass?yc(l):null,f=vc(t),p=a.subscribe(o),g=f.length;f.push(o,p),u&&u.push(i,e.index,g,-(g+1))}var Z_=(e,t,n)=>{};function Cn(e,t,n,r){let i=Le(),o=Lt(),s=It();return J_(o,i,i[ot],s,e,t,r),Cn}function Q_(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let l=t[cs],d=i[o+2];return l.length>d?l[d]:null}typeof s=="string"&&(o+=2)}return null}function J_(e,t,n,r,i,o,s){let l=gc(r),c=e.firstCreatePass?yc(e):null,a=vc(t),u=!0;if(r.type&3||s){let f=nn(r,t),p=s?s(f):f,g=a.length,h=s?y=>s(Qt(y[r.index])):r.index,v=null;if(!s&&l&&(v=Q_(e,t,i,r.index)),v!==null){let y=v.__ngLastListenerFn__||v;y.__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,u=!1}else{o=Cf(r,t,o),Z_(p,i,o);let y=n.listen(p,i,o);a.push(o,y),c&&c.push(i,h,g,g+1)}}else o=Cf(r,t,o);if(u){let f=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let g=0;g<p.length;g+=2){let h=p[g],v=p[g+1];Af(r,t,h,v,i,o)}if(f&&f.length)for(let g of f)Af(r,t,g,i,i,o)}}function Tt(e=1){return My(e)}function Jr(e,t,n){return ei(e,"",t,"",n),Jr}function ei(e,t,n,r,i){let o=Le(),s=Zp(o,t,n,r);if(s!==on){let l=Lt(),d=Dc();mp(l,d,o,e,s,o[ot],i,!1)}return ei}function Qp(e,t,n,r){E_(e,t,n,r)}function Jp(e,t,n){__(e,t,n)}function Fs(e){let t=Le(),n=Lt(),r=mh();_c(r+1);let i=Jc(n,r);if(e.dirty&&uy(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=C_(t,r);e.reset(o,ib),e.notifyOnChanges()}return!0}return!1}function Ls(){return b_(Le(),mh())}function Ce(e,t=""){let n=Le(),r=Lt(),i=e+_n,o=r.firstCreatePass?Qc(r,i,1,t,null):r.data[i],s=eE(r,n,o,t,e);n[i]=s,Cc()&&Yc(r,n,s,o),Fi(o,!1)}var eE=(e,t,n,r,i)=>(Sc(!0),Lb(t[ot],r));function st(e){return rr("",e,""),st}function rr(e,t,n){let r=Le(),i=Zp(r,e,t,n);return i!==on&&ou(r,Li(),i),rr}function ru(e,t,n,r,i){let o=Le(),s=W_(o,e,t,n,r,i);return s!==on&&ou(o,Li(),s),ru}function iu(e,t,n,r,i,o,s,l,d){let c=Le(),a=G_(c,e,t,n,r,i,o,s,l,d);return a!==on&&ou(c,Li(),a),iu}function ou(e,t,n){let r=cy(t,e);jb(e[ot],r,n)}function ir(e,t,n){let r=Dy()+e,i=Le();return i[r]===on?k_(i,r,n?t.call(n):t()):N_(i,r)}var ic=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},js=(()=>{class e{compileModuleSync(n){return new tc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Yf(n),o=sp(i.declarations).reduce((s,l)=>{let d=Yn(l);return d&&s.push(new Br(d)),s},[]);return new ic(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tE=(()=>{class e{zone=re(Ge);changeDetectionScheduler=re(Lr);applicationRef=re(er);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Ge(je(ce({},rE()),{scheduleInRootZone:n})),[{provide:Ge,useFactory:e},{provide:Ii,multi:!0,useFactory:()=>{let r=re(tE,{optional:!0});return()=>r.initialize()}},{provide:Ii,multi:!0,useFactory:()=>{let r=re(iE);return()=>{r.initialize()}}},t===!0?{provide:Bh,useValue:!0}:[],{provide:Vh,useValue:n??Lh}]}function rE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var iE=(()=>{class e{subscription=new We;initialized=!1;zone=re(Ge);pendingTasks=re(qr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var oE=(()=>{class e{appRef=re(er);taskService=re(qr);ngZone=re(Ge);zonelessEnabled=re(jh);tracing=re(Kr,{optional:!0});disableScheduling=re(Bh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new We;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ys):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(re(Vh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?of:Uh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ys+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,of(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sE(){return typeof $localize<"u"&&$localize.locale||Ss}var su=new me("",{providedIn:"root",factory:()=>re(su,Se.Optional|Se.SkipSelf)||sE()});var oc=new me(""),aE=new me("");function Di(e){return!e.moduleRef}function lE(e){let t=Di(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Ge);return n.run(()=>{Di(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(en,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Di(e)){let o=()=>t.destroy(),s=e.platformInjector.get(oc);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(oc);s.add(o),e.moduleRef.onDestroy(()=>{ts(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return uE(r,n,()=>{let o=t.get(Kp);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(su,Ss);if(X_(s||Ss),!t.get(aE,!0))return Di(e)?t.get(er):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Di(e)){let d=t.get(er);return e.rootComponent!==void 0&&d.bootstrap(e.rootComponent),d}else return cE(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function cE(e,t){let n=e.injector.get(er);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new fe(-403,!1);t.push(e)}function uE(e,t,n){try{let r=n();return Hi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var ns=null;function dE(e=[],t){return Ht.create({name:t,providers:[{provide:Ms,useValue:"platform"},{provide:oc,useValue:new Set([()=>ns=null])},...e]})}function fE(e=[]){if(ns)return ns;let t=dE(e);return ns=t,U_(),hE(t),t}function hE(e){let t=e.get(kc,null);Ft(e,()=>{t?.forEach(n=>n())})}var ti=(()=>{class e{static __NG_ELEMENT_ID__=pE}return e})();function pE(e){return gE(It(),Le(),(e&16)===16)}function gE(e,t,n){if($r(e)&&!n){let r=Jt(e.index,t);return new Ri(r,r)}else if(e.type&175){let r=t[Zt];return new Ri(r,t)}return null}var sc=class{constructor(){}supports(t){return Wp(t)}create(t){return new ac(t)}},mE=(e,t)=>t,ac=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||mE}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<If(r,i,o)?n:r,l=If(s,i,o),d=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=l-i,a=d-i;if(c!=a){for(let f=0;f<c;f++){let p=f<o.length?o[f]:o[f]=0,g=p+f;a<=g&&g<c&&(o[f]=p+1)}let u=s.previousIndex;o[u]=a-c}}l!==d&&t(s,l,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Wp(t))throw new fe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)o=t[l],s=this._trackByFn(l,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,l),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,R_(t,l=>{s=this._trackByFn(i,l),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,l,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,l,s,i)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new lc(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new As),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new As),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},lc=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},cc=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},As=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new cc,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function If(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Tf(){return new au([new sc])}var au=(()=>{class e{factories;static \u0275prov=he({token:e,providedIn:"root",factory:Tf});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Tf()),deps:[[e,new Uv,new Vv]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new fe(901,!1)}}return e})();function eg(e){Ve(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=fE(r),o=[nE({}),{provide:Lr,useExisting:oE},...n||[]],s=new Cs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return lE({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Ve(9)}}function zi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var Mf=class{[mr];constructor(t){this[mr]=t}destroy(){this[mr].destroy()}};function tg(e){let t=Yn(e);if(!t)return null;let n=new Br(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var et=new me("");var ig=null;function Sn(){return ig}function lu(e){ig??=e}var Wi=class{},Gi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>re(og),providedIn:"platform"})}return e})(),cu=new me(""),og=(()=>{class e extends Gi{_location;_history;_doc=re(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sn().getBaseHref(this._doc)}onPopState(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Bs(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function ng(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function zt(e){return e&&e[0]!=="?"?`?${e}`:e}var Wt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>re(Us),providedIn:"root"})}return e})(),Vs=new me(""),Us=(()=>{class e extends Wt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??re(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bs(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+zt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+zt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+zt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ye(Gi),ye(Vs,8))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nn=(()=>{class e{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=bE(ng(rg(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+zt(r))}normalize(n){return e.stripTrailingSlash(yE(this._basePath,rg(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=zt;static joinWithSlash=Bs;static stripTrailingSlash=ng;static \u0275fac=function(r){return new(r||e)(ye(Wt))};static \u0275prov=he({token:e,factory:()=>vE(),providedIn:"root"})}return e})();function vE(){return new Nn(ye(Wt))}function yE(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function rg(e){return e.replace(/\/index.html$/,"")}function bE(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var du=(()=>{class e extends Wt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Bs(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+zt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+zt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ye(Gi),ye(Vs,8))};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})();var uu=/\s+/,sg=[],fu=(()=>{class e{_ngEl;_renderer;initialClasses=sg;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(uu):sg}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(uu):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(uu).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(qe(rn),qe(Zr))};static \u0275dir=Dn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Hs=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sn=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hs(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,s),ag(l,i)}});for(let i=0,o=r.length;i<o;i++){let l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ag(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(qe(kn),qe(Jn),qe(au))};static \u0275dir=Dn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function ag(e,t){e.context.$implicit=t.item}var qi=(()=>{class e{_viewContainer;_context=new $s;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lg(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lg(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(qe(kn),qe(Jn))};static \u0275dir=Dn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),$s=class{$implicit=null;ngIf=null};function lg(e,t){if(e&&!e.createEmbeddedView)throw new fe(2020,!1)}var ct=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Qr({type:e});static \u0275inj=Ur({})}return e})();function hu(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var pu="browser",cg="server";function zs(e){return e===cg}var Yi=class{};var ug=(()=>{class e{static \u0275prov=he({token:e,providedIn:"root",factory:()=>new gu(re(et),window)})}return e})(),gu=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=_E(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function _E(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var qs=new me(""),bu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new fe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ye(qs),ye(Ge))};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})(),Xi=class{_doc;constructor(t){this._doc=t}manager},Ws="ng-app-id";function dg(e){for(let t of e)t.remove()}function fg(e,t){let n=t.createElement("style");return n.textContent=e,n}function EE(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Ws}="${t}"],link[${Ws}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Ws),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function vu(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var _u=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=zs(o),EE(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,fg);r?.forEach(i=>this.addUsage(i,this.external,vu))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(dg(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])dg(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,fg(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,vu(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ws,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ye(et),ye(Pc),ye(Nc,8),ye(Xr))};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})(),mu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Eu=/%COMP%/g;var pg="%COMP%",wE=`_nghost-${pg}`,DE=`_ngcontent-${pg}`,CE=!0,SE=new me("",{providedIn:"root",factory:()=>CE});function AE(e){return DE.replace(Eu,e)}function IE(e){return wE.replace(Eu,e)}function gg(e,t){return t.map(n=>n.replace(Eu,e))}var wu=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,l,d,c=null,a=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=d,this.nonce=c,this.tracingService=a,this.platformIsServer=zs(l),this.defaultRenderer=new Ki(n,s,d,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===tn.ShadowDom&&(r=je(ce({},r),{encapsulation:tn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Gs?i.applyToHost(n):i instanceof Zi&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,l=this.ngZone,d=this.eventManager,c=this.sharedStylesHost,a=this.removeStylesOnCompDestroy,u=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case tn.Emulated:o=new Gs(d,c,r,this.appId,a,s,l,u,f);break;case tn.ShadowDom:return new yu(d,c,n,r,s,l,this.nonce,u,f);default:o=new Zi(d,c,r,a,s,l,u,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ye(bu),ye(_u),ye(Pc),ye(SE),ye(et),ye(Xr),ye(Ge),ye(Nc),ye(Kr,8))};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})(),Ki=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(mu[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(hg(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(hg(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new fe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=mu[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=mu[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(nr.DashCase|nr.Important)?t.style.setProperty(n,r,i&nr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&nr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Sn().getGlobalEventTarget(this.doc,t),!t))throw new fe(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function hg(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var yu=class extends Ki{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,l,d,c){super(t,o,s,d,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let a=i.styles;a=gg(i.id,a);for(let f of a){let p=document.createElement("style");l&&p.setAttribute("nonce",l),p.textContent=f,this.shadowRoot.appendChild(p)}let u=i.getExternalStyles?.();if(u)for(let f of u){let p=vu(f,o);l&&p.setAttribute("nonce",l),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zi=class extends Ki{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,l,d,c){super(t,o,s,l,d),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let a=r.styles;this.styles=c?gg(c,a):a,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gs=class extends Zi{contentAttr;hostAttr;constructor(t,n,r,i,o,s,l,d,c){let a=i+"-"+r.id;super(t,n,r,o,s,l,d,c,a),this.contentAttr=AE(a),this.hostAttr=IE(a)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ys=class e extends Wi{supportsDOMEvents=!0;static makeCurrent(){lu(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=TE();return n==null?null:ME(n)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hu(document.cookie,t)}},Qi=null;function TE(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}function ME(e){return new URL(e,document.baseURI).pathname}var xE=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})(),vg=(()=>{class e extends Xi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(ye(et))};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})(),mg=["alt","control","meta","shift"],RE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},yg=(()=>{class e extends Xi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),l=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(n,s.domEventName,l,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),mg.forEach(c=>{let a=r.indexOf(c);a>-1&&(r.splice(a,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let d={};return d.domEventName=i,d.fullKey=s,d}static matchEventFullKeyCode(n,r){let i=RE[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mg.forEach(s=>{if(s!==i){let l=PE[s];l(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(ye(et))};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})();function Du(e,t){return eg(ce({rootComponent:e},kE(t)))}function kE(e){return{appProviders:[...jE,...e?.providers??[]],platformProviders:LE}}function NE(){Ys.makeCurrent()}function OE(){return new en}function FE(){return Kh(document),document}var LE=[{provide:Xr,useValue:pu},{provide:kc,useValue:NE,multi:!0},{provide:et,useFactory:FE}];var jE=[{provide:Ms,useValue:"root"},{provide:en,useFactory:OE},{provide:qs,useClass:vg,multi:!0,deps:[et]},{provide:qs,useClass:yg,multi:!0,deps:[et]},wu,_u,bu,{provide:jr,useExisting:wu},{provide:Yi,useClass:xE},[]];var bg=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(ye(et))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var De="primary",fo=Symbol("RouteTitle"),Tu=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ar(e){return new Tu(e)}function Ig(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],l=e[o];if(s[0]===":")i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function VE(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!an(e[n],t[n]))return!1;return!0}function an(e,t){let n=e?Mu(e):void 0,r=t?Mu(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Tg(e[i],t[i]))return!1;return!0}function Mu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Tg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Mg(e){return e.length>0?e[e.length-1]:null}function Bn(e){return al(e)?e:Hi(e)?$e(Promise.resolve(e)):ve(e)}var UE={exact:Rg,subset:Pg},xg={exact:HE,subset:$E,ignored:()=>!0};function _g(e,t,n){return UE[n.paths](e.root,t.root,n.matrixParams)&&xg[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function HE(e,t){return an(e,t)}function Rg(e,t,n){if(!or(e.segments,t.segments)||!Zs(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Rg(e.children[r],t.children[r],n))return!1;return!0}function $E(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Tg(e[n],t[n]))}function Pg(e,t,n){return kg(e,t,t.segments,n)}function kg(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!or(i,n)||t.hasChildren()||!Zs(i,n,r))}else if(e.segments.length===n.length){if(!or(e.segments,n)||!Zs(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Pg(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!or(e.segments,i)||!Zs(e.segments,i,r)||!e.children[De]?!1:kg(e.children[De],t,o,r)}}function Zs(e,t,n){return t.every((r,i)=>xg[n](e[i].parameters,r.parameters))}var cn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Oe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ar(this.queryParams),this._queryParamMap}toString(){return GE.serialize(this)}},Oe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qs(this)}},On=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ar(this.parameters),this._parameterMap}toString(){return Og(this)}};function zE(e,t){return or(e,t)&&e.every((n,r)=>an(n.parameters,t[r].parameters))}function or(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function WE(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===De&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==De&&(n=n.concat(t(i,r)))}),n}var lr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>new Fn,providedIn:"root"})}return e})(),Fn=class{parse(t){let n=new Ru(t);return new cn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ji(t.root,!0)}`,r=XE(t.queryParams),i=typeof t.fragment=="string"?`#${qE(t.fragment)}`:"";return`${n}${r}${i}`}},GE=new Fn;function Qs(e){return e.segments.map(t=>Og(t)).join("/")}function Ji(e,t){if(!e.hasChildren())return Qs(e);if(t){let n=e.children[De]?Ji(e.children[De],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==De&&r.push(`${i}:${Ji(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=WE(e,(r,i)=>i===De?[Ji(e.children[De],!1)]:[`${i}:${Ji(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[De]!=null?`${Qs(e)}/${n[0]}`:`${Qs(e)}/(${n.join("//")})`}}function Ng(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xs(e){return Ng(e).replace(/%3B/gi,";")}function qE(e){return encodeURI(e)}function xu(e){return Ng(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Js(e){return decodeURIComponent(e)}function Eg(e){return Js(e.replace(/\+/g,"%20"))}function Og(e){return`${xu(e.path)}${YE(e.parameters)}`}function YE(e){return Object.entries(e).map(([t,n])=>`;${xu(t)}=${xu(n)}`).join("")}function XE(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xs(n)}=${Xs(i)}`).join("&"):`${Xs(n)}=${Xs(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var KE=/^[^\/()?;#]+/;function Cu(e){let t=e.match(KE);return t?t[0]:""}var ZE=/^[^\/()?;=#]+/;function QE(e){let t=e.match(ZE);return t?t[0]:""}var JE=/^[^=?&#]+/;function ew(e){let t=e.match(JE);return t?t[0]:""}var tw=/^[^&#]+/;function nw(e){let t=e.match(tw);return t?t[0]:""}var Ru=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[De]=new Oe(t,n)),r}parseSegment(){let t=Cu(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(t),new On(Js(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=QE(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Cu(this.remaining);i&&(r=i,this.capture(r))}t[Js(n)]=Js(r)}parseQueryParam(t){let n=ew(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nw(this.remaining);s&&(r=s,this.capture(r))}let i=Eg(n),o=Eg(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cu(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new fe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=De);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[De]:new Oe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new fe(4011,!1)}};function Fg(e){return e.segments.length>0?new Oe([],{[De]:e}):e}function Lg(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Lg(i);if(r===De&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))t[s]=l;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Oe(e.segments,t);return rw(n)}function rw(e){if(e.numberOfChildren===1&&e.children[De]){let t=e.children[De];return new Oe(e.segments.concat(t.segments),t.children)}return e}function Ln(e){return e instanceof cn}function jg(e,t,n=null,r=null){let i=Bg(e);return Vg(i,t,n,r)}function Bg(e){let t;function n(o){let s={};for(let d of o.children){let c=n(d);s[d.outlet]=c}let l=new Oe(o.url,s);return o===e&&(t=l),l}let r=n(e.root),i=Fg(r);return t??i}function Vg(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Su(i,i,i,n,r);let o=iw(t);if(o.toRoot())return Su(i,i,new Oe([],{}),n,r);let s=ow(o,i,e),l=s.processChildren?to(s.segmentGroup,s.index,o.commands):Hg(s.segmentGroup,s.index,o.commands);return Su(i,s.segmentGroup,l,n,r)}function ta(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ro(e){return typeof e=="object"&&e!=null&&e.outlets}function Su(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([d,c])=>{o[d]=Array.isArray(c)?c.map(a=>`${a}`):`${c}`});let s;e===t?s=n:s=Ug(e,t,n);let l=Fg(Lg(s));return new cn(l,o,i)}function Ug(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Ug(o,t,n)}),new Oe(e.segments,r)}var na=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ta(r[0]))throw new fe(4003,!1);let i=r.find(ro);if(i&&i!==Mg(r))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iw(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new na(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,c])=>{l[d]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?t++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new na(n,t,r)}var oi=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function ow(e,t,n){if(e.isAbsolute)return new oi(t,!0,0);if(!n)return new oi(t,!1,NaN);if(n.parent===null)return new oi(n,!0,0);let r=ta(e.commands[0])?0:1,i=n.segments.length-1+r;return sw(n,i,e.numberOfDoubleDots)}function sw(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new fe(4005,!1);i=r.segments.length}return new oi(r,!1,i-o)}function aw(e){return ro(e[0])?e[0].outlets:{[De]:e}}function Hg(e,t,n){if(e??=new Oe([],{}),e.segments.length===0&&e.hasChildren())return to(e,t,n);let r=lw(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Oe(e.segments.slice(0,r.pathIndex),{});return o.children[De]=new Oe(e.segments.slice(r.pathIndex),e.children),to(o,0,i)}else return r.match&&i.length===0?new Oe(e.segments,{}):r.match&&!e.hasChildren()?Pu(e,t,n):r.match?to(e,0,i):Pu(e,t,n)}function to(e,t,n){if(n.length===0)return new Oe(e.segments,{});{let r=aw(n),i={};if(Object.keys(r).some(o=>o!==De)&&e.children[De]&&e.numberOfChildren===1&&e.children[De].segments.length===0){let o=to(e.children[De],t,n);return new Oe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Hg(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(e.segments,i)}}function lw(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],l=n[r];if(ro(l))break;let d=`${l}`,c=r<n.length-1?n[r+1]:null;if(i>0&&d===void 0)break;if(d&&c&&typeof c=="object"&&c.outlets===void 0){if(!Dg(d,c,s))return o;r+=2}else{if(!Dg(d,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Pu(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ro(o)){let d=cw(o.outlets);return new Oe(r,d)}if(i===0&&ta(n[0])){let d=e.segments[t];r.push(new On(d.path,wg(n[0]))),i++;continue}let s=ro(o)?o.outlets[De]:`${o}`,l=i<n.length-1?n[i+1]:null;s&&l&&ta(l)?(r.push(new On(s,wg(l))),i+=2):(r.push(new On(s,{})),i++)}return new Oe(r,{})}function cw(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Pu(new Oe([],{}),0,r))}),t}function wg(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Dg(e,t,n){return e==n.path&&an(t,n.parameters)}var ea="imperative",Ze=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ze||{}),xt=class{id;url;constructor(t,n){this.id=t,this.url=n}},jn=class extends xt{type=Ze.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rt=class extends xt{urlAfterRedirects;type=Ze.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(bt||{}),ai=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ai||{}),ln=class extends xt{reason;code;type=Ze.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},un=class extends xt{reason;code;type=Ze.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},li=class extends xt{error;target;type=Ze.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},io=class extends xt{urlAfterRedirects;state;type=Ze.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ra=class extends xt{urlAfterRedirects;state;type=Ze.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ia=class extends xt{urlAfterRedirects;state;shouldActivate;type=Ze.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},oa=class extends xt{urlAfterRedirects;state;type=Ze.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sa=class extends xt{urlAfterRedirects;state;type=Ze.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},aa=class{route;type=Ze.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},la=class{route;type=Ze.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ca=class{snapshot;type=Ze.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ua=class{snapshot;type=Ze.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},da=class{snapshot;type=Ze.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fa=class{snapshot;type=Ze.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ci=class{routerEvent;position;anchor;type=Ze.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},oo=class{},ui=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function uw(e,t){return e.providers&&!e._injector&&(e._injector=Ui(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Gt(e){return e.outlet||De}function dw(e,t){let n=e.filter(r=>Gt(r)===t);return n.push(...e.filter(r=>Gt(r)!==t)),n}function ho(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ha=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ho(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new cr(this.rootInjector)}},cr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ha(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(ye(vt))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pa=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=ku(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=ku(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Nu(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Nu(t,this._root).map(n=>n.value)}};function ku(e,t){if(e===t.value)return t;for(let n of t.children){let r=ku(e,n);if(r)return r}return null}function Nu(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Nu(e,n);if(r.length)return r.unshift(t),r}return[]}var Mt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ii(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var so=class extends pa{snapshot;constructor(t,n){super(t),this.snapshot=n,Hu(this,t)}toString(){return this.snapshot.toString()}};function $g(e){let t=fw(e),n=new rt([new On("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),l=new dn(n,r,o,s,i,De,e,t.root);return l.snapshot=t.root,new so(new Mt(l,[]),t)}function fw(e){let t={},n={},r={},i="",o=new sr([],t,r,i,n,De,e,null,{});return new ao("",new Mt(o,[]))}var dn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,l,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ke(c=>c[fo]))??ve(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(t=>ar(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(t=>ar(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ga(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:ce(ce({},t.params),e.params),data:ce(ce({},t.data),e.data),resolve:ce(ce(ce(ce({},e.data),t.data),i?.data),e._resolvedData)}:r={params:ce({},e.params),data:ce({},e.data),resolve:ce(ce({},e.data),e._resolvedData??{})},i&&Wg(i)&&(r.resolve[fo]=i.title),r}var sr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fo]}constructor(t,n,r,i,o,s,l,d,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ar(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ar(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ao=class extends pa{url;constructor(t,n){super(n),this.url=t,Hu(this,n)}toString(){return zg(this._root)}};function Hu(e,t){t.value._routerState=e,t.children.forEach(n=>Hu(e,n))}function zg(e){let t=e.children.length>0?` { ${e.children.map(zg).join(", ")} } `:"";return`${e.value}${t}`}function Au(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,an(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),an(t.params,n.params)||e.paramsSubject.next(n.params),VE(t.url,n.url)||e.urlSubject.next(n.url),an(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ou(e,t){let n=an(e.params,t.params)&&zE(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Ou(e.parent,t.parent))}function Wg(e){return typeof e.title=="string"||e.title===null}var Gg=new me(""),po=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new ft;deactivateEvents=new ft;attachEvents=new ft;detachEvents=new ft;routerOutletData=$h(void 0);parentContexts=re(cr);location=re(kn);changeDetector=re(ti);inputBinder=re(go,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Fu(n,l,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Dn({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[zr]})}return e})(),Fu=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===dn?this.route:t===cr?this.childContexts:t===Gg?this.outletData:this.parent.get(t,n)}},go=new me(""),$u=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ei([r.queryParams,r.params,r.data]).pipe(Pt(([o,s,l],d)=>(l=ce(ce(ce({},o),s),l),d===0?ve(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=tg(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of s.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})();function hw(e,t,n){let r=lo(e,t._root,n?n._root:void 0);return new so(r,t)}function lo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=pw(e,t,n);return new Mt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>lo(e,l)),s}}let r=gw(t.value),i=t.children.map(o=>lo(e,o));return new Mt(r,i)}}function pw(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return lo(e,r,i);return lo(e,r)})}function gw(e){return new dn(new rt(e.url),new rt(e.params),new rt(e.queryParams),new rt(e.fragment),new rt(e.data),e.outlet,e.component,e)}var di=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},qg="ngNavigationCancelingError";function ma(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ln(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Yg(!1,bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Yg(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[qg]=!0,n.cancellationCode=t,n}function mw(e){return Xg(e)&&Ln(e.url)}function Xg(e){return!!e&&e[qg]}var vw=(e,t,n,r)=>ke(i=>(new Lu(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Lu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Au(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=ii(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ii(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ii(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=ii(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fa(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ua(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Au(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),Au(l.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},va=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},si=class{component;route;constructor(t,n){this.component=t,this.route=n}};function yw(e,t,n){let r=e._root,i=t?t._root:null;return eo(r,i,n,[r.value])}function bw(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function hi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Lf(e)?e:t.get(e):r}function eo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ii(t);return e.children.forEach(s=>{_w(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>no(l,n.getContext(s),i)),i}function _w(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=Ew(s,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new va(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?eo(e,t,l?l.children:null,r,i):eo(e,t,n,r,i),d&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new si(l.outlet.component,s))}else s&&no(t,l,i),i.canActivateChecks.push(new va(r)),o.component?eo(e,null,l?l.children:null,r,i):eo(e,null,n,r,i);return i}function Ew(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!or(e.url,t.url);case"pathParamsOrQueryParamsChange":return!or(e.url,t.url)||!an(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ou(e,t)||!an(e.queryParams,t.queryParams);case"paramsChange":default:return!Ou(e,t)}}function no(e,t,n){let r=ii(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?no(s,t.children.getContext(o),n):no(s,null,n):no(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new si(t.outlet.component,i)):n.canDeactivateChecks.push(new si(null,i)):n.canDeactivateChecks.push(new si(null,i))}function mo(e){return typeof e=="function"}function ww(e){return typeof e=="boolean"}function Dw(e){return e&&mo(e.canLoad)}function Cw(e){return e&&mo(e.canActivate)}function Sw(e){return e&&mo(e.canActivateChild)}function Aw(e){return e&&mo(e.canDeactivate)}function Iw(e){return e&&mo(e.canMatch)}function Kg(e){return e instanceof pn||e?.name==="EmptyError"}var Ks=Symbol("INITIAL_VALUE");function fi(){return Pt(e=>Ei(e.map(t=>t.pipe(mn(1),ul(Ks)))).pipe(ke(t=>{for(let n of t)if(n!==!0){if(n===Ks)return Ks;if(n===!1||Tw(n))return n}return!0}),Ct(t=>t!==Ks),mn(1)))}function Tw(e){return Ln(e)||e instanceof di}function Mw(e,t){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ve(je(ce({},n),{guardsResult:!0})):xw(s,r,i,e).pipe(ze(l=>l&&ww(l)?Rw(r,o,e,t):ve(l)),ke(l=>je(ce({},n),{guardsResult:l})))})}function xw(e,t,n,r){return $e(e).pipe(ze(i=>Fw(i.component,i.route,n,t,r)),vn(i=>i!==!0,!0))}function Rw(e,t,n,r){return $e(t).pipe(Mn(i=>Sr(kw(i.route.parent,r),Pw(i.route,r),Ow(e,i.path,n),Nw(e,i.route,n))),vn(i=>i!==!0,!0))}function Pw(e,t){return e!==null&&t&&t(new da(e)),ve(!0)}function kw(e,t){return e!==null&&t&&t(new ca(e)),ve(!0)}function Nw(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return ve(!0);let i=r.map(o=>qo(()=>{let s=ho(t)??n,l=hi(o,s),d=Cw(l)?l.canActivate(t,e):Ft(s,()=>l(t,e));return Bn(d).pipe(vn())}));return ve(i).pipe(fi())}function Ow(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>bw(s)).filter(s=>s!==null).map(s=>qo(()=>{let l=s.guards.map(d=>{let c=ho(s.node)??n,a=hi(d,c),u=Sw(a)?a.canActivateChild(r,e):Ft(c,()=>a(r,e));return Bn(u).pipe(vn())});return ve(l).pipe(fi())}));return ve(o).pipe(fi())}function Fw(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ve(!0);let s=o.map(l=>{let d=ho(t)??i,c=hi(l,d),a=Aw(c)?c.canDeactivate(e,t,n,r):Ft(d,()=>c(e,t,n,r));return Bn(a).pipe(vn())});return ve(s).pipe(fi())}function Lw(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return ve(!0);let o=i.map(s=>{let l=hi(s,e),d=Dw(l)?l.canLoad(t,n):Ft(e,()=>l(t,n));return Bn(d)});return ve(o).pipe(fi(),Zg(r))}function Zg(e){return rl(it(t=>{if(typeof t!="boolean")throw ma(e,t)}),ke(t=>t===!0))}function jw(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return ve(!0);let o=i.map(s=>{let l=hi(s,e),d=Iw(l)?l.canMatch(t,n):Ft(e,()=>l(t,n));return Bn(d)});return ve(o).pipe(fi(),Zg(r))}var co=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},uo=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ri(e){return Cr(new co(e))}function Bw(e){return Cr(new fe(4e3,!1))}function Vw(e){return Cr(Yg(!1,bt.GuardRejected))}var ju=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ve(r);if(i.numberOfChildren>1||!i.children[De])return Bw(`${t.redirectTo}`);i=i.children[De]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let l=n,{queryParams:d,fragment:c,routeConfig:a,url:u,outlet:f,params:p,data:g,title:h}=i,v=Ft(o,()=>l({params:p,data:g,queryParams:d,fragment:c,routeConfig:a,url:u,outlet:f,title:h}));if(v instanceof cn)throw new uo(v);n=v}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new uo(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new cn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(t,d,r,i)}),new Oe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new fe(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Bu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uw(e,t,n,r,i){let o=Qg(e,t,n);return o.matched?(r=uw(t,r),jw(r,t,n,i).pipe(ke(s=>s===!0?o:ce({},Bu)))):ve(o)}function Qg(e,t,n){if(t.path==="**")return Hw(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?ce({},Bu):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Ig)(n,e,t);if(!i)return ce({},Bu);let o={};Object.entries(i.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let s=i.consumed.length>0?ce(ce({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Hw(e){return{matched:!0,parameters:e.length>0?Mg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Cg(e,t,n,r){return n.length>0&&Ww(e,n,r)?{segmentGroup:new Oe(t,zw(r,new Oe(n,e.children))),slicedSegments:[]}:n.length===0&&Gw(e,n,r)?{segmentGroup:new Oe(e.segments,$w(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Oe(e.segments,e.children),slicedSegments:n}}function $w(e,t,n,r){let i={};for(let o of n)if(ba(e,t,o)&&!r[Gt(o)]){let s=new Oe([],{});i[Gt(o)]=s}return ce(ce({},r),i)}function zw(e,t){let n={};n[De]=t;for(let r of e)if(r.path===""&&Gt(r)!==De){let i=new Oe([],{});n[Gt(r)]=i}return n}function Ww(e,t,n){return n.some(r=>ba(e,t,r)&&Gt(r)!==De)}function Gw(e,t,n){return n.some(r=>ba(e,t,r))}function ba(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qw(e,t,n){return t.length===0&&!e.children[n]}var Vu=class{};function Yw(e,t,n,r,i,o,s="emptyOnly"){return new Uu(e,t,n,r,i,s,o).recognize()}var Xw=31,Uu=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,l){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new ju(this.urlSerializer,this.urlTree)}noMatchError(t){return new fe(4002,`'${t.segmentGroup}'`)}recognize(){let t=Cg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ke(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),o=new ao("",i),s=jg(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new sr([],Object.freeze({}),Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,De,n).pipe(ke(r=>({children:r,rootSnapshot:n})),gn(r=>{if(r instanceof uo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof co?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(ke(s=>s instanceof Mt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return $e(o).pipe(Mn(s=>{let l=r.children[s],d=dw(n,s);return this.processSegmentGroup(t,d,l,s,i)}),cl((s,l)=>(s.push(...l),s)),xn(null),ll(),ze(s=>{if(s===null)return ri(r);let l=Jg(s);return Kw(l),ve(l)}))}processSegment(t,n,r,i,o,s,l){return $e(n).pipe(Mn(d=>this.processSegmentAgainstRoute(d._injector??t,n,d,r,i,o,s,l).pipe(gn(c=>{if(c instanceof co)return ve(null);throw c}))),vn(d=>!!d),gn(d=>{if(Kg(d))return qw(r,i,o)?ve(new Vu):ri(r);throw d}))}processSegmentAgainstRoute(t,n,r,i,o,s,l,d){return Gt(r)!==s&&(s===De||!ba(i,o,r))?ri(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,d):ri(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,l){let{matched:d,parameters:c,consumedSegments:a,positionalParamSegments:u,remainingSegments:f}=Qg(n,i,o);if(!d)return ri(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xw&&(this.allowRedirects=!1));let p=new sr(o,c,Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,Sg(i),Gt(i),i.component??i._loadedComponent??null,i,Ag(i)),g=ga(p,l,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let h=this.applyRedirects.applyRedirectCommands(a,i.redirectTo,u,p,t);return this.applyRedirects.lineralizeSegments(i,h).pipe(ze(v=>this.processSegment(t,r,n,v.concat(f),s,!1,l)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let l=Uw(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),l.pipe(Pt(d=>d.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Pt(({routes:c})=>{let a=r._loadedInjector??t,{parameters:u,consumedSegments:f,remainingSegments:p}=d,g=new sr(f,u,Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,Sg(r),Gt(r),r.component??r._loadedComponent??null,r,Ag(r)),h=ga(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(h.params),g.data=Object.freeze(h.data);let{segmentGroup:v,slicedSegments:y}=Cg(n,f,p,c);if(y.length===0&&v.hasChildren())return this.processChildren(a,c,v,g).pipe(ke(M=>new Mt(g,M)));if(c.length===0&&y.length===0)return ve(new Mt(g,[]));let w=Gt(r)===o;return this.processSegment(a,c,v,y,w?De:o,!0,g).pipe(ke(M=>new Mt(g,M instanceof Mt?[M]:[])))}))):ri(n)))}getChildConfig(t,n,r){return n.children?ve({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):Lw(t,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(t,n).pipe(it(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Vw(n))):ve({routes:[],injector:t})}};function Kw(e){e.sort((t,n)=>t.value.outlet===De?-1:n.value.outlet===De?1:t.value.outlet.localeCompare(n.value.outlet))}function Zw(e){let t=e.value.routeConfig;return t&&t.path===""}function Jg(e){let t=[],n=new Set;for(let r of e){if(!Zw(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Jg(r.children);t.push(new Mt(r.value,i))}return t.filter(r=>!n.has(r))}function Sg(e){return e.data||{}}function Ag(e){return e.resolve||{}}function Qw(e,t,n,r,i,o){return ze(s=>Yw(e,t,n,r,s.extractedUrl,i,o).pipe(ke(({state:l,tree:d})=>je(ce({},s),{targetSnapshot:l,urlAfterRedirects:d}))))}function Jw(e,t){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ve(n);let o=new Set(i.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let c of em(d))s.add(c);let l=0;return $e(s).pipe(Mn(d=>o.has(d)?eD(d,r,e,t):(d.data=ga(d,d.parent,e).resolve,ve(void 0))),it(()=>l++),Ar(1),ze(d=>l===s.size?ve(n):gt))})}function em(e){let t=e.children.map(n=>em(n)).flat();return[e,...t]}function eD(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Wg(i)&&(o[fo]=i.title),tD(o,e,t,r).pipe(ke(s=>(e._resolvedData=s,e.data=ga(e,e.parent,n).resolve,null)))}function tD(e,t,n,r){let i=Mu(e);if(i.length===0)return ve({});let o={};return $e(i).pipe(ze(s=>nD(e[s],t,n,r).pipe(vn(),it(l=>{if(l instanceof di)throw ma(new Fn,l);o[s]=l}))),Ar(1),ke(()=>o),gn(s=>Kg(s)?gt:Cr(s)))}function nD(e,t,n,r){let i=ho(t)??r,o=hi(e,i),s=o.resolve?o.resolve(t,n):Ft(i,()=>o(t,n));return Bn(s)}function Iu(e){return Pt(t=>{let n=e(t);return n?$e(n).pipe(ke(()=>t)):ve(t)})}var zu=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===De);return r}getResolvedTitleForRoute(n){return n.data[fo]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>re(tm),providedIn:"root"})}return e})(),tm=(()=>{class e extends zu{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(ye(bg))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ur=new me("",{providedIn:"root",factory:()=>({})}),Wu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ye({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ge(0,"router-outlet")},dependencies:[po],encapsulation:2})}return e})();function Gu(e){let t=e.children&&e.children.map(Gu),n=t?je(ce({},e),{children:t}):ce({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=Wu),n}var dr=new me(""),_a=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=re(js);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Bn(n.loadComponent()).pipe(ke(rm),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),wi(()=>{this.componentLoaders.delete(n)})),i=new Dr(r,()=>new Ke).pipe(wr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=nm(r,this.compiler,n,this.onLoadEndListener).pipe(wi(()=>{this.childrenLoaders.delete(r)})),s=new Dr(o,()=>new Ke).pipe(wr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nm(e,t,n,r){return Bn(e.loadChildren()).pipe(ke(rm),ze(i=>i instanceof eu||Array.isArray(i)?ve(i):$e(t.compileModuleAsync(i))),ke(i=>{r&&r(e);let o,s,l=!1;return Array.isArray(i)?(s=i,l=!0):(o=i.create(n).injector,s=o.get(dr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Gu),injector:o}}))}function rD(e){return e&&typeof e=="object"&&"default"in e}function rm(e){return rD(e)?e.default:e}var Ea=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>re(iD),providedIn:"root"})}return e})(),iD=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qu=new me(""),Yu=new me("");function im(e,t,n){let r=e.get(Yu),i=e.get(et);return e.get(Ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),l=i.startViewTransition(()=>(o(),oD(e))),{onViewTransitionCreated:d}=r;return d&&Ft(e,()=>d({transition:l,from:t,to:n})),s})}function oD(e){return new Promise(t=>{Fc({read:()=>setTimeout(t)},{injector:e})})}var Xu=new me(""),wa=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ke;transitionAbortSubject=new Ke;configLoader=re(_a);environmentInjector=re(vt);destroyRef=re(ji);urlSerializer=re(lr);rootContexts=re(cr);location=re(Nn);inputBindingEnabled=re(go,{optional:!0})!==null;titleStrategy=re(zu);options=re(ur,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=re(Ea);createViewTransition=re(qu,{optional:!0});navigationErrorHandler=re(Xu,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ve(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new aa(i)),r=i=>this.events.next(new la(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(je(ce({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new rt(null),this.transitions.pipe(Ct(r=>r!==null),Pt(r=>{let i=!1,o=!1;return ve(r).pipe(Pt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),gt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?je(ce({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&d!=="reload"){let c="";return this.events.next(new un(s.id,this.urlSerializer.serialize(s.rawUrl),c,ai.IgnoredSameUrlNavigation)),s.resolve(!1),gt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ve(s).pipe(Pt(c=>(this.events.next(new jn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?gt:Promise.resolve(c))),Qw(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),it(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=je(ce({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let a=new io(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:a,source:u,restoredState:f,extras:p}=s,g=new jn(c,this.urlSerializer.serialize(a),u,f);this.events.next(g);let h=$g(this.rootComponentType).snapshot;return this.currentTransition=r=je(ce({},s),{targetSnapshot:h,urlAfterRedirects:a,extras:je(ce({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=a,ve(r)}else{let c="";return this.events.next(new un(s.id,this.urlSerializer.serialize(s.extractedUrl),c,ai.IgnoredByUrlHandlingStrategy)),s.resolve(!1),gt}}),it(s=>{let l=new ra(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),ke(s=>(this.currentTransition=r=je(ce({},s),{guards:yw(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Mw(this.environmentInjector,s=>this.events.next(s)),it(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ma(this.urlSerializer,s.guardsResult);let l=new ia(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Ct(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",bt.GuardRejected),!1)),Iu(s=>{if(s.guards.canActivateChecks.length!==0)return ve(s).pipe(it(l=>{let d=new oa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Pt(l=>{let d=!1;return ve(l).pipe(Jw(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",bt.NoDataFromResolver)}}))}),it(l=>{let d=new sa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Iu(s=>{let l=d=>{let c=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(d.routeConfig).pipe(it(a=>{d.component=a}),ke(()=>{})));for(let a of d.children)c.push(...l(a));return c};return Ei(l(s.targetSnapshot.root)).pipe(xn(null),mn(1))}),Iu(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:s,targetSnapshot:l}=r,d=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return d?$e(d).pipe(ke(()=>r)):ve(r)}),ke(s=>{let l=hw(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=je(ce({},s),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,r}),it(()=>{this.events.next(new oo)}),vw(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),mn(1),it({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),dl(this.transitionAbortSubject.pipe(it(s=>{throw s}))),wi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),gn(s=>{if(this.destroyed)return r.resolve(!1),gt;if(o=!0,Xg(s))this.events.next(new ln(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),mw(s)?this.events.next(new ui(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let l=new li(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let d=Ft(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof di){let{message:c,cancellationCode:a}=ma(this.urlSerializer,d);this.events.next(new ln(r.id,this.urlSerializer.serialize(r.extractedUrl),c,a)),this.events.next(new ui(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return gt}))}))}cancelNavigationTransition(n,r,i){let o=new ln(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sD(e){return e!==ea}var om=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>re(aD),providedIn:"root"})}return e})(),ya=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},aD=(()=>{class e extends ya{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tc(e)))(i||e)}})();static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sm=(()=>{class e{urlSerializer=re(lr);options=re(ur,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=re(Nn);urlHandlingStrategy=re(Ea);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof cn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=$g(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:()=>re(lD),providedIn:"root"})}return e})(),lD=(()=>{class e extends sm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof jn?this.updateStateMemento():n instanceof un?this.commitTransition(r):n instanceof io?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof oo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ln&&(n.code===bt.GuardRejected||n.code===bt.NoDataFromResolver)?this.restoreHistory(r):n instanceof li?this.restoreHistory(r,!0):n instanceof Rt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let l=this.browserPageId,d=ce(ce({},s),this.generateNgRouterState(i,l));this.location.replaceState(n,"",d)}else{let l=ce(ce({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",l)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tc(e)))(i||e)}})();static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Da(e,t){e.events.pipe(Ct(n=>n instanceof Rt||n instanceof ln||n instanceof li||n instanceof un),ke(n=>n instanceof Rt||n instanceof un?0:(n instanceof ln?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?2:1),Ct(n=>n!==2),mn(1)).subscribe(()=>{t()})}var cD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=re(Gp);stateManager=re(sm);options=re(ur,{optional:!0})||{};pendingTasks=re(qr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=re(wa);urlSerializer=re(lr);location=re(Nn);urlHandlingStrategy=re(Ea);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=re(om);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=re(dr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!re(go,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new We;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ln&&r.code!==bt.Redirect&&r.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rt)this.navigated=!0;else if(r instanceof ui){let s=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),d=ce({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sD(i.source)},s);this.scheduleNavigation(l,ea,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fD(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let d=ce({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Gu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:d}=r,c=d?this.currentUrlTree.fragment:s,a=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":a=ce(ce({},this.currentUrlTree.queryParams),o);break;case"preserve":a=this.currentUrlTree.queryParams;break;default:a=o||null}a!==null&&(a=this.removeEmptyProps(a));let u;try{let f=i?i.snapshot:this.routerState.snapshot.root;u=Bg(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return Vg(u,n,a,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ln(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ea,null,r)}navigate(n,r={skipLocationChange:!1}){return dD(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=ce({},cD):r===!1?i=ce({},uD):i=r,Ln(n))return _g(this.currentUrlTree,n,i);let o=this.parseUrl(n);return _g(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,d,c;s?(l=s.resolve,d=s.reject,c=s.promise):c=new Promise((u,f)=>{l=u,d=f});let a=this.pendingTasks.add();return Da(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(a))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:d,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dD(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new fe(4008,!1)}function fD(e){return!(e instanceof oo)&&!(e instanceof ui)}var pi=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ke;constructor(n,r,i,o,s,l){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=l;let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Rt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ln(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:ip(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Ln(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(qe(qt),qe(dn),Mc("tabindex"),qe(Zr),qe(rn),qe(Wt))};static \u0275dir=Dn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Cn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&nu("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zi],replaceUrl:[2,"replaceUrl","replaceUrl",zi],routerLink:"routerLink"},features:[zr]})}return e})(),Zu=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ft;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof Rt&&this.update()})}ngAfterContentInit(){ve(this.links.changes,ve(null)).pipe(Tn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=$e(n).pipe(Tn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=hD(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(qe(qt),qe(rn),qe(Zr),qe(ti),qe(pi,8))};static \u0275dir=Dn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Qp(o,pi,5),r&2){let s;Fs(s=Ls())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[zr]})}return e})();function hD(e){return!!e.paths}var vo=class{};var am=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(n=>n instanceof Rt),Mn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ui(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return $e(i).pipe(Tn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=ve(null);let o=i.pipe(ze(s=>s===null?ve(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return $e([o,s]).pipe(Tn())}else return o})}static \u0275fac=function(r){return new(r||e)(ye(qt),ye(js),ye(vt),ye(vo),ye(_a))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lm=new me(""),pD=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Rt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof un&&n.code===ai.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ci&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ci(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){kp()};static \u0275prov=he({token:e,factory:e.\u0275fac})}return e})();function Qu(e,...t){return fc([{provide:dr,multi:!0,useValue:e},[],{provide:dn,useFactory:cm,deps:[qt]},{provide:Os,multi:!0,useFactory:um},t.map(n=>n.\u0275providers)])}function cm(e){return e.routerState.root}function yo(e,t){return{\u0275kind:e,\u0275providers:t}}function um(){let e=re(Ht);return t=>{let n=e.get(er);if(t!==n.components[0])return;let r=e.get(qt),i=e.get(dm);e.get(Ju)===1&&r.initialNavigation(),e.get(pm,null,Se.Optional)?.setUpPreloading(),e.get(lm,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dm=new me("",{factory:()=>new Ke}),Ju=new me("",{providedIn:"root",factory:()=>1});function fm(){let e=[{provide:Ju,useValue:0},tu(()=>{let t=re(Ht);return t.get(cu,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(qt),o=t.get(dm);Da(i,()=>{r(!0)}),t.get(wa).afterPreactivation=()=>(r(!0),o.closed?ve(void 0):o),i.initialNavigation()}))})];return yo(2,e)}function hm(){let e=[tu(()=>{re(qt).setUpLocationChangeListener()}),{provide:Ju,useValue:2}];return yo(3,e)}var pm=new me("");function gm(e){return yo(0,[{provide:pm,useExisting:am},{provide:vo,useExisting:e}])}function mm(){return yo(8,[$u,{provide:go,useExisting:$u}])}function vm(e){Vi("NgRouterViewTransitions");let t=[{provide:qu,useValue:im},{provide:Yu,useValue:ce({skipNextTransition:!!e?.skipInitialTransition},e)}];return yo(9,t)}var ym=[Nn,{provide:lr,useClass:Fn},qt,cr,{provide:dn,useFactory:cm,deps:[qt]},_a,[]],bo=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[ym,[],{provide:dr,multi:!0,useValue:n},[],r?.errorHandler?{provide:Xu,useValue:r.errorHandler}:[],{provide:ur,useValue:r||{}},r?.useHash?mD():vD(),gD(),r?.preloadingStrategy?gm(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yD(r):[],r?.bindToComponentInputs?mm().\u0275providers:[],r?.enableViewTransitions?vm().\u0275providers:[],bD()]}}static forChild(n){return{ngModule:e,providers:[{provide:dr,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Qr({type:e});static \u0275inj=Ur({})}return e})();function gD(){return{provide:lm,useFactory:()=>{let e=re(ug),t=re(Ge),n=re(ur),r=re(wa),i=re(lr);return n.scrollOffset&&e.setOffset(n.scrollOffset),new pD(i,r,e,t,n)}}}function mD(){return{provide:Wt,useClass:du}}function vD(){return{provide:Wt,useClass:Us}}function yD(e){return[e.initialNavigation==="disabled"?hm().\u0275providers:[],e.initialNavigation==="enabledBlocking"?fm().\u0275providers:[]]}var Ku=new me("");function bD(){return[{provide:Ku,useFactory:um},{provide:Os,multi:!0,useExisting:Ku}]}var _D=()=>["/about"],ED=()=>["/experience"],wD=()=>["/projects"],DD=()=>["/achievements"],CD=()=>["/resume"],SD=()=>["/contact"],Ca=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-Nav"]],decls:21,vars:12,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["id","navbarColor03",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(n,r){n&1&&(se(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),Ce(5,"About"),ae()(),se(6,"li",3)(7,"a",4),Ce(8,"Experience"),ae()(),se(9,"li",3)(10,"a",4),Ce(11,"Projects"),ae()(),se(12,"li",3)(13,"a",4),Ce(14,"Achivements"),ae()(),se(15,"li",3)(16,"a",4),Ce(17,"Resume"),ae()(),se(18,"li",3)(19,"a",4),Ce(20,"Contact"),ae()()()()()),n&2&&(be(4),Ne("routerLink",ir(6,_D)),be(3),Ne("routerLink",ir(7,ED)),be(3),Ne("routerLink",ir(8,wD)),be(3),Ne("routerLink",ir(9,DD)),be(3),Ne("routerLink",ir(10,CD)),be(3),Ne("routerLink",ir(11,SD)))},dependencies:[ct,bo,pi,Zu],styles:[".nav-link[_ngcontent-%COMP%]{font-family:Inter,sans-serif;text-decoration:none}"]})};var _t={profileUrl:"https://avatars.githubusercontent.com/u/33938427?s=460&u=8d75b0e5a475bc8cd6f94aa5612e2b86faff6207&v=4",userName:"Ganesh Guram",userJob:"Software Engineer",userLocation:"Hyderbad,India,500008",userEmail:"gk4309303@gmail.com",userDateOfBirth:"31/10/1999",userAddress:"Hyderbad,India,500008.",userPhone:"+91 8309600944",aboutMe:"Ganesh Guram, A passionate developer with 3+ years of experience designing, developing, and delivering innovative software solutions. Proven adaptability to emerging technologies and a track record of providing cutting-edge tools to solve complex challenges. Recognized as a reliable leader committed to driving results and advancing organizational objectives."},_m=["Java","Python","Angular","Data Structures & Algorithms","Amazon Web Services(AWS)","Javascript","Spring Boot","MySql","MongoDB","Deep Learning","Android Application Development","Devops"],Em=[{company:"DBS Tech India",rank:"Software Engineer",Start_Date:"15/08/2022",End_Date:"Present",description:["Designed a high-performance Spring Boot Document Viewer, collaborating with stakeholders to support all file types(including office files), serving 10K+ documents daily from 3M+ processed.","Architected an Archival Framework for IBPM using stored procedures, optimizing 80+ transaction tables and reducing app load time by 35% with adaptability to evolving needs.","Deployed a rule engine for business processes, leveraging communication skills to align with business needs, processing 3M+ onboarding applications.","Enhanced CI/CD pipelines through problem-solving, automating password rotation and security checks, reducing vulnerabilities and streamlining credential management.","Led Spring Boot and JBoss upgrades with strong leadership, cutting downtime by 20% and boosting performance by 30%, saving 10 hours of manual work weekly."]},{company:"Cognizant",rank:"Intern",Start_Date:"03/2022",End_Date:"08/2022",description:["Built full-stack web applications using Spring ,Angular, JavaScript and HTML, demonstrating adaptability and earning a full-time role offer through effective collaboration."]},{company:"Virtusa",rank:"Intern Technology",Start_Date:"05/2021",End_Date:"11/2021",description:["Developed embedded device code with MicroPython and MQTT for real-time updates, deployed to 1000+ devices across 100 hospitals with strong problem-solving skills.","Optimized code for efficiency and reliability through cross-functional collaboration, ensuring seamless performance across teams."]}];var wm=[{name:"Emotion Based Music Player",type:"Android Application",description:"Created an Android music player using TensorFlow and Python, achieving 90% accuracy in real-time emotion detection with VGG16 model. Dynamically curated playlists based on 5 distinct emotions, enhancing user experience.",technologies:["TensorFlow","Python","Android Native Development","Java","Deep Learning"],githubLink:"https://github.com/GuramGanesh/Emotion-Player",videoLink:"https://drive.google.com/file/d/1XES4mJJctzV69Y71b4NdY7DDjtDYHI0Bzw/view?usp=sharing",achievements:["Achieved low-latency emotion inference optimized for mobile performance.","Seamlessly integrated AI model into Android using TFLite conversion and optimization.","Built a user-friendly UI with smooth playlist transitions and emotion-tracking visualization.","Improved user experience by offering emotion-based music curation rather than traditional genre or artist filtering."]},{name:"Hospital Inventory Management REST API",type:"Web Application",description:"Developed a NodeJS-based API with two primary routes for hospital inventory data management, showcasing leadership in scalable design. Ensured data retrieval and manipulation met practical needs.",technologies:["Node.js","MongoDB","Express.js","JavaScript"],githubLink:"https://github.com/GuramGanesh/HospitalInventoryAPI",videoLink:"https://www.youtube.com/watch?v=0g1v2x4X8aA",achievements:["Designed a RESTful API with two primary routes for hospital inventory data management.","Implemented CRUD operations for efficient data retrieval and manipulation.","Ensured the API met practical needs and was scalable for future enhancements."]},{name:"CropYieldPredictor",type:"Python Web Application",description:"Developed a web application using Flask and Python for crop yield prediction, utilizing machine learning algorithms to analyze agricultural data and provide accurate forecasts.",technologies:["Flask","Python","Machine Learning"],githubLink:"https://github.com/GuramGanesh/CropYieldPredictor",videoLink:"https://www.youtube.com/watch?v=0g1v2x4X8aA",achievements:["Implemented machine learning algorithms for accurate crop yield predictions.","Designed a user-friendly interface for easy data input and result visualization.","Optimized the application for performance and scalability."]}],Dm=["Earned 7 recognitions for driving project success and leadership at DBS Tech India, including optimizing system performance and delivering scalable solutions (2022-Present)","Awarded Super Techie Q1 2024 and Best Accelerated Promotion for technical excellence and effective communication","Honored as Best Student of the Year by Government Institute of Electronics for academic leadership and collaboration"],_o={github:"https://github.com/RamkiGanesh007",X:"https://x.com/ramkiganesh07",linkedin:"https://www.linkedin.com/in/ganesh-guram-b37455150/",medium:"https://medium.com/@gk4309303"},Cm="https://raw.githubusercontent.com/GuramGanesh/RamkiGanesh007/main/R_GaneshGuram_Latest.pdf";function AD(e,t){if(e&1&&ge(0,"img",17),e&2){let n=Tt();Ne("src",n._profileUrl,jt)}}function ID(e,t){if(e&1&&(se(0,"a",18),ge(1,"i",19),ae()),e&2){let n=Tt();Jr("href",n._github,jt)}}function TD(e,t){if(e&1&&(se(0,"a",20),ge(1,"i",21),ae()),e&2){let n=Tt();Jr("href",n._linkedin,jt)}}function MD(e,t){if(e&1&&(se(0,"a",18),ge(1,"i",22),ae()),e&2){let n=Tt();Jr("href",n._medium,jt)}}function xD(e,t){if(e&1&&(se(0,"a",23),ge(1,"i",24),ae()),e&2){let n=Tt();Jr("href",n._x,jt)}}var Sa=class e{calculateAge(t){let[n,r,i]=t.split("/").map(Number),o=new Date(i,r-1,n),s=new Date;if(isNaN(o.getTime()))return console.error("Invalid date format:",t),NaN;let l=s.getFullYear()-o.getFullYear(),d=s.getMonth()-o.getMonth();return(d<0||d===0&&s.getDate()<o.getDate())&&l--,l}_profileUrl;_userName;_userJob;_userLocation;_userEmail;_userPhone;_userDateOfBirth;_github;_linkedin;_x;_medium;constructor(){this._profileUrl=_t.profileUrl,this._github=_o.github,this._x=_o.X,this._linkedin=_o.linkedin,this._medium=_o.medium,this._userName=_t.userName,this._userJob=_t.userJob,this._userLocation=_t.userLocation,this._userDateOfBirth=_t.userDateOfBirth,this._userEmail=_t.userEmail,this._userPhone=_t.userPhone}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-Profile"]],decls:35,vars:18,consts:[["class","img-fluid rounded","alt","Profile Photo","width","260px","height","260px",3,"src",4,"ngIf"],[1,"mt-3","text-center"],[1,"text-center"],[1,"container-fluid","about-me",2,"font-size","1em"],["aria-hidden","true",1,"fa","fa-map-marker","text-right",2,"color","#333","font-size","1.8em"],["target","_blank",2,"font-size","1.3em","color","#333","text-decoration","none",3,"href"],["aria-hidden","true",1,"fa","fa-envelope-o","text-right",2,"color","#333","font-size","1.8em"],[2,"font-size","1.2em","color","#333","text-decoration","none",3,"href"],["aria-hidden","true",1,"fa","fa-phone","text-right",2,"color","#333","font-size","1.8em"],[2,"font-size","1.3em","color","#333","text-decoration","none",3,"href"],["aria-hidden","true",1,"fa","fa-birthday-cake","text-right",2,"font-size","1.8em","color","#333","font-size","1.8em"],[2,"font-size","1.3em","color","#333","text-decoration","none",3,"title"],[1,"row","d-flex","align-content-center"],[1,"col-md-12","social-media","d-flex","justify-content-between"],["target","_blank","style","color: black; text-decoration: none;",3,"href",4,"ngIf"],["target","_blank","style","color: darkblue; text-decoration: none;",3,"href",4,"ngIf"],["target","_blank","style","color: rgb(2, 2, 2); text-decoration: none;",3,"href",4,"ngIf"],["alt","Profile Photo","width","260px","height","260px",1,"img-fluid","rounded",3,"src"],["target","_blank",2,"color","black","text-decoration","none",3,"href"],["aria-hidden","true",1,"fa","fa-github","profile-icon",2,"font-size","1.5em"],["target","_blank",2,"color","darkblue","text-decoration","none",3,"href"],["aria-hidden","true",1,"fa","fa-linkedin","profile-icon",2,"font-size","1.5em"],["aria-hidden","true",1,"fa","fa-medium","profile-icon",2,"font-size","1.5em"],["target","_blank",2,"color","rgb(2, 2, 2)","text-decoration","none",3,"href"],[1,"fa","fa-brands","fa-twitter","profile-icon",2,"color","#000000","font-size","1.5em"]],template:function(n,r){n&1&&(ht(0,AD,1,1,"img",0),se(1,"h4",1)(2,"b"),Ce(3),ae()(),se(4,"h6",2),Ce(5),ae(),ge(6,"br")(7,"hr")(8,"br"),se(9,"div",3)(10,"p"),ge(11,"i",4),se(12,"a",5),Ce(13),ae()(),ge(14,"br"),se(15,"p"),ge(16,"i",6),se(17,"a",7),Ce(18),ae()(),ge(19,"br"),se(20,"p"),ge(21,"i",8),se(22,"a",9),Ce(23),ae()(),ge(24,"br"),se(25,"p"),ge(26,"i",10),se(27,"span",11),Ce(28),ae()()(),se(29,"div",12)(30,"div",13),ht(31,ID,2,1,"a",14)(32,TD,2,1,"a",15)(33,MD,2,1,"a",14)(34,xD,2,1,"a",16),ae()()),n&2&&(Ne("ngIf",r._profileUrl),be(3),st(r._userName),be(2),st(r._userJob),be(7),ei("href","https://www.google.com/maps/search/",r._userLocation,"",jt),be(),st(r._userLocation),be(4),ei("href","mailto:",r._userEmail,"",jt),be(),st(r._userEmail),be(4),ei("href","tel:",r._userPhone,"",jt),be(),st(r._userPhone),be(4),Ne("title","Age: "+r.calculateAge(r._userDateOfBirth)),be(),rr(" ",r._userDateOfBirth," "),be(3),Ne("ngIf",r._github),be(),Ne("ngIf",r._linkedin),be(),Ne("ngIf",r._medium),be(),Ne("ngIf",r._x))},dependencies:[ct,qi],styles:[".profile-icon[_ngcontent-%COMP%]{height:30px;width:30px;color:#000;padding:2px;text-align:center}.social-media[_ngcontent-%COMP%]{margin:20px 0 0;text-align:center;font-family:Inter,sans-serif;border:1px solid lightgray;border-radius:10px;padding:5px}.about-me[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:5px;width:30px}.about-me[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:.7vw}.container-fluid[_ngcontent-%COMP%]{margin-left:-15px!important}.text-center[_ngcontent-%COMP%]{font-family:Inter,sans-serif!important}"]})};var Aa=class e{title="portfolio";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-root"]],decls:14,vars:0,consts:[[1,"row","d-flex","vh-100","align-items-center",2,"margin-bottom","-20px"],[1,"col"],[1,"col-md-2"],[1,"card"],[1,"card-body","align-self-center",2,"height","700px"],[1,"col-md-6"],[2,"min-height","700px !important","background-color","#ffffff","height","700px"],[1,"d-flex","justify-content-center","mb-10"],[1,"text-grey",2,"text-decoration","solid","padding","1px"]],template:function(n,r){n&1&&(se(0,"div",0),ge(1,"div",1),se(2,"div",2)(3,"div",3)(4,"div",4),ge(5,"app-Profile"),ae()()(),se(6,"div",5)(7,"div",6),ge(8,"app-Nav")(9,"router-outlet"),ae()(),ge(10,"div",1),ae(),se(11,"div",7)(12,"p",8),Ce(13," This Application is built on Angular 19,All Copyrights Reserved@2025 "),ae()())},dependencies:[Sa,Ca,bo,po],encapsulation:2})};var Ma=Um(Tm());var RD=["pdfContainer"],Ta=class e{_resumeLink=Cm;currentScale=1.3;pdfContainer;ngAfterViewInit(){this.renderPDF(this._resumeLink)}renderPDF(t){return Ae(this,null,function*(){Ma.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";try{let n=yield Ma.getDocument(t).promise;this.pdfContainer.nativeElement.innerHTML="";for(let r=1;r<=n.numPages;r++){let i=yield n.getPage(r),o=i.getViewport({scale:this.currentScale}),s=document.createElement("canvas"),l=s.getContext("2d");s.height=o.height,s.width=o.width,yield i.render({canvasContext:l,viewport:o}).promise,this.pdfContainer.nativeElement.appendChild(s)}}catch(n){console.error("Error rendering PDF:",n)}})}zoomIn(){this.currentScale=Math.min(this.currentScale+.1,2.5),this.renderPDF(this._resumeLink)}zoomOut(){this.currentScale=Math.max(this.currentScale-.1,.8),this.renderPDF(this._resumeLink)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-resume"]],viewQuery:function(n,r){if(n&1&&Jp(RD,5),n&2){let i;Fs(i=Ls())&&(r.pdfContainer=i.first)}},decls:9,vars:0,consts:[["pdfContainer",""],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"pdf-container"],[1,"pdf-controls"],[1,"transparent-btn",3,"click"]],template:function(n,r){if(n&1){let i=$i();ge(0,"meta",1),se(1,"div",2)(2,"div",3)(3,"button",4),Cn("click",function(){return Wr(i),Gr(r.zoomOut())}),Ce(4,"\u2212"),ae(),se(5,"button",4),Cn("click",function(){return Wr(i),Gr(r.zoomIn())}),Ce(6,"+"),ae()(),ge(7,"div",null,0),ae()}},styles:[".pdf-container[_ngcontent-%COMP%]{position:relative;width:100%;height:85vh;overflow-y:auto}canvas[_ngcontent-%COMP%]{position:relative;z-index:1;margin:10px auto;box-shadow:0 2px 8px #0000001a}.transparent-btn[_ngcontent-%COMP%]:hover{background:#000c;transform:scale(1.15)}.transparent-btn[_ngcontent-%COMP%]{background:#0009;border:none;color:#fff;width:36px;height:36px;border-radius:50%;cursor:pointer;font-size:1.3rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);transition:all .2s ease;display:flex;align-items:center;justify-content:center}.pdf-controls[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;display:flex;gap:8px}"]})};var xa=class e{_userAddress;_userPhone;_userEmail;constructor(){this._userAddress=_t.userAddress,this._userPhone=_t.userPhone,this._userEmail=_t.userEmail}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-Contact"]],decls:38,vars:0,consts:[[1,"row","ml-1"],[1,"col"],[1,"testimonial-card"],["src","../assets/images/Contact.svg",1,"img-fluid","contact-image"],[1,"row"],[1,"col-md-2"],[1,"contact-card"],[1,"form-group"],[1,"mb-3"],[1,"input-group","mb-4"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user","text-info"],["type","text","id","FullName","placeholder","Full Name",1,"form-control"],[1,"fa","fa-envelope","text-info"],["type","email","id","Email","placeholder","YourMail@domain.com",1,"form-control"],["type","email","id","LinkToSocialMedia","placeholder","Your Social Media Link",1,"form-control"],[1,"fa","fa-comment","text-info"],["placeholder","Your Message",1,"form-control"],[1,"text-center"],["type","submit","value","Send",1,"btn","btn-info","btn-block","rounded-0","py-2"]],template:function(n,r){n&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),ge(3,"img",3),ae()(),se(4,"div",4),ge(5,"div",5),se(6,"div",1)(7,"div",6)(8,"form",7)(9,"h4",8),Ce(10,"Get in Touch"),ae(),se(11,"div",7)(12,"div",9)(13,"div",10)(14,"div",11),ge(15,"i",12),ae()(),ge(16,"input",13),ae()(),se(17,"div",7)(18,"div",9)(19,"div",10)(20,"div",11),ge(21,"i",14),ae()(),ge(22,"input",15),ae()(),se(23,"div",7)(24,"div",9)(25,"div",10)(26,"div",11),ge(27,"i",14),ae()(),ge(28,"input",16),ae()(),se(29,"div",7)(30,"div",9)(31,"div",10)(32,"div",11),ge(33,"i",17),ae()(),ge(34,"textarea",18),ae()(),se(35,"div",19),ge(36,"input",20),ae()()()(),ge(37,"div",5),ae()())},dependencies:[ct],styles:[".contact-card[_ngcontent-%COMP%]{width:100%;text-align:center;height:250px;font-family:Inter,sans-serif}.contact-image[_ngcontent-%COMP%]{width:240px;height:260px;display:block;margin:auto;padding-bottom:40px}.contact-card[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{font-family:Inter,sans-serif}"]})};function PD(e,t){if(e&1&&(se(0,"div",15)(1,"span",16),Ce(2,"\u2714"),ae(),se(3,"span",17),Ce(4),ae()()),e&2){let n=t.$implicit;be(4),st(n)}}var Eo=class e{aboutMe;skills;constructor(){this.aboutMe=_t.aboutMe,this.skills=_m}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-about"]],decls:19,vars:2,consts:[[1,"about-top"],[1,"row",2,"height","20%"],[1,"about-title","mx-auto"],[2,"height","70%"],[1,"about-desc"],[1,"about-content","position-relative"],[1,"row"],[1,"col-md-6"],[1,"skills-section",2,"margin-left","15%"],[2,"color","blue","margin-top","15%"],[2,"height","80%","width","100%","overflow-wrap","break-word","overflow","hidden"],[1,"skills-grid"],["class","skill-item",4,"ngFor","ngForOf"],[1,"image-section"],["src","../assets/images/Skill.svg","alt","About Image",1,"img-fluid","about-svg"],[1,"skill-item"],[1,"skill-icon",2,"margin-right","7px"],[1,"skill-name",2,"color","rgb(58, 57, 57)"]],template:function(n,r){n&1&&(se(0,"div",0)(1,"div",1)(2,"h4",2),Ce(3,"Hello, I am"),ae()(),se(4,"div",3)(5,"p",4),Ce(6),ae()()(),se(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h4",9),Ce(12,"My Skills"),ae(),se(13,"div",10),ge(14,"div",11),ht(15,PD,5,1,"div",12),ae()()(),se(16,"div",7)(17,"div",13),ge(18,"img",14),ae()()()()),n&2&&(be(6),st(r.aboutMe),be(9),Ne("ngForOf",r.skills))},dependencies:[ct,sn],styles:[".about-top[_ngcontent-%COMP%]{width:100%;height:35%;background:#c4c4c44d;border-radius:0 0 45% 15%}.about-title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;margin-top:18px;line-height:30px;text-align:center;color:#000}.about-desc[_ngcontent-%COMP%]{margin:0 50px;font-family:Inter,sans-serif;text-justify:auto;font-size:1vw;line-height:35px;text-indent:5%;color:#000}.about-content[_ngcontent-%COMP%]{width:100%;height:55%}.about-svg[_ngcontent-%COMP%]{width:300px;height:550px}.skill-box[_ngcontent-%COMP%]{width:100px;height:30px;background:#c4c4c44d;box-shadow:0 4px 4px 1px #00000040;font-family:Inter,sans-serif;text-align:center;padding:2px 4px;margin:10px;color:#000;float:left}"]})};function kD(e,t){if(e&1&&(se(0,"div",5)(1,"p",6),Ce(2),ae()()),e&2){let n=t.$implicit;be(2),st(n)}}var Ra=class e{_achievements;constructor(){this._achievements=Dm}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-achievements"]],decls:5,vars:1,consts:[[1,"achievements-container",2,"margin","5%","max-height","580px","height","100%","overflow-y","auto"],["class","achievement-card",4,"ngFor","ngForOf"],[1,"col-md-7",2,"display","flex","align-items","flex-end","justify-content","flex-start"],[1,"image-section"],["src","../assets/images/Design_Thinking.svg","alt","About Image",1,"img-fluid","about-svg",2,"width","80%"],[1,"achievement-card"],[2,"font-size","1.3em","color","#333","text-decoration","none"]],template:function(n,r){n&1&&(se(0,"div",0),ht(1,kD,3,1,"div",1),se(2,"div",2)(3,"div",3),ge(4,"img",4),ae()()()),n&2&&(be(),Ne("ngForOf",r._achievements))},dependencies:[ct,sn],styles:[".achievements-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.achievement-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a;padding:15px}.achievement-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 12px #0003}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}"]})};function ND(e,t){if(e&1&&(se(0,"li"),Ce(1),ae()),e&2){let n=t.$implicit;be(),st(n)}}function OD(e,t){if(e&1&&(se(0,"div",4)(1,"div",5)(2,"strong",6),ge(3,"i",7),Ce(4),ae(),ge(5,"hr",8),se(6,"small"),Ce(7),ae(),se(8,"ul"),ht(9,ND,2,1,"li",9),ae()()()),e&2){let n=t.$implicit,r=Tt();be(3),Ne("ngClass",n.company==="DBS Tech India"?"fa-university":"fa-building"),be(),iu(" ",n.company," ( ",n.Start_Date,"-",n.End_Date," ) - ",r.calculateYearsofExperience(n.Start_Date,n.End_Date)," "),be(3),st(n.rank),be(2),Ne("ngForOf",n.description)}}var Pa=class e{_jobs;constructor(){this._jobs=Em}calculateYearsofExperience(t,n){let r=new Date(t.split("/").reverse().join("-"));if(n==="Present"){let c=new Date;n=`${c.getDate()}/${c.getMonth()+1}/${c.getFullYear()}`}let s=(new Date(n.split("/").reverse().join("-")).getTime()-r.getTime())/(1e3*60*60*24*30.4375),l=Math.floor(s/12),d=Math.round(s%12);return l===0?`${d} Months`:d===0?`${l} Years`:`${l} Years ${d} Months`}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-experience"]],decls:4,vars:1,consts:[[1,"row","middle-line"],[1,"col","ml-3"],[2,"margin","5%","height","68%","overflow-y","auto"],["style","color: rgb(58, 57, 57);",4,"ngFor","ngForOf"],[2,"color","rgb(58, 57, 57)"],[1,"resume-card"],[1,"resume-card-title"],["aria-hidden","true",1,"fa",3,"ngClass"],[2,"margin","1px !important"],[4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),ht(3,OD,10,7,"div",3),ae()()()),n&2&&(be(3),Ne("ngForOf",r._jobs))},dependencies:[ct,fu,sn],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#d3d3d3;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}.resume-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:-4px 0 6px #0000001a,0 4px 6px #0000001a;padding:15px 20px;margin:20px 0;transition:transform .3s ease,box-shadow .3s ease;position:relative;z-index:1}.resume-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:-4px 0 12px #0003,0 12px 20px #0003;z-index:10}"]})};function FD(e,t){if(e&1&&(se(0,"li"),Ce(1),ae()),e&2){let n=t.$implicit;be(),rr(" ",n," ")}}function LD(e,t){if(e&1&&(se(0,"a",13),ge(1,"i",14),Ce(2," Code "),ae()),e&2){let n=Tt().$implicit;Ne("href",n.githubLink,jt)}}function jD(e,t){if(e&1){let n=$i();se(0,"button",15),Cn("click",function(){Wr(n);let i=Tt().$implicit,o=Tt();return Gr(o.openVideoPopup(i.videoLink))}),ge(1,"i",16),Ce(2," Video "),ae()}}function BD(e,t){if(e&1&&(se(0,"div",5)(1,"div",6)(2,"strong",7),Ce(3),ae(),ge(4,"hr",8),se(5,"p"),Ce(6),ae(),se(7,"ul"),ht(8,FD,2,1,"li",9),ae(),se(9,"p"),Ce(10),ae(),se(11,"div",10),ht(12,LD,3,1,"a",11)(13,jD,3,0,"button",12),ae()()()),e&2){let n=t.$implicit;be(3),ru(" ",n.name," - ",n.type," "),be(3),st(n.description),be(2),Ne("ngForOf",n.achievements),be(2),rr("Skills: ",n.technologies.join(" , "),""),be(2),Ne("ngIf",n.githubLink),be(),Ne("ngIf",n.videoLink)}}function VD(e,t){if(e&1){let n=$i();se(0,"div",17)(1,"div",18),ge(2,"video",19),se(3,"button",20),Cn("click",function(){Wr(n);let i=Tt();return Gr(i.closeVideoPopup())}),Ce(4,"Close"),ae()()()}}var ka=class e{_projects;isVideoPopupVisible=!1;constructor(){this._projects=wm}openVideoPopup(t){this.isVideoPopupVisible=!0;let n=document.getElementById("videoElement");n&&(n.pause(),n.src=this.getDriveDirectLink(t),n.load(),n.play())}closeVideoPopup(){this.isVideoPopupVisible=!1;let t=document.getElementById("videoElement");t&&(t.pause(),t.src="")}getDriveDirectLink(t){let n=t.match(/\/file\/d\/([^\/]+)\//);return n?`https://drive.google.com/uc?id=${n[1]}&export=download`:t}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ye({type:e,selectors:[["app-projects"]],decls:5,vars:2,consts:[[1,"row","middle-line"],[1,"col","ml-3"],[2,"margin","5%","max-height","580px","height","100%","overflow-y","auto"],["style","color: rgb(58, 57, 57);",4,"ngFor","ngForOf"],["style","position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 1000;",4,"ngIf"],[2,"color","rgb(58, 57, 57)"],[1,"resume-card"],[1,"resume-card-title"],[2,"margin","1px !important"],[4,"ngFor","ngForOf"],[1,"button-container",2,"display","flex","justify-content","flex-end","gap","10px","margin-top","10px"],["target","_blank","class","btn btn-primary",3,"href",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["target","_blank",1,"btn","btn-primary",3,"href"],[1,"fa","fa-code"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-video-camera"],[2,"position","fixed","top","0","left","0","width","100%","height","100%","background-color","rgba(0, 0, 0, 0.8)","z-index","1000"],[2,"position","relative","max-width","800px","margin","5% auto","background","#fff","padding","20px","border-radius","8px","overflow","hidden"],["id","videoElement","controls","",2,"width","100%","height","auto"],[2,"position","absolute","top","10px","right","10px","background","red","color","white","border","none","padding","5px 10px","cursor","pointer",3,"click"]],template:function(n,r){n&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),ht(3,BD,14,7,"div",3)(4,VD,5,0,"div",4),ae()()()),n&2&&(be(3),Ne("ngForOf",r._projects),be(),Ne("ngIf",r.isVideoPopupVisible))},dependencies:[ct,sn,qi],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#d3d3d3;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}.resume-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:-4px 0 6px #0000001a,0 4px 6px #0000001a;padding:15px 20px;margin:20px 0;transition:transform .3s ease,box-shadow .3s ease;position:relative;z-index:1}.resume-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:-4px 0 12px #0003,0 12px 20px #0003;z-index:10}.resume-card-title[_ngcontent-%COMP%]{font-size:1.2rem;color:#4f4e4e;margin-bottom:10px}"]})};var Mm=[{path:"about",component:Eo},{path:"contact",component:xa},{path:"projects",component:ka},{path:"experience",component:Pa},{path:"achievements",component:Ra},{path:"resume",component:Ta},{path:"**",component:Eo,pathMatch:"full"}];var xm={production:!1};xm.production&&void 0;Du(Aa,{providers:[Qu(Mm)]}).catch(e=>console.error(e));
